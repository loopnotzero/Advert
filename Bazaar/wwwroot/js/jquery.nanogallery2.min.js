/**!
 * @preserve nanogallery2 - javascript photo / video gallery and lightbox
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
 * Requirements:
 *  - jQuery (http://www.jquery.com) - version >= 1.7.1
 *
 * Embeded components:
 *  - shifty (https://github.com/jeremyckahn/shifty)
 *  - imagesloaded (https://github.com/desandro/imagesloaded)
 *  - hammer.js (http://hammerjs.github.io/)
 *  - screenfull.js (https://github.com/sindresorhus/screenfull.js)
 * Tools:
 *  - webfont generated with http://fontello.com - mainly based on Font Awesome Copyright (C) 2012 by Dave Gandy (http://fontawesome.io/)
 *  - ICO online converter: https://iconverticons.com/online/
 */
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"&&typeof require=="function"?n(require("jquery")):n(jQuery)})(function(n){"use strict";function f(n){var t=document.getElementById("ngyColorHelperToRGB");return t===null&&(t=document.createElement("div"),t.id="ngyColorHelperToRGB",t.style.cssText="display: none; color:"+n+";",document.body.appendChild(t)),getComputedStyle(t).color}function u(n,t,i){function h(n){var i=n.length,t={};if(i>9){if(n=n.split(","),n.length<3||n.length>4)return null;t[0]=e(n[0].slice(4));t[1]=e(n[1]);t[2]=e(n[2]);t[3]=n[3]?parseFloat(n[3]):-1}else{if(i==8||i==6||i<4)return null;i<6&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+(i>4?n[4]+""+n[4]:""));n=e(n.slice(1),16);t[0]=n>>16&255;t[1]=n>>8&255;t[2]=n&255;t[3]=i==9||i==5?f((n>>24&255)/255*1e4)/1e4:-1}return t}var s="";if(t.toUpperCase().substring(0,5)=="RGBA("&&(s="a",t="rgb("+t.substring(5)),typeof n!="number"||n<-1||n>1||typeof t!="string"||t[0]!="r"&&t[0]!="#"||typeof i!="string"&&typeof i!="undefined")return null;var e=parseInt,f=Math.round,o=t.length>9,o=typeof i=="string"?i.length>9?!0:i=="c"?!o:!1:o,c=n<0,n=c?n*-1:n,i=i&&i!="c"?i:c?"#000000":"#FFFFFF",r=h(t),u=h(i);return!r||!u?null:o?"rgb"+s+"("+f((u[0]-r[0])*n+r[0])+","+f((u[1]-r[1])*n+r[1])+","+f((u[2]-r[2])*n+r[2])+(r[3]<0&&u[3]<0?")":","+(r[3]>-1&&u[3]>-1?f(((u[3]-r[3])*n+r[3])*1e4)/1e4:u[3]<0?r[3]:u[3])+")"):"#"+(4294967296+(r[3]>-1&&u[3]>-1?f(((u[3]-r[3])*n+r[3])*255):u[3]>-1?f(u[3]*255):r[3]>-1?f(r[3]*255):255)*16777216+f((u[0]-r[0])*n+r[0])*65536+f((u[1]-r[1])*n+r[1])*256+f((u[2]-r[2])*n+r[2])).toString(16).slice(r[3]>-1||u[3]>-1?1:3)}function t(n){var i,r;if(n===null||typeof n!="object")return n;i=n.constructor();for(r in n)i[r]=t(n[r]);return i}function r(){var n=jQuery(window);return{l:n.scrollLeft(),t:n.scrollTop(),w:n.width(),h:n.height()}}function e(n,t){var i=0;n==""&&(n="*");jQuery(n).each(function(){var n=parseInt(jQuery(this).css("z-index"));i=n>i?n:i});i++;jQuery(t).css("z-index",i)}function o(){function si(n){this.$e=null;this.ngy2ItemIdx=n;this.mediaNumber=0;this.posX=0;this.posY=0}function du(){if(o.albumListHidden.length>0){jQuery.nanogallery2["data_"+o.O.kind](o,"GetHiddenAlbums",o.albumListHidden,lr);return}sr()||lr()}function lr(){if(o.O.openOnStart!=""){var n=ci(o.O.openOnStart);n.imageID!="0"?ni(n.imageID,n.albumID):c("-1",n.albumID)}else c("-1",0)}function ci(n){var i={albumID:"0",imageID:"0"},t=n.split("/");return t.length>0&&(i.albumID=t[0],t.length>1&&(i.imageID=t[1])),i}function c(n,t){o.VOM.viewerDisplayed&&at(null);var i=NGY2Item.GetIdx(o,t);if(o.GOM.curNavLevel="lN",i==0&&(o.GOM.curNavLevel="l1"),o.layout.SetEngine(),o.galleryResizeEventEnabled=!1,i==-1&&(NGY2Item.New(o,"","",t,"0","album"),i=o.I.length-1),!o.I[i].contentIsLoaded){wi(t,c,n,t);return}su();o.GOM.pagination.currentPage=0;oi(t,"");g(i)}function gu(){switch(o.galleryDisplayMode.Get()){case"PAGINATION":o.layout.support.rows&&o.galleryMaxRows.Get()>0&&rf(o.GOM.albumIdx);break;case"MOREBUTTON":o.$E.conTnBottom.off("click");var n=o.GOM.items.length-o.GOM.itemsDisplayed;if(n==0)o.$E.conTnBottom.empty();else{o.$E.conTnBottom.html('<div class="nGY2GalleryMoreButton"><div class="nGY2GalleryMoreButtonAnnotation">+'+n+" "+o.O.icons.galleryMoreButton+"<\/div><\/div>");o.$E.conTnBottom.on("click",function(){o.GOM.displayedMoreSteps++;w()})}}}function wt(n){var i="",t;o.O.breadcrumbHideIcons||(i=o.O.icons.breadcrumbAlbum,n==0&&(i=o.O.icons.breadcrumbHome));t=jQuery('<div class="oneItem">'+i+o.I[n].title+"<\/div>").appendTo(o.GOM.navigationBar.$newContent.find(".nGY2Breadcrumb"));o.O.breadcrumbOnlyCurrentLevel?n==0?jQuery(t).data("albumID","0"):jQuery(t).data("albumID",o.I[n].albumID):jQuery(t).data("albumID",o.I[n].GetID());t.click(function(){var n=jQuery(this).data("albumID");c("-1",n);return})}function bt(n){var t=jQuery('<div class="oneItem">'+(o.O.RTL?o.O.icons.breadcrumbSeparatorRtl:o.O.icons.breadcrumbSeparator)+"<\/div>").appendTo(o.GOM.navigationBar.$newContent.find(".nGY2Breadcrumb"));jQuery(t).data("albumIdx",n);t.click(function(){var n=jQuery(this).data("albumIdx");c("-1",o.I[n].GetID());return})}function nf(n){var r,u,e,y,i,f,t,a,v;if(o.GOM.navigationBar.$newContent=jQuery('<div class="nGY2Navigationbar"><\/div>'),o.O.displayBreadcrumb==!0&&!o.O.thumbnailAlbumDisplayImage){if(r=0,u=[],n!=0)for(e=o.I.length,y=0,u.push(n),i=n,r++;o.I[i].albumID!=0&&o.I[i].albumID!=-1;)for(t=1;t<e;t++)if(o.I[t].GetID()==o.I[i].albumID){i=t;u.push(i);r++;break}o.O.breadcrumbAutoHideTopLevel&&r==0||tf(u)}if(o.galleryFilterTags.Get()!=!1&&(f=o.I[n].albumTagList.length,f>0)){for(t=0;t<f;t++){var s=o.I[n].albumTagList[t],h=o.O.icons.navigationFilterUnselected,l="Unselected";jQuery.inArray(s,o.I[n].albumTagListSel)>=0&&(l="Selected",h=o.O.icons.navigationFilterSelected);a=jQuery('<div class="nGY2NavigationbarItem nGY2NavFilter'+l+'">'+h+" "+s+"<\/div>").appendTo(o.GOM.navigationBar.$newContent);a.click(function(){var t=jQuery(this),r=t.text().replace(/^\s*|\s*$/,""),i;t.hasClass("nGY2NavFilterUnselected")?o.I[n].albumTagListSel.push(r):(i=jQuery.inArray(r,o.I[n].albumTagListSel),i!=-1&&o.I[n].albumTagListSel.splice(i,1));t.toggleClass("nGY2NavFilters-oneTagUnselected nGY2NavFilters-oneTagSelected");c("-1",o.I[n].GetID())})}v=jQuery('<div class="nGY2NavigationbarItem nGY2NavFilterSelectAll">'+o.O.icons.navigationFilterSelectedAll+"<\/div>").appendTo(o.GOM.navigationBar.$newContent);v.click(function(){var r=o.I[n].albumTagList.length,t,i;for(o.I[n].albumTagListSel=[],t=0;t<r;t++)i=o.I[n].albumTagList[t],o.I[n].albumTagListSel.push(i);c("-1",o.I[n].GetID())})}}function tf(n){var i,t;if(jQuery('<div class="nGY2NavigationbarItem nGY2Breadcrumb"><\/div>').appendTo(o.GOM.navigationBar.$newContent),o.O.breadcrumbOnlyCurrentLevel)n.length==0?wt(0):(i=n.length-1,n.length==1?bt(0):bt(n[0]),wt(n[0]));else if(wt(0),n.length>0)for(bt(0),t=n.length-1;t>=0;t--)wt(n[t]),t>0&&bt(n[t-1])}function rf(){var n,c,t,i,v,r,e,u,f,s,h,a;if((o.$E.conTnBottom.css("opacity",0),o.$E.conTnBottom.children().remove(),o.GOM.items.length!=0)&&(n=Math.ceil((o.GOM.items[o.GOM.items.length-1].row+1)/o.galleryMaxRows.Get()),n!=1)&&(o.GOM.pagination.currentPage>n-1&&(o.GOM.pagination.currentPage=n-1),ar(),o.GOM.displayInterval.len!=0)){for(o.O.galleryPaginationMode=="NUMBERS"&&o.GOM.pagination.currentPage>0&&(c=jQuery('<div class="nGY2PaginationPrev">'+o.O.icons.paginationPrevious+"<\/div>").appendTo(o.$E.conTnBottom),c.click(function(){ai()})),t=0,i=n,o.O.galleryPaginationMode!="NUMBERS"?t=0:(v=o.O.paginationVisiblePages,r=o.O.paginationVisiblePages,r>=n?t=0:(e=0,e=uf(r)?(r+1)/2:r/2,o.GOM.pagination.currentPage<e?(t=0,i=r-1,i>n&&(i=n-1)):(t=o.GOM.pagination.currentPage-e,i=t+r,i>n&&(i=n-1)),i-t<r&&(t=i-r,t<0&&(t=0)))),u=t;u<i;u++){f="";s="";switch(o.O.galleryPaginationMode){case"NUMBERS":f="nGY2paginationItem";s=u+1;break;case"DOTS":f="nGY2paginationDot";break;case"RECTANGLES":f="nGY2paginationRectangle"}u==o.GOM.pagination.currentPage&&(f+="CurrentPage");h=jQuery('<div class="'+f+'">'+s+"<\/div>").appendTo(o.$E.conTnBottom);h.data("pageNumber",u);h.click(function(){o.GOM.pagination.currentPage=jQuery(this).data("pageNumber");l("pageChanged");b(!0);k(!0)})}o.O.galleryPaginationMode=="NUMBERS"&&o.GOM.pagination.currentPage+1<n&&(a=jQuery('<div class="nGY2PaginationNext">'+o.O.icons.paginationNext+"<\/div>").appendTo(o.$E.conTnBottom),a.click(function(){li()}));o.$E.conTnBottom.css("opacity",1)}}function uf(n){return n%2==1}function li(){var r=o.GOM.albumIdx,t=0,i,n;ft();o.galleryMaxRows.Get()>0&&(t=(o.GOM.items[o.GOM.items.length-1].row+1)/o.galleryMaxRows.Get());i=Math.ceil(t);n=o.GOM.pagination.currentPage;n<i-1?n++:n=0;o.GOM.pagination.currentPage=n;l("pageChanged");b(!0);k(!0)}function ai(){var r=o.GOM.albumIdx,t=0,i,n;ft();o.galleryMaxRows.Get()>0&&(t=(o.GOM.items[o.GOM.items.length-1].row+1)/o.galleryMaxRows.Get());i=Math.ceil(t);n=o.GOM.pagination.currentPage;n>0?n--:n=i-1;o.GOM.pagination.currentPage=n;l("pageChanged");b(!0);k(!0)}function ar(){var r,t,n,i;o.GOM.displayInterval.from=0;o.GOM.displayInterval.len=o.I.length;switch(o.galleryDisplayMode.Get()){case"PAGINATION":if(o.layout.support.rows){var r=o.GOM.items.length,u=o.GOM.pagination.currentPage*o.galleryMaxRows.Get(),t=u+o.galleryMaxRows.Get(),f=-1;for(o.GOM.displayInterval.len=0,n=0;n<r;n++)i=o.GOM.items[n],i.row>=u&&i.row<t&&(f==-1&&(o.GOM.displayInterval.from=n,f=n),o.GOM.displayInterval.len++)}break;case"MOREBUTTON":if(o.layout.support.rows)for(r=o.GOM.items.length,t=o.O.galleryDisplayMoreStep*(o.GOM.displayedMoreSteps+1),o.GOM.displayInterval.len=0,n=0;n<r;n++)i=o.GOM.items[n],i.row<t&&o.GOM.displayInterval.len++;break;case"ROWS":if(o.layout.support.rows)for(r=o.GOM.items.length,t=o.galleryMaxRows.Get(),o.galleryLastRowFull.Get()&&o.GOM.lastFullRow!=-1&&t>o.GOM.lastFullRow+1&&(t=o.GOM.lastFullRow+1),o.GOM.displayInterval.len=0,n=0;n<r;n++)i=o.GOM.items[n],i.row<t&&o.GOM.displayInterval.len++;break;default:case"FULLCONTENT":if(o.layout.support.rows&&o.galleryLastRowFull.Get()&&o.GOM.lastFullRow!=-1)for(r=o.GOM.items.length,t=o.GOM.lastFullRow+1,o.GOM.displayInterval.len=0,n=0;n<r;n++)i=o.GOM.items[n],i.row<t&&o.GOM.displayInterval.len++}}function g(n){var t,i,r,u;l("galleryRenderStart");clearTimeout(o.GOM.slider.timerID);o.GOM.slider.hostIdx=-1;t=o.O.fnGalleryRenderStart;t!==null&&(typeof t=="function"?t(n):window[t](n));o.layout.SetEngine();o.galleryResizeEventEnabled=!1;o.GOM.albumIdx=-1;o.GOM.lastDisplayedIdx=-1;o.$E.conTnBottom!==undefined&&o.$E.conTnBottom.empty();nf(n);o.GOM.firstDisplay?(o.GOM.firstDisplay=!1,i=Date.now()-o.GOM.firstDisplayTime,i<o.O.galleryRenderDelay?requestTimeout(function(){kt(n)},o.O.galleryRenderDelay-i):kt(n),o.O.galleryRenderDelay=0):(r=!1,o.GOM.navigationBar.$newContent.children().length==0&&(r=!0),u=new NGTweenable,u.tween({from:{opacity:1},to:{opacity:0},duration:300,easing:"easeInQuart",attachment:{h:r},step:function(n,t){o.$E.conTnParent.css({opacity:n.opacity});t.h&&o.$E.conNavigationBar.css({opacity:n.opacity})},finish:function(t,i){i.h&&o.$E.conNavigationBar.css({opacity:0,display:"none"});var r=o.$E.base.offset().top;r<o.GOM.cache.viewport.t?jQuery("html, body").animate({scrollTop:r},500,"linear",function(){kt(n)}):kt(n)}}))}function kt(n){var i=o.$E.conNavigationBar.children().length,t;o.$E.conNavigationBar.empty();o.GOM.navigationBar.$newContent.children().clone(!0,!0).appendTo(o.$E.conNavigationBar);o.$E.conNavigationBar.children().length>0&&i==0?(o.$E.conNavigationBar.css({opacity:0,display:"block"}),t=new NGTweenable,t.tween({from:{opacity:0},to:{opacity:1},duration:200,easing:"easeInQuart",step:function(n){o.$E.conNavigationBar.css(n)},finish:function(){o.$E.conNavigationBar.css({opacity:1});requestTimeout(function(){vr(n)},60)}})):requestTimeout(function(){vr(n)},60)}function vr(n){var r,i,t;for(o.GOM.lastZIndex=parseInt(o.$E.base.css("z-index")),isNaN(o.GOM.lastZIndex)&&(o.GOM.lastZIndex=0),o.$E.conTnParent.css({opacity:0}),o.$E.conTn.off().empty(),r=o.I.length,i=0;i<r;i++)t=o.I[i],t.hovered=!1,t.$elt=null,t.$Elts=[],t.eltTransform=[],t.eltFilter=[],t.width=0,t.height=0,t.left=0,t.top=0,t.resizedContentWidth=0,t.resizedContentHeight=0,t.thumbnailImgRevealed=!1;o.CSStransformName==null?o.$E.conTn.css("left","0px"):o.$E.conTn.css(o.CSStransformName,"none");requestTimeout(function(){ff(n)},60)}function ff(n){var i=new Date,t;o.$E.conTnParent.css("opacity",1);o.GOM.items=[];o.GOM.displayedMoreSteps=0;o.tn.labelHeight[o.GOM.curNavLevel]=o.O.thumbnailLabel.get("position")=="onBottom"?vf():0;o.GOM.albumIdx=n;l("galleryRenderEnd");t=o.O.fnGalleryRenderEnd;t!==null&&(typeof t=="function"?t(n):window[t](n));ef()?(vi(),gf(),b(!1),requestTimeout(function(){k(!1)},120)):o.galleryResizeEventEnabled=!0;o.O.debugMode&&console.log("GalleryRenderPart3: "+(new Date-i))}function w(){var n=new Date;if(o.galleryResizeEventEnabled=!1,vi()==!1){o.galleryResizeEventEnabled=!0;o.O.debugMode&&console.log("GalleryResize1: "+(new Date-n));return}o.O.debugMode&&console.log("GalleryResizeSetLayout: "+(new Date-n));b(!1);k(!1);o.O.debugMode&&console.log("GalleryResizeFull: "+(new Date-n))}function ef(){for(var n,t,i,c,r,f,a,e="",s=!1,v=o.I[o.GOM.albumIdx].GetID(),y=o.I.length,h=0,u=0;u<y;u++)n=o.I[u],n.isToDisplay(v)&&(t=n.thumbImg().width,i=n.thumbImg().height,o.layout.prerequisite.imageSize&&(t==0||i==0)&&(s=!0,e+='<img src="'+n.thumbImg().src+'" data-idx="'+h+'" data-albumidx="'+o.GOM.albumIdx+'">'),i==0&&(i=o.tn.defaultSize.getHeight()),t==0&&(t=o.tn.defaultSize.getWidth()),c=new o.GOM.GTn(u,t,i),o.GOM.items.push(c),h++);if(l("galleryObjectModelBuilt"),r=o.O.fnGalleryObjectModelBuilt,r!==null&&(typeof r=="function"?r():window[r]()),s){f=jQuery(e);a=ngimagesLoaded(f);f=null;a.on("progress",function(n,t){var e,s,r,u,f,i;if(t.isLoaded&&(e=t.img.getAttribute("data-idx"),s=t.img.getAttribute("data-albumidx"),s==o.GOM.albumIdx)){r=o.GOM.items[e];r.imageWidth=t.img.naturalWidth;r.imageHeight=t.img.naturalHeight;u=o.I[r.thumbnailIdx];u.thumbs.width[o.GOM.curNavLevel][o.GOM.curWidth]=r.imageWidth;u.thumbs.height[o.GOM.curNavLevel][o.GOM.curWidth]=r.imageHeight;o.GalleryResizeThrottled();f=u.thumbs.width.l1;for(i in f)f.hasOwnProperty(i)&&i!=o.GOM.curWidth&&o.tn.settings.width.l1[i]==o.tn.settings.getW()&&o.tn.settings.height.l1[i]==o.tn.settings.getH()&&(u.thumbs.width.l1[i]=r.imageWidth,u.thumbs.height.l1[i]=r.imageHeight);f=u.thumbs.width.lN;for(i in f)f.hasOwnProperty(i)&&i!=o.GOM.curWidth&&o.tn.settings.width.lN[i]==o.tn.settings.getW()&&o.tn.settings.height.lN[i]==o.tn.settings.getH()&&(u.thumbs.width.lN[i]=r.imageWidth,u.thumbs.height.lN[i]=r.imageHeight)}});return o.galleryResizeEventEnabled=!0,!1}return!0}function vi(){var n=!0,t;o.GOM.cache.areaWidth=o.$E.conTnParent.width();o.GOM.displayArea={width:0,height:0};switch(o.layout.engine){case"JUSTIFIED":n=sf();break;case"CASCADING":n=of();break;case"MOSAIC":n=hf();break;case"GRID":default:n=cf()}return l("galleryLayoutApplied"),t=o.O.fnGalleryLayoutApplied,t!==null&&(typeof t=="function"?t():window[t]()),n}function of(){var e=0,c=o.GOM.cache.areaWidth,nt=0,u=[],t=gr(c),r=0,p=o.tn.opt.Get("gutterHeight"),s=1,i=o.tn.defaultSize.getOuterWidth(),tt=o.GOM.items.length,w=0,it,b,l,rt,a,v,n,k,h,d,f,g;for(o.O.thumbnailAlignment=="justified"?(t=Math.min(t,tt),r=t==1?0:(c-t*i)/(t-1)):r=o.tn.opt.Get("gutterWidth"),it=o.tn.borderWidth*2,b=o.tn.borderHeight*2,o.GOM.lastFullRow=-1,o.O.thumbnailAlignment=="fillWidth"&&(l=(t-1)*r,s=(c-l)/(t*i),s>1&&t++,l=(t-1)*r,s=Math.min((c-l)/(t*i),1)),i=i*s,rt=i-it,a=o.tn.opt.Get("baseGridHeight")*s,v=0;v<tt;v++){if(n=o.GOM.items[v],n.deleted==!0)break;if(n.imageHeight>0&&n.imageWidth>0){var y=0,w=0,ut=n.imageHeight/n.imageWidth;if(n.resizedContentWidth=rt,n.resizedContentHeight=n.resizedContentWidth*ut,a>0&&(k=Math.max(Math.trunc(n.resizedContentHeight/a),1),n.resizedContentHeight=a*k+(k-1)*(b+p)),n.height=n.resizedContentHeight+b+o.tn.labelHeight.get(),n.width=i,n.row=0,nt==0)y=e*(i+r),u[e]=n.height+p,e++,e>=t&&(e=0,nt++);else{for(h=0,d=u[0],f=1;f<t;f++)u[f]+5<d&&(d=u[f],h=f);w=u[h];y=h*(i+r);u[h]=w+n.height+p}g=y;o.O.RTL&&(g=0-y-i);n.left=g;n.top=w}}return o.GOM.displayArea.width=t*(i+r)-r,!0}function sf(){for(var ut,st,b,w,r,ft,et,ot,h,lt,n,c=0,f=o.GOM.cache.areaWidth,u=0,k=0,l=[],t=0,e=[],d=!1,g=0,a=o.tn.opt.Get("gutterWidth"),ht=o.tn.opt.Get("gutterHeight"),nt=0,tt=0,v=!1,y=!1,it=o.tn.defaultSize.getOuterHeight(),s=o.tn.borderWidth*2,ct=o.tn.borderHeight*2,p=1,rt=o.GOM.items.length,i=0;i<rt;i++){if(n=o.GOM.items[i],n.deleted==!0)break;n.imageWidth>0&&(w=n.imageWidth/n.imageHeight,r=Math.floor(it*w),d&&(d=!1,t++,c=0,v=!1,y=!1,p=1),n.imageHeight>n.imageWidth?v=!0:y=!0,c+a+r<f-p*s?(c+=r+a,e[t]=it,ut=Math.max(v?nt:0,y?tt:0),ut>0&&(e[t]=Math.min(e[t],ut)),l[t]=i):(c+=a+r,st=(f-p*s)/c,b=Math.floor(it*st),e[t]=b,v&&(nt=Math.max(nt,b)),y&&(tt=Math.max(tt,b)),l[t]=i,d=!0),g++,p++)}for(t=0,k=0,u=0,g=0,o.GOM.lastFullRow=0,i=0;i<rt;i++)if(n=o.GOM.items[i],n.imageWidth>0)w=n.imageWidth/n.imageHeight,r=Math.floor(w*e[t]),i==l[t]&&(l.length!=t+1?r=f-u-s:u+a+r+s>f&&(r=f-u-s)),ft=parseInt(e[t]),r=parseInt(r),n.resizedContentWidth=r,n.resizedContentHeight=ft,n.width=r+s,n.height=ft+o.tn.labelHeight.get()+ct,n.row=t,n.top=k,et=u,o.O.RTL&&(et=f-u-n.width),n.left=et,u+=n.width+a,i==l[t]&&(k+=n.height+ht,o.GOM.lastFullRow=t-1,t++,u=0),g++;else return!1;if(!1&&(ot=0,typeof GOMidx!="undefined"&&o.GOM.albumIdx!=-1))for(h=o.GOM.items[GOMidx],lt=o.I[h.thumbnailIdx],h.width+=40,h.height+=40,i=0;i<rt;i++)n=o.GOM.items[i],n.imageWidth>0&&(n.row==h.row?(ot=40,h.thumbnailIdx!=n.thumbnailIdx&&(n.top+=30,n.width-=20,n.height-=20)):n.row==0||(n.top+=ot));return o.GOM.displayArea.width=f,!0}function hf(){for(var h,f,t,n,p=o.GOM.cache.areaWidth,l=o.tn.opt.Get("gutterHeight"),e=o.tn.opt.Get("gutterWidth"),w=o.tn.borderWidth*2,b=o.tn.borderHeight*2,y=o.GOM.items.length,r=0,a=0,i=0,v=0,c=0,s=o.tn.settings.getMosaic(),u=0;u<y;u++){var n=s[i],k=(n.c-1)*o.tn.defaultSize.getOuterWidth()+(n.c-1)*e,d=n.w*o.tn.defaultSize.getOuterWidth()+(n.w-1)*e;if(c=Math.max(c,k+d),v=Math.max(v,n.c-1+n.w),i++,i>=s.length)break}for(h=(v-1)*e,f=Math.min((p-h)/(c-h),1),r=0,i=0,s=o.tn.settings.getMosaic(),u=0;u<y;u++)t=o.GOM.items[u],n=s[i],t.top=(n.r-1)*o.tn.defaultSize.getOuterHeight()*f+(n.r-1)*l+r*a+o.tn.labelHeight.get()*(n.r-1),r>0&&(t.top+=l),t.left=(n.c-1)*o.tn.defaultSize.getOuterWidth()*f+(n.c-1)*e,t.height=n.h*o.tn.defaultSize.getOuterHeight()*f+(n.h-1)*l+o.tn.labelHeight.get()*n.h,t.resizedContentHeight=t.height-o.tn.labelHeight.get()-b,t.width=n.w*o.tn.defaultSize.getOuterWidth()*f+(n.w-1)*e,t.resizedContentWidth=t.width-w,t.row=r,r==0&&(a=Math.max(a,t.top+t.height)),i++,i>=s.length&&(i=0,r++);return o.GOM.displayArea.width=(c-h)*f+h,!0}function cf(){var r=0,c=0,e=o.GOM.cache.areaWidth,s=0,g=o.tn.opt.Get("gutterHeight"),n=gr(e),y=0,p=[],u=0,w=e,t=o.tn.defaultSize.getOuterWidth(),f=1,b=o.GOM.items.length,nt=o.tn.borderWidth*2,tt=o.tn.borderHeight*2,h,k,l,a,v,i;o.O.thumbnailAlignment=="justified"?(n=Math.min(n,b),s=n==1?0:(e-n*t)/(n-1)):s=o.tn.opt.Get("gutterWidth");(o.O.RTL||o.O.thumbnailAlignment=="fillWidth")&&(h=(n-1)*s,f=(e-h)/(n*t),f>1&&n++,h=(n-1)*s,f=Math.min((e-h)/(n*t),1),w=n*t+h);o.GOM.lastFullRow=0;k=0;l=0;t=t*f;var it=t-nt,d=o.tn.defaultSize.getOuterHeight()*f+o.tn.labelHeight.get(),rt=o.tn.defaultSize.getOuterHeight()*f-tt;for(a=0;a<b;a++)c==0?(r=u*(t+s),p[u]=r,y=r+t):r=p[u],v=r,o.O.RTL&&(v=parseInt(w)-r-t),i=o.GOM.items[a],i.top=c,i.left=v,i.height=d,i.width=t,o.O.thumbnailAlignment=="fillWidth"&&(i.resizedContentWidth=it,i.resizedContentHeight=rt),i.row=l,k=c,u++,u>=n&&(u=0,c+=d+g,o.GOM.lastFullRow=l,l++);return o.GOM.displayArea.width=y,!0}function b(){o.CSStransformName==null?o.$E.conTn.css("left","0px"):o.$E.conTn.css(o.CSStransformName,"none");lf()}function lf(){o.GOM.cache.viewport=r();o.GOM.cache.areaWidth=o.$E.conTnParent.width();o.GOM.cache.containerOffset=o.$E.conTnParent.offset()}function k(n){var f=o.GOM.items.length,c,u,e,s,h,i,a,y,r,v,p,t;for(o.GOM.itemsDisplayed=0,c=50,u=0,ar(),t=0;t<f;t++)i=o.GOM.items[t],t>=o.GOM.displayInterval.from&&u<o.GOM.displayInterval.len?(i.inDisplayArea=!0,n&&(i.neverDisplayed=!0),o.GOM.itemsDisplayed++,u++):i.inDisplayArea=!1;for(gu(),e=[],s=[],o.GOM.clipArea.top=-1,u=0,h=-1,o.GOM.clipArea.height=0,t=0;t<f;t++)i=o.GOM.items[t],i.inDisplayArea?(o.GOM.clipArea.top==-1&&(o.GOM.clipArea.top=i.top),i.top-o.GOM.clipArea.top<=-1&&(o.GOM.clipArea.top=i.top),o.GOM.clipArea.height=Math.max(o.GOM.clipArea.height,i.top-o.GOM.clipArea.top+i.height),i.neverDisplayed?(a=o.GOM.cache.containerOffset.top+(i.top-o.GOM.clipArea.top),a+i.height>=o.GOM.cache.viewport.t-c&&a<=o.GOM.cache.viewport.t+o.GOM.cache.viewport.h+c&&(r=o.I[i.thumbnailIdx],r.$elt==null&&pf(r,i.thumbnailIdx,t,t+1==f),e.push({idx:t,delay:u}),u++)):s.push({idx:t,delay:0}),h=t):(i.displayed=!1,r=o.I[i.thumbnailIdx],r.$elt!=null&&r.$elt.css({opacity:0,display:"none"}));if(y=o.$E.conTnParent.width(),(o.GOM.displayArea.width!=o.GOM.displayAreaLast.width||o.GOM.clipArea.height!=o.GOM.displayAreaLast.height)&&(o.$E.conTn.width(o.GOM.displayArea.width).height(o.GOM.clipArea.height),o.GOM.displayAreaLast.width=o.GOM.displayArea.width,o.GOM.displayAreaLast.height=o.GOM.clipArea.height),y!=o.$E.conTnParent.width()){o.GOM.cache.areaWidth=o.$E.conTnParent.width();vi();b(n);k(n);return}for(o.layout.support.rows&&(o.galleryDisplayMode.Get()=="ROWS"||o.galleryDisplayMode.Get()=="FULLCONTENT"&&o.galleryLastRowFull.Get()&&o.GOM.lastFullRow!=-1)&&(o.GOM.lastDisplayedIdxNew=h<f-1?h:-1,o.GOM.lastDisplayedIdx!=-1&&(r=o.I[o.GOM.items[o.GOM.lastDisplayedIdx].thumbnailIdx],r.$getElt(".nGY2GThumbnailIconsFullThumbnail").html(""))),v=e.length,o.GOM.thumbnails2Display=[],t=0;t<v;t++)yr(e[t].idx,t);for(p=s.length,t=0;t<p;t++)yr(s[t].idx,t);df();o.tn.opt.Get("displayTransition")=="NONE"?(o.galleryResizeEventEnabled=!0,l("galleryDisplayed")):requestTimeout(function(){o.galleryResizeEventEnabled=!0;l("galleryDisplayed")},v*o.tn.opt.Get("displayInterval"))}function yr(n,t){var e=0,i=o.GOM.items[n],a=o.GOM.items[n].thumbnailIdx,r=o.I[a],c,h,f,u,l,s;if(i.neverDisplayed){if(f=i.top-o.GOM.clipArea.top,o.tn.opt.Get("stacks")>0?(r.$elt.last().css({display:"block"}),r.$elt.css({top:f,left:i.left})):r.$elt.css({display:"block",top:f,left:i.left}),e=f,o.O.thumbnailWaitImageLoaded===!0){c=ngimagesLoaded(r.$getElt(".nGY2TnImg2"));c.on("progress",function(n,t){var i,r;t.isLoaded&&(i=t.img.getAttribute("data-albumidx"),i==o.GOM.albumIdx&&(r=t.img.getAttribute("data-idx"),o.I[r].ThumbnailImageReveal()))})}bf(n,t);i.displayed=!0;i.neverDisplayed=!1}else h=o.GOM.cache.containerOffset.top+r.top,f=o.GOM.cache.containerOffset.top+(i.top-o.GOM.clipArea.top),e=i.top-o.GOM.clipArea.top,u=o.GOM.cache.viewport,o.O.thumbnailDisplayOutsideScreen||h+i.height>=u.t-u.h&&h<=u.t+u.h*4||f+i.height>=u.t-u.h&&f<=u.t+u.h*4?i.displayed?(r.top!=i.top||r.left!=i.left)&&(o.O.galleryResizeAnimation==!0?(l=new NGTweenable,l.tween({from:{top:r.top,left:r.left,height:r.height,width:r.width},to:{top:e,left:i.left,height:i.height,width:i.width},attachment:{$e:r.$elt},duration:100,delay:t*o.tn.opt.Get("displayInterval")/5,easing:"easeOutQuart",step:function(n,t){t.$e.css(n)},finish:function(){var n=this;n.dispose()}})):r.$elt.css({top:e,left:i.left})):(i.displayed=!0,r.$elt.css({display:"block",top:e,left:i.left,opacity:1}),gt(r)):(i.displayed=!1,r.$elt.css({display:"none"}));r.left=i.left;r.top=e;(r.width!=i.width||r.height!=i.height)&&(r.$elt.css({width:i.width,height:i.height}),r.width=i.width,r.height=i.height,(r.resizedContentWidth!=i.resizedContentWidth||r.resizedContentHeight!=i.resizedContentHeight)&&(r.kind=="albumUp"||(r.$getElt(".nGY2GThumbnailImage").css({height:i.resizedContentHeight,width:i.resizedContentWidth}),o.layout.engine=="JUSTIFIED"&&r.$getElt(".nGY2GThumbnailImg").css({height:i.resizedContentHeight,width:i.resizedContentWidth})),r.resizedContentWidth=i.resizedContentWidth,r.resizedContentHeight=i.resizedContentHeight));o.GOM.lastDisplayedIdxNew==n&&o.layout.support.rows&&(o.galleryDisplayMode.Get()=="ROWS"&&o.galleryMaxRows.Get()>0||o.galleryDisplayMode.Get()=="FULLCONTENT"&&o.galleryLastRowFull.Get()&&o.GOM.lastFullRow!=-1)&&(s=o.GOM.items.length-n-1,r.albumID!="0"&&o.O.thumbnailLevelUp&&s--,s>0?((o.O.thumbnailOpenImage||o.O.thumbnailSliderDelay>0)&&r.$getElt(".nGY2GThumbnailIconsFullThumbnail").html("+"+s),o.GOM.slider.hostItem!=o.GOM.NGY2Item(n)&&(yi(o.GOM.slider.hostItem),o.GOM.slider.hostIdx=n,o.GOM.slider.hostItem=o.GOM.NGY2Item(n),o.GOM.slider.nextIdx=n,o.GOM.slider.currentIdx=n,af())):(yi(o.GOM.slider.hostItem),o.GOM.slider.hostIdx=-1),o.GOM.lastDisplayedIdx=n)}function af(){if(o.O.thumbnailSliderDelay!=0&&o.GOM.slider.hostIdx!=-1){clearTimeout(o.GOM.slider.timerID);var n=o.GOM.slider.hostItem;n.$getElt(".nGY2TnImgNext").length==0&&(n.$getElt(".nGY2TnImg").clone().removeClass("nGY2TnImg").addClass("nGY2TnImgNext").insertAfter(n.$getElt(".nGY2TnImg")),n.$getElt(".nGY2TnImgBack").clone().removeClass("nGY2TnImgBack").addClass("nGY2TnImgBackNext").insertAfter(n.$getElt(".nGY2TnImg",!0)),n.$getElt(".nGY2GThumbnailImage",!0),n.$getElt(".nGY2GThumbnailImg",!0));n.CSSTransformSet(".nGY2TnImgNext","translateX","100%",!0);n.CSSTransformApply(".nGY2TnImgNext");n.CSSTransformSet(".nGY2TnImgBackNext","translateX","100%",!0);n.CSSTransformApply(".nGY2TnImgBackNext");pr();o.GOM.slider.timerID=requestTimeout(function(){wr()},o.O.thumbnailSliderDelay)}}function pr(){o.GOM.slider.nextIdx++;o.GOM.slider.nextIdx>=o.GOM.items.length&&(o.GOM.slider.nextIdx=o.GOM.slider.hostIdx);var n=o.GOM.NGY2Item(o.GOM.slider.nextIdx),i=o.emptyGif,t="url('"+o.emptyGif+"')";n.imageDominantColors!=null&&(i=n.imageDominantColors,t="url('"+n.imageDominantColors+"')");o.GOM.slider.hostItem.$getElt(".nGY2TnImgBackNext",!0).css({"background-image":t,opacity:1});o.GOM.slider.hostItem.$getElt(".nGY2TnImgNext",!0).css({"background-image":"url('"+n.thumbImg().src+"')",opacity:1});o.GOM.slider.hostItem.$getElt(".nGY2TnImgNext .nGY2GThumbnailImg",!0).attr("src",n.thumbImg().src)}function wr(){if(o.GOM.slider.hostItem.$getElt()!=null){var n=new NGTweenable;o.GOM.slider.tween=n;n.tween({from:{left:100},to:{left:0},duration:800,delay:0,easing:"easeOutQuart",step:function(n){if(o.GOM.slider.hostItem.$getElt()==null){o.GOM.slider.tween.stop(!1);return}o.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBack","translateX",-(100-n.left)+"%");o.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBack");o.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImg","translateX",-(100-n.left)+"%");o.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImg");o.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBackNext","translateX",n.left+"%");o.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBackNext");o.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgNext","translateX",n.left+"%");o.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgNext")},finish:function(){o.GOM.slider.hostItem.$getElt()!=null&&o.GOM.NGY2Item(o.GOM.slider.nextIdx)!=null&&(yi(o.GOM.NGY2Item(o.GOM.slider.nextIdx)),o.GOM.slider.currentIdx=o.GOM.slider.nextIdx,pr(),clearTimeout(o.GOM.slider.timerID),o.GOM.slider.timerID=requestTimeout(function(){wr()},o.O.thumbnailSliderDelay))}})}}function yi(n){var i,t;o.GOM.slider.hostIdx!=-1&&(o.GOM.slider.tween!=null&&o.GOM.slider.tween._isTweening==!0&&o.GOM.slider.tween.stop(!1),i="url('"+o.emptyGif+"')",n.imageDominantColors!=null&&(i="url('"+n.imageDominantColors+"')"),o.GOM.slider.hostItem.$getElt(".nGY2TnImgBack").css("background-image",i),o.GOM.slider.hostItem.$getElt(".nGY2TnImg").css("background-image","url('"+n.thumbImg().src+"')"),o.GOM.slider.hostItem.$getElt(".nGY2TnImg .nGY2GThumbnailImg").attr("src",n.thumbImg().src),o.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBack","translateX","0"),o.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBack"),o.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImg","translateX","0"),o.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImg"),o.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBackNext","translateX","100%",!0),o.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBackNext"),o.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgNext","translateX","100%",!0),o.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgNext"),o.O.thumbnailLabel.get("display")==!0&&(t=o.O.icons.thumbnailAlbum,n.kind!="album"&&(t=o.O.icons.thumbnailImage),o.GOM.slider.hostItem.$getElt(".nGY2GThumbnailTitle").html(t+kr(n)),o.GOM.slider.hostItem.$getElt(".nGY2GThumbnailDescription").html(t+dr(n))))}function vf(){var n=[],t=0,r,i,u;return o.O.thumbnailLabel.get("display")==!1?0:(r="",o.O.thumbnailLabel.get("displayDescription")==!0&&(r="aAzZjJ"),n[t++]='<div class="nGY2GThumbnail '+o.O.theme+'" style="display:block;visibility:hidden;position:absolute;top:-9999px;left:-9999px;" ><div class="nGY2GThumbnailSub">',o.O.thumbnailLabel.get("display")==!0&&(n[t++]='  <div class="nGY2GThumbnailLabel" '+o.tn.style.getLabel()+">",n[t++]='    <div class="nGY2GThumbnailAlbumTitle" '+o.tn.style.getTitle()+">aAzZjJ<\/div>",o.O.thumbnailLabel.get("displayDescription")==!0&&(n[t++]='    <div class="nGY2GThumbnailDescription" '+o.tn.style.getDesc()+">aAzZjJ<\/div>"),n[t++]="  <\/div>"),n[t++]="<\/div><\/div>",i=jQuery(n.join("")).appendTo(o.$E.conTn),u=i.find(".nGY2GThumbnailLabel").outerHeight(!0),i.remove(),u)}function br(n){var r=o.tn.opt.Get("stacks"),t,i;if(r==0)return"";for(t="",i=0;i<r;i++)t='<div class="nGY2GThumbnailStack " style="display:none;'+n+'"><\/div>'+t;return t}function yf(n,t,i){var r=[],u=0,h="",f,e,s;o.O.thumbnailOpenImage===!1&&(h="cursor:default;");r[u++]=br("")+'<div class="nGY2GThumbnail" style="display:none;opacity:0;'+h+'" >';r[u++]='  <div class="nGY2GThumbnailSub">';f=o.tn.defaultSize.getHeight();e=o.tn.defaultSize.getWidth();r[u++]='    <div class="nGY2GThumbnailImage" style="width:'+e+"px;height:"+f+'px;"><img class="nGY2GThumbnailImg" src="'+o.emptyGif+'" alt="" style="max-width:'+e+"px;max-height:"+f+'px;" ><\/div>';r[u++]='    <div class="nGY2GThumbnailAlbumUp" >'+o.O.icons.thumbnailAlbumUp+"<\/div>";r[u++]="  <\/div>";r[u++]="<\/div>";s=jQuery(r.join("")).appendTo(o.$E.conTn);n.$elt=s;s.data("index",i);n.$getElt(".nGY2GThumbnailImg").data("index",i);return}function pf(n,t,i,r){var p,h,c,l,k,d,e,s;if(n.eltTransform=[],n.eltFilter=[],n.hoverInitDone=!1,n.$Elts=[],n.kind=="albumUp"){yf(n,t,i);return}var u=[],f=0,w="";o.O.thumbnailOpenImage===!1&&(w="cursor:default;");var b=n.thumbImg().src.replace(/'/g,"%27"),a=kr(n),v="",y="background-image: url('"+o.emptyGif+"');";n.imageDominantColors!=null?y="background-image: url('"+n.imageDominantColors+"');":n.imageDominantColor!=null?v="background-color:"+n.imageDominantColor+";":y="";p="opacity:1;";o.O.thumbnailWaitImageLoaded==!0&&(p="opacity:0;");u[f++]=br(v)+'<div class="nGY2GThumbnail" style="display:none;opacity:0;'+w+'"><div class="nGY2GThumbnailSub '+(o.O.thumbnailSelectable&&n.selected?"nGY2GThumbnailSubSelected":"")+'">';h=o.tn.settings.getW();c=o.tn.settings.getH();o.tn.settings.getMosaic()!==null&&(h=o.GOM.items[i].width,c=o.GOM.items[i].height);l="contain";o.tn.opt.Get("crop")&&(l="cover");k="position: absolute; top: 0px; left: 0px; width:"+h+"px; height:"+c+"px;"+v+y+" background-position: center center;  background-repeat: no-repeat; background-size:"+l+"; overflow: hidden;";u[f++]='<div class="nGY2GThumbnailImage nGY2TnImgBack" style="'+k+'"><\/div>';d=p+"position: absolute; top: 0px; left: 0px; width:"+h+"px; height:"+c+"px; background-image: url('"+b+"'); background-position: center center; background-repeat: no-repeat; background-size:"+l+"; overflow: hidden;";u[f++]='<div class="nGY2GThumbnailImage nGY2TnImg" style="'+d+'">';u[f++]='  <img class="nGY2GThumbnailImg nGY2TnImg2" src="'+b+'" alt="'+a+'" style="opacity:0;" data-idx="'+t+'" data-albumidx="'+o.GOM.albumIdx+'" >';u[f++]="<\/div>";u[f++]='<div class="nGY2GThumbnailCustomLayer"><\/div>';o.O.thumbnailLabel.get("display")==!0&&(u[f++]='  <div class="nGY2GThumbnailLabel" '+o.tn.style.getLabel(n)+">",u[f++]=n.kind=="album"?'    <div class="nGY2GThumbnailTitle nGY2GThumbnailAlbumTitle" '+o.tn.style.getTitle()+">"+o.O.icons.thumbnailAlbum+a+"<\/div>":'    <div class="nGY2GThumbnailTitle nGY2GThumbnailImageTitle" '+o.tn.style.getTitle()+">"+o.O.icons.thumbnailImage+a+"<\/div>",u[f++]='    <div class="nGY2GThumbnailDescription" '+o.tn.style.getDesc()+">"+dr(n)+"<\/div>",u[f++]="  <\/div>");u[f++]=wf(n,r);u[f++]="<\/div><\/div>";e=jQuery(u.join("")).appendTo(o.$E.conTn);n.$elt=e;e.data("index",i);n.$getElt(".nGY2GThumbnailImg").data("index",i);s=o.O.fnThumbnailInit;s!==null&&(typeof s=="function"?s(e,n,i):window[s](e,n,i));n.title!="image gallery by nanogallery2 [build]"&&nu(i);return}function wf(n){var t=dt(n,"topLeft")+dt(n,"topRight")+dt(n,"bottomLeft")+dt(n,"bottomRight");return t+'<div class="nGY2GThumbnailIconsFullThumbnail"><\/div>'}function dt(n,t){var i="",a=o.tn.toolbar.get(n),v={xs:0,sm:1,me:2,la:3,xl:4},r=0,f,s,h,e,l,w;if(a[t]!=""){f="top: 0; right: 0; text-align: right;";switch(t){case"topLeft":f="top: 0; left: 0; text-align: left;";break;case"bottomRight":f="bottom: 0; right: 0; text-align: right;";break;case"bottomLeft":f="bottom: 0; left: 0; text-align: left;"}for(i+='  <ul class="nGY2GThumbnailIcons" style="'+f+'">',s=a[t].split(","),h=s.length,e=0;e<h;e++){var c=s[e].replace(/^\s*|\s*$/,""),y=c.substring(0,2).toLowerCase(),u=c,p=!0;if(/xs|sm|me|la|xl/i.test(y)&&(v[y]>v[o.GOM.curWidth]&&(p=!1),u=c.substring(2)),p){l=e+1<h?"&nbsp;":"";switch(u){case"COUNTER":n.kind=="album"&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',i+='      <div class="nGY2GThumbnailIconImageCounter"><\/div>',i+='      <div class="nGY2GThumbnailIconText">'+o.O.icons.thumbnailCounter+Math.max(n.getContentLength(!1),n.numberItems)+l+"<\/div>",i+="    <\/li>",r++);break;case"COUNTER2":n.kind=="album"&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',i+='      <div class="nGY2GThumbnailIconTextBadge">'+o.O.icons.thumbnailCounter+Math.max(n.getContentLength(!1),n.numberItems)+l+"<\/div>",i+="    <\/li>",r++);break;case"SHARE":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+u+'">';i+="      <div>"+o.O.icons.thumbnailShare+"<\/div>";i+="    <\/li>";r++;break;case"DOWNLOAD":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+u+'">';i+="      <div>"+o.O.icons.thumbnailDownload+"<\/div>";i+="    <\/li>";r++;break;case"INFO":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+u+'">';i+="      <div>"+o.O.icons.thumbnailInfo+"<\/div>";i+="    <\/li>";r++;break;case"CART":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+u+'">';i+="      <div>"+o.O.icons.thumbnailCart+"<\/div>";i+="    <\/li>";r++;break;case"DISPLAY":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="DISPLAY">';i+='      <div class="nGY2GThumbnailIconImageShare">'+o.O.icons.thumbnailDisplay+"<\/div>";i+="    <\/li>";r++;break;case"CUSTOM1":case"CUSTOM2":case"CUSTOM3":case"CUSTOM4":case"CUSTOM5":case"CUSTOM6":case"CUSTOM7":case"CUSTOM8":case"CUSTOM9":case"CUSTOM10":w=u.replace("CUSTOM","");i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+u.toLowerCase()+'">';i+='      <div class="nGY2GThumbnailIconImageShare">'+o.O.icons["thumbnailCustomTool"+w]+"<\/div>";i+="    <\/li>";r++;break;case"FEATURED":n.featured===!0&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',i+='      <div class="nGY2GThumbnailIconImageFeatured">'+o.O.icons.thumbnailFeatured+"<\/div>",i+="    <\/li>",r++);break;case"SELECT":o.O.thumbnailSelectable==!0&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="TOGGLESELECT">',i+=n.selected===!0?'      <div class="nGY2GThumbnailIconImageSelect nGY2ThumbnailSelected">'+o.O.icons.thumbnailSelected+"<\/div>":'      <div class="nGY2GThumbnailIconImageSelect nGY2ThumbnailUnselected">'+o.O.icons.thumbnailUnselected+"<\/div>",i+="    <\/li>",r++)}}}i+="  <\/ul>"}return r>0?i:""}function kr(n){var t=n.title,i;return o.O.thumbnailLabel.get("display")==!0&&((t===undefined||t.length==0)&&(t="&nbsp;"),o.i18nTranslations.thumbnailImageTitle!=""&&(t=o.i18nTranslations.thumbnailImageTitle),i=o.O.thumbnailLabel.get("titleMaxLength"),i>3&&t.length>i&&(t=t.substring(0,i)+"...")),t}function dr(n){var t="",i;return o.O.thumbnailLabel.get("displayDescription")==!0&&(t=n.kind=="album"?o.i18nTranslations.thumbnailImageDescription!=""?o.i18nTranslations.thumbnailAlbumDescription:n.description:o.i18nTranslations.thumbnailImageDescription!=""?o.i18nTranslations.thumbnailImageDescription:n.description,i=o.O.thumbnailLabel.get("descriptionMaxLength"),i>3&&t.length>i&&(t=t.substring(0,i)+"..."),t.length==0&&(t="&nbsp;")),t}function gr(n){var i=o.tn.defaultSize.getOuterWidth(),t=0;return t=o.O.thumbnailAlignment=="justified"?Math.floor(n/i):Math.floor((n+o.tn.opt.Get("gutterWidth"))/(i+o.tn.opt.Get("gutterWidth"))),o.O.maxItemsPerLine>0&&t>o.O.maxItemsPerLine&&(t=o.O.maxItemsPerLine),t<1&&(t=1),t}function bf(n,t){var f=o.GOM.items[n],i=o.I[f.thumbnailIdx],e,r,u;if(o.tn.opt.Get("displayTransition")=="NONE")i.$elt.css({opacity:1}),gt(i);else{if(i.$elt==null)return;if(e=o.GOM.cache.containerOffset.top+(f.top-o.GOM.clipArea.top),r=o.GOM.cache.viewport,e+(f.top-o.GOM.clipArea.top)>=r.t-50&&e<=r.t+r.h+50){u=t*o.tn.opt.Get("displayInterval");o.tn.opt.Get("displayTransition")=="CUSTOM"?o.GOM.curNavLevel=="lN"?o.O.fnThumbnailDisplayEffect(i.$elt,i,n,u):o.O.fnThumbnailL1DisplayEffect(i.$elt,i,n,u):o.GOM.thumbnails2Display.push({itm:i,d:u});return}i.$elt.css({opacity:1});gt(i)}}function gt(n){var r=o.tn.opt.Get("stacks"),t,i;if(r>0)for(n.$elt.css({display:"block"}),t=.9,i=r-1;i>=0;i--)n.$elt.eq(i).css("opacity",t),t=t-.2}function kf(n,t){function s(n,t){return Math.floor(Math.random()*(t-n+1)+n)}var r={},u={},i,e;switch(o.tn.opt.Get("displayTransition")){case"RANDOMSCALE":for(var f=s(0,3);f==o.GOM.lastRandomValue;)f=s(0,3);o.GOM.lastRandomValue=f;i=[.95,1,1.05,1.1][f];n.$elt.css({"z-index":o.GOM.lastZIndex+[1,2,3,4][f],"box-shadow":"0px 0px 3px 1px rgba(0,0,0,0.74)"});r={scale:.5,opacity:0};u={scale:i,opacity:1};break;case"SCALEUP":i=o.tn.opt.Get("displayTransitionStartVal");i==0&&(i=.6);r={scale:i,opacity:0};u={scale:1,opacity:1};break;case"SCALEDOWN":i=o.tn.opt.Get("displayTransitionStartVal");i==0&&(i=1.3);r={scale:i,opacity:0};u={scale:1,opacity:1};break;case"SLIDEUP":i=o.tn.opt.Get("displayTransitionStartVal");i==0&&(i=50);r={opacity:0,translateY:i};u={opacity:1,translateY:0};break;case"SLIDEDOWN":i=o.tn.opt.Get("displayTransitionStartVal");i==0&&(i=-50);r={opacity:0,translateY:i};u={opacity:1,translateY:0};break;case"FLIPUP":i=o.tn.opt.Get("displayTransitionStartVal");i==0&&(i=100);r={opacity:0,translateY:i,rotateX:45};u={opacity:1,translateY:0,rotateX:0};break;case"FLIPDOWN":i=o.tn.opt.Get("displayTransitionStartVal");i==0&&(i=-100);r={opacity:0,translateY:i,rotateX:-45};u={opacity:1,translateY:0,rotateX:0};break;case"SLIDEUP2":i=o.tn.opt.Get("displayTransitionStartVal");i==0&&(i=100);r={opacity:0,translateY:i,rotateY:40};u={opacity:1,translateY:0,rotateY:0};break;case"SLIDEDOWN2":i=o.tn.opt.Get("displayTransitionStartVal");i==0&&(i=-100);r={opacity:0,translateY:i,rotateY:40};u={opacity:1,translateY:0,rotateY:0};break;case"SLIDERIGHT":i=o.tn.opt.Get("displayTransitionStartVal");i==0&&(i=-150);r={opacity:0,translateX:i};u={opacity:1,translateX:0};break;case"SLIDELEFT":i=o.tn.opt.Get("displayTransitionStartVal");i==0&&(i=150);r={opacity:0,translateX:i};u={opacity:1,translateX:0};break;case"FADEIN":r={opacity:0};u={opacity:1}}e=new NGTweenable;e.tween({from:r,to:u,attachment:{$e:n.$elt,item:n,tw:e},delay:t,duration:o.tn.opt.Get("displayTransitionDuration"),easing:o.tn.opt.Get("displayTransitionEasing"),step:function(n,t){window.requestAnimationFrame(function(){if(t.item.$elt===null){t.tw.stop(!1);return}switch(o.tn.opt.Get("displayTransition")){case"RANDOMSCALE":t.$e.css(o.CSStransformName,"scale("+n.scale+")").css("opacity",n.opacity);break;case"SCALEUP":t.$e.css(o.CSStransformName,"scale("+n.scale+")").css("opacity",n.opacity);break;case"SCALEDOWN":t.item.$elt.last().css("opacity",n.opacity);t.item.CSSTransformSet(".nGY2GThumbnail","scale",n.scale);t.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDEUP":t.item.$elt.css("opacity",n.opacity);t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px, "+n.translateY+"px");t.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDEDOWN":t.item.$elt.css("opacity",n.opacity);t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+n.translateY+"px");t.item.CSSTransformApply(".nGY2GThumbnail");break;case"FLIPUP":t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+n.translateY+"px");t.item.CSSTransformSet(".nGY2GThumbnail","rotateX",n.rotateX+"deg");t.item.$elt.css("opacity",n.opacity);t.item.CSSTransformApply(".nGY2GThumbnail");break;case"FLIPDOWN":t.item.$elt.css("opacity",n.opacity);t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+n.translateY+"px");t.item.CSSTransformSet(".nGY2GThumbnail","rotateX",n.rotateX+"deg");t.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDEUP2":t.item.$elt.css("opacity",n.opacity);t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+n.translateY+"px");t.item.CSSTransformSet(".nGY2GThumbnail","rotateY",n.rotateY+"deg");t.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDEDOWN2":t.item.$elt.css("opacity",n.opacity);t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px, "+n.translateY+"px");t.item.CSSTransformSet(".nGY2GThumbnail","rotateY",n.rotateY+"deg");t.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDERIGHT":t.item.$elt.css("opacity",n.opacity);t.item.CSSTransformSet(".nGY2GThumbnail","translate",n.translateX+"px, 0px");t.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDELEFT":t.item.CSSTransformSet(".nGY2GThumbnail","translate",n.translateX+"px, 0px");t.item.$elt.css("opacity",n.opacity);t.item.CSSTransformApply(".nGY2GThumbnail");break;case"FADEIN":t.$e.css(n)}})},finish:function(n,t){window.requestAnimationFrame(function(){if(t.item.$elt!==null){switch(o.tn.opt.Get("displayTransition")){case"RANDOMSCALE":t.$e.css(o.CSStransformName,"scale("+n.scale+")").css("opacity","");break;case"SCALEUP":t.$e.css(o.CSStransformName,"").css("opacity","");break;case"SCALEDOWN":t.item.$elt.last().css("opacity","");t.item.CSSTransformSet(".nGY2GThumbnail","scale",n.scale);t.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDEUP":t.item.$elt.css("opacity","");break;case"SLIDEDOWN":t.item.$elt.css("opacity","");break;case"FLIPUP":t.item.$elt.css("opacity","");break;case"FLIPDOWN":t.item.$elt.css("opacity","");break;case"SLIDEUP2":t.item.$elt.css("opacity","");break;case"SLIDEDOWN2":t.item.$elt.css("opacity","");t.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDERIGHT":t.item.$elt.css("opacity","");break;case"SLIDELEFT":t.item.$elt.css("opacity","");break;case"FADEIN":t.$e.css("opacity","")}gt(t.item)}})}})}function df(){o.GOM.thumbnails2Display.forEach(function(n){kf(n.itm,n.d)});o.GOM.thumbnails2Display=[]}function gf(){var t=o.galleryDisplayTransitionDuration.Get(),n;switch(o.galleryDisplayTransition.Get()){case"ROTATEX":o.$E.base.css({perspective:"1000px","perspective-origin":"50% 0%"});n=new NGTweenable;n.tween({from:{r:50},to:{r:0},attachment:{orgIdx:o.GOM.albumIdx},duration:t,easing:"easeOutCirc",step:function(n,t){t.orgIdx==o.GOM.albumIdx&&o.$E.conTnParent.css(o.CSStransformName,"rotateX("+n.r+"deg)")}});break;case"SLIDEUP":o.$E.conTnParent.css({opacity:0});n=new NGTweenable;n.tween({from:{y:200,o:0},to:{y:0,o:1},attachment:{orgIdx:o.GOM.albumIdx},duration:t,easing:"easeOutCirc",step:function(n,t){t.orgIdx==o.GOM.albumIdx&&o.$E.conTnParent.css(o.CSStransformName,"translate( 0px, "+n.y+"px)").css("opacity",n.o)}})}}function nu(n){var s=o.GOM.items[n],r=o.I[s.thumbnailIdx],f,u,i,t,e;if(r.$elt!=null){for(f=o.O.fnThumbnailHoverInit,f!==null&&(typeof f=="function"?f($e,r,n):window[f]($e,r,n)),u=o.tn.buildInit.get(),t=0;t<u.length;t++)switch(u[t].property){case"scale":case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":r.CSSTransformSet(u[t].element,u[t].property,u[t].value);r.CSSTransformApply(u[t].element);break;case"blur":case"brightness":case"grayscale":case"sepia":case"contrast":case"opacity":case"saturate":r.CSSFilterSet(u[t].element,u[t].property,u[t].value);r.CSSFilterApply(u[t].element);break;default:e=r.$getElt(u[t].element);e.css(u[t].property,u[t].value)}for(i=o.tn.hoverEffects.get(),t=0;t<i.length;t++)if(i[t].firstKeyframe===!0)switch(i[t].type){case"scale":case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":r.CSSTransformSet(i[t].element,i[t].type,i[t].from);r.CSSTransformApply(i[t].element);break;case"blur":case"brightness":case"grayscale":case"sepia":case"contrast":case"opacity":case"saturate":r.CSSFilterSet(i[t].element,i[t].type,i[t].from);r.CSSFilterApply(i[t].element);break;default:e=r.$getElt(i[t].element);e.css(i[t].type,i[t].from)}r.hoverInitDone=!0}}function tu(){var t,n;if(o.GOM.albumIdx!=-1)for(t=o.GOM.items.length,n=0;n<t;n++)nu(n),o.I[o.GOM.items[n].thumbnailIdx].hovered=!1}function pi(n){var f,t,i,u,r;if(o.GOM.albumIdx!=-1&&o.galleryResizeEventEnabled&&o.GOM.slider.hostIdx!=n&&(f=o.GOM.items[n],t=o.I[f.thumbnailIdx],t.kind!="albumUp"&&t.$elt!=null)){t.hovered=!0;i=o.O.fnThumbnailHover;i!==null&&(typeof i=="function"?i(t.$elt,t,n):window[i](t.$elt,t,n));u=o.tn.hoverEffects.get();try{for(r=0;r<u.length;r++)u[r].hoverin===!0&&t.animate(u[r],0,!0)}catch(e){v(o,"error on hover: "+e.message)}}}function ft(){var t,n;if(o.GOM.albumIdx!=-1)for(t=o.GOM.items.length,n=0;n<t;n++)o.GOM.items[n].inDisplayArea?iu(n):o.I[o.GOM.items[n].thumbnailIdx].hovered=!1}function iu(n){var f,t,i,u,r;if(o.GOM.albumIdx!=-1&&o.galleryResizeEventEnabled&&o.GOM.slider.hostIdx!=n&&(f=o.GOM.items[n],t=o.I[f.thumbnailIdx],t.kind!="albumUp"&&t.hovered)&&(t.hovered=!1,t.$elt!=null)){i=o.O.fnThumbnailHoverOut;i!==null&&(typeof i=="function"?i(t.$elt,t,n):window[i](t.$elt,t,n));u=o.tn.hoverEffects.get();try{for(r=0;r<u.length;r++)u[r].hoverout===!0&&t.animate(u[r],0,!1)}catch(e){v(o,"error on hoverOut: "+e.message)}}}function ni(n,t){var i,r;if(o.O.debugMode&&console.log("#DisplayPhoto : "+t+"-"+n),i=NGY2Item.GetIdx(o,t),o.GOM.curNavLevel=i==0?"l1":"lN",i==-1&&o.O.kind!=""&&(NGY2Item.New(o,"","",t,"0","album"),i=o.I.length-1),r=NGY2Item.GetIdx(o,n),r==-1){wi(t,ni,n,t);return}o.O.debugMode&&console.log("#DisplayPhoto : "+r);tr(r)}function wi(n,t,i,r){switch(o.O.kind){case"":ne(t,i,r);break;default:jQuery.nanogallery2["data_"+o.O.kind](o,"AlbumGetContent",n,t,i,r)}}function ne(n,t,i){if(o.markupOrApiProcessed===!0){c("-1",0);return}if(o.O.items!==undefined&&o.O.items!==null)te();else if(o.O.$markup.length>0)ie(o.O.$markup),o.O.$markup=[];else{hi(o,"error: no media to process.");return}o.markupOrApiProcessed=!0;n!==null&&n!==undefined&&n(t,i,null)}function y(n){if(n==null||n==undefined)return!1;return/^((http|https|ftp|ftps|file):\/\/)/.test(n)?!0:!1}function te(){var i=!1,n=0,r=NGY2Tools.AlbumPostProcess.bind(o);o.I[0].contentIsLoaded=!0;jQuery.each(o.O.items,function(u,f){var p="",l,s,w,b,d,g,nt,tt,e,a,u,v,h,c,k;if(p=hr(f,"title"),p===undefined&&(p=""),l="",l=f["src"+yt().toUpperCase()]!==undefined?f["src"+yt().toUpperCase()]:f.src,y(l)||(l=o.O.itemsBaseURL+l),s="",f.srct!==undefined&&f.srct.length>0?(s=f.srct,y(s)||(s=o.O.itemsBaseURL+s)):s=l,w="",f.srct2x!==undefined&&f.srct2x.length>0?(w=f.srct2x,y(w)||(w=o.O.itemsBaseURL+w)):w=s!=""?s:l,o.O.thumbnailLabel.get("title")!=""&&(p=GetImageTitle(l)),b="",b=hr(f,"description"),b===undefined&&(b=""),d=hr(f,"tags"),d===undefined&&(d=""),g=0,f.albumID!==undefined&&(g=f.albumID,i=!0),nt=null,f.ID!==undefined&&(nt=f.ID),tt="image",f.kind!==undefined&&f.kind.length>0&&(tt=f.kind),e=NGY2Item.New(o,p,b,nt,g,tt,d),p!=""&&n++,e.setMediaURL(l,"img"),jQuery.each(bi,function(n,t){var i=t.getID(l);if(i!=null)return l=t.url(i),typeof t.thumbUrl=="function"&&(s=t.thumbUrl(i)),e.mediaKind=t.kind,e.mediaMarkup=t.markup(i),!1}),f.imageWidth!==undefined&&(e.imageWidth=f.width),f.imageHeight!==undefined&&(e.imageHeight=f.height),h=f.imgtWidth!==undefined?f.imgtWidth:0,c=f.imgtHeight!==undefined?f.imgtHeight:0,e.thumbs={url:{l1:{xs:s,sm:s,me:s,la:s,xl:s},lN:{xs:s,sm:s,me:s,la:s,xl:s}},width:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},height:{l1:{xs:c,sm:c,me:c,la:c,xl:c},lN:{xs:c,sm:c,me:c,la:c,xl:c}}},e.mediaKind=="img")for(a=["xs","sm","me","la","xl"],u=0;u<a.length;u++)v=f["srct"+a[u].toUpperCase()],v!==undefined&&(y(v)||(v=o.O.itemsBaseURL+v),e.url.l1[a[u]]=v,e.url.lN[a[u]]=v),h=f["imgt"+a[u].toUpperCase()+"Width"],h!=undefined&&(e.width.l1[a[u]]=parseInt(h),e.width.lN[a[u]]=parseInt(h)),c=f["imgt"+a[u].toUpperCase()+"Height"],c!=undefined&&(e.height.l1[a[u]]=parseInt(c),e.height.lN[a[u]]=parseInt(c));f.imageDominantColors!==undefined&&(e.imageDominantColors=f.imageDominantColors);f.imageDominantColor!==undefined&&(e.imageDominantColor=f.imageDominantColor);f.destURL!==undefined&&f.destURL.length>0&&(e.destinationURL=f.destURL);f.downloadURL!==undefined&&f.downloadURL.length>0&&(e.downloadURL=f.downloadURL);f.exifModel!==undefined&&(e.exif.model=f.exifModel);f.exifFlash!==undefined&&(e.exif.flash=f.exifFlash);f.exifFocalLength!==undefined&&(e.exif.focallength=f.exifFocalLength);f.exifFStop!==undefined&&(e.exif.fstop=f.exifFStop);f.exifExposure!==undefined&&(e.exif.exposure=f.exifExposure);f.exifIso!==undefined&&(e.exif.iso=f.exifIso);f.exifTime!==undefined&&(e.exif.time=f.exifTime);f.exifLocation!==undefined&&(e.exif.location=f.exifLocation);f.customData!==null&&(e.customData=t(f.customData));e.contentIsLoaded=!0;k=o.O.fnProcessData;k!==null&&(typeof k=="function"?k(e,"api",f):window[k](e,"api",f));r(g)});n==0&&(o.O.thumbnailLabel.display=!1)}function ie(n){var r=!1,i=0,u=NGY2Tools.AlbumPostProcess.bind(o);o.I[0].contentIsLoaded=!0;jQuery.each(n,function(n,f){var e={"data-ngdesc":"","data-ngid":null,"data-ngkind":"image","data-ngtags":null,"data-ngdest":"","data-ngthumbimgwidth":0,"data-ngthumbimgheight":0,"data-ngimagewidth":0,"data-ngimageheight":0,"data-ngimagedominantcolors":null,"data-ngimagedominantcolor":null,"data-ngexifmodel":"","data-ngexifflash":"","data-ngexiffocallength":"","data-ngexiffstop":"","data-ngexifexposure":"","data-ngexifiso":"","data-ngexiftime":"","data-ngexiflocation":""},v,g,h,w,tt,k,d,s,a,n,p,c,l,b;[].forEach.call(f.attributes,function(n){e[n.name.toLowerCase()]=n.value});v="";g=yt().toUpperCase();e.hasOwnProperty("data-ngsrc"+g)&&(v=e["data-ngsrc"+g]);v==""&&(v=e.href);y(v)||(v=o.O.itemsBaseURL+v);h="";e.hasOwnProperty("data-ngthumb")?(h=e["data-ngthumb"],y(h)||(h=o.O.itemsBaseURL+h)):h=v;w="";e.hasOwnProperty("data-ngthumb2x")&&(w=e["data-ngthumb2x"],y(w)||(w=o.O.itemsBaseURL+w));tt=e["data-ngdesc"];k=e.id;k==undefined&&(k=e["data-ngid"]);var it=e["data-ngkind"],rt=e["data-ngtags"],nt="0";if(e.hasOwnProperty("data-ngalbumid")&&(nt=e["data-ngalbumid"],r=!0),d=jQuery(f).text(),o.O.thumbnailLabel.get("title")==""||o.O.thumbnailLabel.get("title")==undefined||(d=GetImageTitle(v)),s=NGY2Item.New(o,d,tt,k,nt,it,rt),d!=""&&i++,s.setMediaURL(v,"img"),s.mediaKind="img",jQuery.each(bi,function(n,t){var i=t.getID(v);if(i!=null)return v=t.url(i),typeof t.thumbUrl=="function"&&(h=t.thumbUrl(i)),s.mediaKind=t.kind,s.mediaMarkup=t.markup(i),!1}),s.imageWidth=parseInt(e["data-ngimagewidth"]),s.imageHeight=parseInt(e["data-ngimageheight"]),c=parseInt(e["data-ngthumbimgwidth"]),l=parseInt(e["data-ngthumbimgheight"]),s.thumbs={url:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},width:{l1:{xs:c,sm:c,me:c,la:c,xl:c},lN:{xs:c,sm:c,me:c,la:c,xl:c}},height:{l1:{xs:l,sm:l,me:l,la:l,xl:l},lN:{xs:l,sm:l,me:l,la:l,xl:l}}},s.mediaKind=="img")for(a=["xs","sm","me","la","xl"],n=0;n<a.length;n++)e.hasOwnProperty("data-ngthumb"+a[n])&&(p=e["data-ngthumb"+a[n]],y(p)||(p=o.O.itemsBaseURL+p),s.url.l1[a[n]]=p,s.url.lN[a[n]]=p),e.hasOwnProperty("data-ngthumb"+a[n]+"width")&&(c=parseInt(e["data-ngthumb"+a[n]+"width"]),s.width.l1[a[n]]=c,s.width.lN[a[n]]=c),e.hasOwnProperty("data-ngthumb"+a[n]+"height")&&(l=parseInt("data-ngthumb"+a[n]+"height"),s.height.l1[a[n]]=l,s.height.lN[a[n]]=l);s.imageDominantColors=e["data-ngimagedominantcolors"];s.imageDominantColor=e["data-ngimagedominantcolors"];s.destinationURL=e["data-ngdest"];s.downloadURL=e["data-ngdownloadurl"];s.exif.model=e["data-ngexifmodel"];s.exif.flash=e["data-ngexifflash"];s.exif.focallength=e["data-ngexiffocallength"];s.exif.fstop=e["data-ngexiffstop"];s.exif.exposure=e["data-ngexifexposure"];s.exif.iso=e["data-ngexifiso"];s.exif.time=e["data-ngexiftime"];s.exif.location=e["data-ngexiflocation"];s.contentIsLoaded=!0;jQuery(f).data("customdata")!==undefined&&(s.customData=t(jQuery(f).data("customdata")));jQuery(f).data("ngcustomdata")!==undefined&&(s.customData=t(jQuery(f).data("ngcustomdata")));b=o.O.fnProcessData;b!==null&&(typeof b=="function"?b(s,"markup",f):window[b](s,"markup",f));u(nt)});i==0&&(o.O.thumbnailLabel.display=!1)}function re(){function f(n,t,r){o.tn.opt.lN[r]=o.O[n];o.tn.opt.l1[r]=o.O[n];i(o.O[t])=="number"&&(o.tn.opt.l1[r]=o.O[t])}function d(n,t){if(typeof n=="string"){var i=n.split("_");i.length==1&&(o.tn.opt[t].displayTransition=n.toUpperCase());i.length==2&&(o.tn.opt[t].displayTransition=i[0].toUpperCase(),o.tn.opt[t].displayTransitionStartVal=Number(i[1]));i.length==3&&(o.tn.opt[t].displayTransition=i[0].toUpperCase(),o.tn.opt[t].displayTransitionStartVal=Number(i[1]),o.tn.opt[t].displayTransitionEasing=i[2])}}function k(n,t,r){var u,h,s,c,f,e;if(o.O[n]!=null)if(i(o.O[n])=="number")ti(r,"l1",o.O[n],"u"),t||ti(r,"lN",o.O[n],"u");else for(u=o.O[n].split(" "),f="auto",u[0].substring(0,4)!="auto"&&(f=parseInt(u[0])),e="u",u[0].charAt(u[0].length-1)=="C"&&(e="c"),ti(r,"l1",f,e),t||ti(r,"lN",f,e),h=1;h<u.length;h++)s=u[h].substring(0,2).toLowerCase(),/xs|sm|me|la|xl/i.test(s)&&(c=u[h].substring(2),f="auto",c.substring(0,4)!="auto"&&(f=parseInt(c)),e="u",c.charAt(c.length-1)=="C"&&(e="c"),o.tn.settings[r].l1[s]=f,o.tn.settings[r].l1[s+"c"]=e,t||(o.tn.settings[r].lN[s]=f,o.tn.settings[r].lN[s+"c"]=e))}var w,b,p,g,l,e,h,c,y,a,t,n,u;for((o.O.kind.toUpperCase()=="PICASA"||o.O.kind.toUpperCase()=="GOOGLE")&&(o.O.kind="google2"),o.GOM.cache.viewport=r(),o.GOM.curWidth=yt(),jQuery.extend(!0,o.tn.toolbar.image,o.O.thumbnailToolbarImage),jQuery.extend(!0,o.tn.toolbar.album,o.O.thumbnailToolbarAlbum),w=["image","album"],b=["topLeft","topRight","bottomLeft","bottomRight"],t=0;t<w.length;t++)for(p=0;p<b.length;p++)o.tn.toolbar[w[t]][b[p]]=o.tn.toolbar[w[t]][b[p]].toUpperCase();if(o.O.thumbnailLabel.get=function(n){return o.GOM.curNavLevel=="l1"&&o.O.thumbnailL1Label!==undefined&&o.O.thumbnailL1Label[n]!==undefined?o.O.thumbnailL1Label[n]:o.O.thumbnailLabel[n]},o.O.thumbnailLabel.set=function(n,t){o.GOM.curNavLevel=="l1"&&o.O.thumbnailL1Label!==undefined&&o.O.thumbnailL1Label[n]!==undefined?o.O.thumbnailL1Label[n]=t:o.O.thumbnailLabel[n]=t},o.O.blackList!=""&&(o.blackList=o.O.blackList.toUpperCase().split("|")),o.O.whiteList!=""&&(o.whiteList=o.O.whiteList.toUpperCase().split("|")),o.O.albumList2!==undefined&&o.O.albumList2!==null&&o.O.albumList2.constructor===Array)for(g=o.O.albumList2.length,t=0;t<g;t++)o.O.albumList2[t].indexOf("&authkey")!==-1||o.O.albumList2[t].indexOf("?authkey")!==-1?o.albumListHidden.push(o.O.albumList2[t]):o.albumList.push(o.O.albumList2[t]);if(o.O.albumList2!==undefined&&typeof o.O.albumList2=="string"&&(o.O.albumList2.indexOf("&authkey")!==-1?o.albumListHidden.push(o.O.albumList2):o.albumList.push(o.O.albumList2)),o.albumListHidden.length>0&&(o.O.locationHash=!1),o.tn.opt.lN.crop=o.O.thumbnailCrop,o.tn.opt.l1.crop=o.O.thumbnailL1Crop!=null?o.O.thumbnailL1Crop:o.O.thumbnailCrop,f("thumbnailStacks","thumbnailL1Stacks","stacks"),f("thumbnailStacksTranslateX","thumbnailL1StacksTranslateX","stacksTranslateX"),f("thumbnailStacksTranslateY","thumbnailL1StacksTranslateY","stacksTranslateY"),f("thumbnailStacksTranslateZ","thumbnailL1StacksTranslateZ","stacksTranslateZ"),f("thumbnailStacksRotateX","thumbnailL1StacksRotateX","stacksRotateX"),f("thumbnailStacksRotateY","thumbnailL1StacksRotateY","stacksRotateY"),f("thumbnailStacksRotateZ","thumbnailL1StacksRotateZ","stacksRotateZ"),f("thumbnailStacksScale","thumbnailL1StacksScale","stacksScale"),f("thumbnailGutterWidth","thumbnailL1GutterWidth","gutterWidth"),f("thumbnailGutterHeight","thumbnailL1GutterHeight","gutterHeight"),f("thumbnailBaseGridHeight","thumbnailL1BaseGridHeight","baseGridHeight"),o.galleryDisplayMode.lN=o.O.galleryDisplayMode.toUpperCase(),o.galleryDisplayMode.l1=o.O.galleryL1DisplayMode!=null?o.O.galleryL1DisplayMode.toUpperCase():o.O.galleryDisplayMode.toUpperCase(),o.galleryMaxRows.lN=o.O.galleryMaxRows,o.galleryMaxRows.l1=i(o.O.galleryL1MaxRows)=="number"?o.O.galleryL1MaxRows:o.O.galleryMaxRows,o.galleryLastRowFull.lN=o.O.galleryLastRowFull,o.galleryLastRowFull.l1=o.O.galleryL1LastRowFull!=null?o.O.galleryL1LastRowFull:o.O.galleryLastRowFull,o.gallerySorting.lN=o.O.gallerySorting.toUpperCase(),o.gallerySorting.l1=o.O.galleryL1Sorting!=null?o.O.galleryL1Sorting.toUpperCase():o.gallerySorting.lN,o.galleryDisplayTransition.lN=o.O.galleryDisplayTransition.toUpperCase(),o.galleryDisplayTransition.l1=o.O.galleryL1DisplayTransition!=null?o.O.galleryL1DisplayTransition.toUpperCase():o.galleryDisplayTransition.lN,o.galleryDisplayTransitionDuration.lN=o.O.galleryDisplayTransitionDuration,o.galleryDisplayTransitionDuration.l1=o.O.galleryL1DisplayTransitionDuration!=null?o.O.galleryL1DisplayTransitionDuration:o.galleryDisplayTransitionDuration.lN,o.galleryMaxItems.lN=o.O.galleryMaxItems,o.galleryMaxItems.l1=i(o.O.galleryL1MaxItems)=="number"?o.O.galleryL1MaxItems:o.O.galleryMaxItems,o.galleryFilterTags.lN=o.O.galleryFilterTags,o.galleryFilterTags.l1=o.O.galleryL1FilterTags!=null?o.O.galleryL1FilterTags:o.O.galleryFilterTags,o.O.galleryPaginationMode=o.O.galleryPaginationMode.toUpperCase(),i(o.O.slideshowDelay)=="number"&&o.O.slideshowDelay>=2e3?o.VOM.slideshowDelay=o.O.slideshowDelay:hi(o,'Parameter "slideshowDelay" must be an integer >= 2000 ms.'),typeof o.O.thumbnailDisplayTransition=="boolean"&&(o.O.thumbnailDisplayTransition===!0?(o.tn.opt.lN.displayTransition="FADEIN",o.tn.opt.l1.displayTransition="FADEIN"):(o.tn.opt.lN.displayTransition="NONE",o.tn.opt.l1.displayTransition="NONE")),o.O.fnThumbnailDisplayEffect!==""&&(o.tn.opt.lN.displayTransition="CUSTOM",o.tn.opt.l1.displayTransition="CUSTOM"),o.O.fnThumbnailL1DisplayEffect!==""&&(o.tn.opt.l1.displayTransition="CUSTOM"),d(o.O.thumbnailDisplayTransition,"lN"),d(o.O.thumbnailDisplayTransition,"l1"),d(o.O.thumbnailL1DisplayTransition,"l1"),f("thumbnailDisplayTransitionDuration","thumbnailL1DisplayTransitionDuration","displayTransitionDuration"),f("thumbnailDisplayInterval","thumbnailL1DisplayInterval","displayInterval"),o.O.thumbnailSizeSM!==undefined&&(o.O.breakpointSizeSM=o.O.thumbnailSizeSM),o.O.thumbnailSizeME!==undefined&&(o.O.breakpointSizeME=o.O.thumbnailSizeME),o.O.thumbnailSizeLA!==undefined&&(o.O.breakpointSizeLA=o.O.thumbnailSizeLA),o.O.thumbnailSizeXL!==undefined&&(o.O.breakpointSizeXL=o.O.thumbnailSizeXL),o.O.thumbnailL1BuildInit2!==undefined)for(l=o.O.thumbnailL1BuildInit2.split("|"),t=0;t<l.length;t++)e=l[t].trim().split("_"),e.length==3&&(h=uu(),h.element=ki(e[0],""),h.property=e[1],h.value=e[2],o.tn.buildInit.level1.push(h));if(o.O.thumbnailBuildInit2!==undefined)for(l=o.O.thumbnailBuildInit2.split("|"),t=0;t<l.length;t++)e=l[t].trim().split("_"),e.length==3&&(h=uu(),h.element=ki(e[0],""),h.property=e[1],h.value=e[2],o.tn.buildInit.std.push(h));if(c=o.O.thumbnailL1HoverEffect2,c!==undefined)switch(i(c)){case"string":for(a=c.split("|"),t=0;t<a.length;t++)n=nt(),n=s(a[t].trim(),n),n!=null&&o.tn.hoverEffects.level1.push(n);break;case"object":n=nt();n=jQuery.extend(n,c);n=s(n.name,n);n!=null&&o.tn.hoverEffects.level1.push(n);break;case"array":for(t=0;t<c.length;t++)n=nt(),n=jQuery.extend(n,c[t]),n=s(n.name,n),n!=null&&o.tn.hoverEffects.level1.push(n);break;case"null":break;default:v(o,'incorrect parameter for "thumbnailL1HoverEffect2".')}o.tn.hoverEffects.level1=ru(o.tn.hoverEffects.level1);y=o.O.thumbnailHoverEffect2;switch(i(y)){case"string":for(a=y.split("|"),t=0;t<a.length;t++)n=nt(),n=s(a[t].trim(),n),n!=null&&o.tn.hoverEffects.std.push(n);break;case"object":n=nt();n=jQuery.extend(n,y);n=s(n.name,n);n!=null&&o.tn.hoverEffects.std.push(n);break;case"array":for(t=0;t<y.length;t++)n=nt(),n=jQuery.extend(n,y[t]),n=s(n.name,n),n!=null&&o.tn.hoverEffects.std.push(n);break;case"null":break;default:v(o,'incorrect parameter for "thumbnailHoverEffect2".')}for(o.tn.hoverEffects.std=ru(o.tn.hoverEffects.std),o.O.touchAnimationL1==undefined&&(o.O.touchAnimationL1=o.O.touchAnimation),o.tn.hoverEffects.std.length==0&&(o.tn.hoverEffects.level1.length==0&&(o.O.touchAnimationL1=!1),o.O.touchAnimation=!1),(o.O.thumbnailHeight==0||o.O.thumbnailHeight=="")&&(o.O.thumbnailHeight="auto"),(o.O.thumbnailWidth==0||o.O.thumbnailWidth=="")&&(o.O.thumbnailWidth="auto"),(o.O.thumbnailL1Height==0||o.O.thumbnailL1Height=="")&&(o.O.thumbnailL1Height="auto"),(o.O.thumbnailL1Width==0||o.O.thumbnailL1Width=="")&&(o.O.thumbnailL1Width="auto"),k("thumbnailWidth",!1,"width"),k("thumbnailL1Width",!0,"width"),k("thumbnailHeight",!1,"height"),k("thumbnailL1Height",!0,"height"),o.O.thumbnailBorderHorizontal=parseInt(o.O.thumbnailBorderHorizontal),o.O.thumbnailBorderVertical=parseInt(o.O.thumbnailBorderVertical),o.O.thumbnailLabelHeight=parseInt(o.O.thumbnailLabelHeight),o.O.galleryMosaic!=undefined&&(o.tn.settings.mosaic.l1.xs=JSON.parse(JSON.stringify(o.O.galleryMosaic)),o.tn.settings.mosaic.l1.sm=JSON.parse(JSON.stringify(o.O.galleryMosaic)),o.tn.settings.mosaic.l1.me=JSON.parse(JSON.stringify(o.O.galleryMosaic)),o.tn.settings.mosaic.l1.la=JSON.parse(JSON.stringify(o.O.galleryMosaic)),o.tn.settings.mosaic.l1.xl=JSON.parse(JSON.stringify(o.O.galleryMosaic)),o.tn.settings.mosaic.lN.xs=JSON.parse(JSON.stringify(o.O.galleryMosaic)),o.tn.settings.mosaic.lN.sm=JSON.parse(JSON.stringify(o.O.galleryMosaic)),o.tn.settings.mosaic.lN.me=JSON.parse(JSON.stringify(o.O.galleryMosaic)),o.tn.settings.mosaic.lN.la=JSON.parse(JSON.stringify(o.O.galleryMosaic)),o.tn.settings.mosaic.lN.xl=JSON.parse(JSON.stringify(o.O.galleryMosaic)),o.tn.settings.mosaicCalcFactor("l1","xs"),o.tn.settings.mosaicCalcFactor("l1","sm"),o.tn.settings.mosaicCalcFactor("l1","me"),o.tn.settings.mosaicCalcFactor("l1","la"),o.tn.settings.mosaicCalcFactor("l1","xl"),o.tn.settings.mosaicCalcFactor("lN","xs"),o.tn.settings.mosaicCalcFactor("lN","sm"),o.tn.settings.mosaicCalcFactor("lN","me"),o.tn.settings.mosaicCalcFactor("lN","la"),o.tn.settings.mosaicCalcFactor("lN","xl")),o.O.galleryL1Mosaic!=undefined&&(o.tn.settings.mosaic.l1.xs=JSON.parse(JSON.stringify(o.O.galleryL1Mosaic)),o.tn.settings.mosaic.l1.sm=JSON.parse(JSON.stringify(o.O.galleryL1Mosaic)),o.tn.settings.mosaic.l1.me=JSON.parse(JSON.stringify(o.O.galleryL1Mosaic)),o.tn.settings.mosaic.l1.la=JSON.parse(JSON.stringify(o.O.galleryL1Mosaic)),o.tn.settings.mosaic.l1.xl=JSON.parse(JSON.stringify(o.O.galleryL1Mosaic)),o.tn.settings.mosaicCalcFactor("l1","xs"),o.tn.settings.mosaicCalcFactor("l1","sm"),o.tn.settings.mosaicCalcFactor("l1","me"),o.tn.settings.mosaicCalcFactor("l1","la"),o.tn.settings.mosaicCalcFactor("l1","xl")),u=0;u<o.tn.settings.mosaic.l1;u++)o.O["galleryMosaic"+o.tn.settings.mosaic.l1[u].toUpperCase()]!=undefined&&(o.tn.settings.mosaic.lN[tn.settings.mosaic.l1[u]]=JSON.parse(JSON.stringify(o.O["galleryMosaic"+o.tn.settings.mosaic.l1[u].toUpperCase()])),o.tn.settings.mosaic.l1[tn.settings.mosaic.l1[u]]=JSON.parse(JSON.stringify(o.O["galleryMosaic"+o.tn.settings.mosaic.l1[u].toUpperCase()])),o.tn.settings.mosaicCalcFactor("l1",o.tn.settings.mosaic.l1[u]),o.tn.settings.mosaicCalcFactor("lN",o.tn.settings.mosaic.l1[u]));for(u=0;u<o.tn.settings.mosaic.l1;u++)o.O["galleryL1Mosaic"+o.tn.settings.mosaic.l1[u].toUpperCase()]!=undefined&&(o.tn.settings.mosaic.l1[tn.settings.mosaic.l1[u]]=JSON.parse(JSON.stringify(o.O["galleryL1Mosaic"+o.tn.settings.mosaic.l1[u].toUpperCase()])),o.tn.settings.mosaicCalcFactor("l1",o.tn.settings.mosaic.l1[u]));o.O.imageTransition=o.O.imageTransition.toUpperCase();o.layout.SetEngine();switch(o.O.kind){case"":break;default:jQuery.nanogallery2["data_"+o.O.kind](o,"Init")}}function s(n,t){var s=["easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","bounce"],r=n.split("_"),f,i,o,e,u;if(r.length>=4){if(t.name="",t.type=r[1],t.from=r[2],t.to=r[3],r.length>=5)for(f=4;f<r.length;f++){for(i=r[f],o=!1,e=0;e<s.length;e++)if(i==s[e]){o=!0;t.easing=i;break}if(o!==!0){if(i=i.toUpperCase(),i=="HOVERIN"){t.hoverout=!1;continue}if(i=="HOVEROUT"){t.hoverin=!1;continue}if(i=="KEYFRAME"){t.firstKeyframe=!1;continue}if(u=parseInt(i.replace(/[^0-9\.]/g,""),10),u>0){if(i.indexOf("DURATION")>=0){t.duration=u;continue}if(i.indexOf("DURATIONBACK")>=0){t.durationBack=u;continue}if(i.indexOf("DELAY")>=0){t.delay=u;continue}if(i.indexOf("DELAYBACK")>=0){t.delayBack=u;continue}t.duration=u}}}t.element=ki(r[0],t.type)}else t.name=n;return t}function ki(n,t){var i=n;switch(n){case"image":i=t=="blur"||t=="brightness"||t=="grayscale"||t=="sepia"||t=="contrast"||t=="opacity"||t=="saturate"?".nGY2GThumbnailImage":".nGY2GThumbnailImage";break;case"thumbnail":i=".nGY2GThumbnail";break;case"label":i=".nGY2GThumbnailLabel";break;case"title":i=".nGY2GThumbnailTitle";break;case"description":i=".nGY2GThumbnailDescription";break;case"tools":i=".nGY2GThumbnailIcons";break;case"customlayer":i=".nGY2GThumbnailCustomLayer"}return i}function ru(n){for(var o,e,r=[],i=0;i<n.length;i++)switch(n[i].name.toUpperCase()){case"BORDERLIGHTER":o=f(fu().thumbnail.borderColor);name="thumbnail_borderColor_"+o+"_"+u(.5,o);r.push(s(name,n[i]));break;case"BORDERDARKER":o=f(fu().thumbnail.borderColor);name="thumbnail_borderColor_"+o+"_"+u(-.5,o);r.push(s(name,n[i]));break;case"SCALE120":r.push(s("thumbnail_scale_1.00_1.20",n[i]));break;case"LABELAPPEAR":case"LABELAPPEAR75":r.push(s("label_opacity_0.00_1.00",n[i]));break;case"TOOLSAPPEAR":r.push(s("tools_opacity_0_1",n[i]));break;case"TOOLSSLIDEDOWN":r.push(s("tools_translateY_-100%_0%",n[i]));break;case"TOOLSSLIDEUP":r.push(s("tools_translateY_100%_0%",n[i]));break;case"LABELOPACITY50":r.push(s("label_opacity_1.00_0.50",n[i]));break;case"LABELSLIDEUPTOP":case"LABELSLIDEUP":r.push(s("label_translateY_100%_0%",n[i]));break;case"LABELSLIDEDOWN":r.push(s("label_translateY_-100%_0%",n[i]));break;case"SCALELABELOVERIMAGE":r.push(s("label_scale_0.00_1.00",n[i]));e=t(n[i]);r.push(s("image_scale_1.00_0.00",e));break;case"OVERSCALE":case"OVERSCALEOUTSIDE":name="label_scale_0_100";r.push(s("label_scale_2.00_1.00",n[i]));e=t(n[i]);r.push(s("label_opacity_0.00_1.00",e));e=t(n[i]);r.push(s("image_scale_1.00_0.00",e));e=t(n[i]);r.push(s("image_opacity_1.00_0.00",e));break;case"DESCRIPTIONAPPEAR":r.push(s("description_opacity_0_1",n[i]));break;case"SLIDERIGHT":r.push(s("image_translateX_0%_100%",n[i]));r.push(s("label_translateX_-100%_0%",t(n[i])));break;case"SLIDELEFT":r.push(s("image_translateX_0%_-100%",n[i]));r.push(s("label_translateX_100%_0%",t(n[i])));break;case"SLIDEUP":r.push(s("image_translateY_0%_-100%",n[i]));r.push(s("label_translateY_100%_0%",t(n[i])));break;case"SLIDEDOWN":r.push(s("image_translateY_0%_100%",n[i]));r.push(s("label_translateY_-100%_0%",t(n[i])));break;case"IMAGESCALE150":case"IMAGESCALE150OUTSIDE":r.push(s("image_scale_1.00_1.50",n[i]));break;case"IMAGESCALEIN80":r.push(s("image_scale_1.20_1.00",n[i]));break;case"IMAGESLIDERIGHT":r.push(s("image_translateX_0%_100%",n[i]));break;case"IMAGESLIDELEFT":r.push(s("image_translateX_0%_-100%",n[i]));break;case"IMAGESLIDEUP":r.push(s("image_translateY_0%_-100%",n[i]));break;case"IMAGESLIDEDOWN":r.push(s("image_translateY_0%_100%",n[i]));break;case"LABELSLIDEUP":case"LABELSLIDEUPTOP":r.push(s("label_translateY_100%_0%",n[i]));break;case"LABELSLIDEUPDOWN":r.push(s("label_translateY_0%_100%",n[i]));break;case"DESCRIPTIONSLIDEUP":r.push(s("description_translateY_110%_0%",n[i]));break;case"IMAGEBLURON":r.push(s("image_blur_2.00px_0.00px",n[i]));break;case"IMAGEBLUROFF":r.push(s("image_blur_0.00px_2.00px",n[i]));break;case"IMAGEGRAYON":r.push(s("image_grayscale_0%_100%",n[i]));break;case"IMAGEGRAYOFF":r.push(s("image_grayscale_100%_0%",n[i]));break;case"IMAGESEPIAON":r.push(s("image_sepia_100%_1%",n[i]));break;case"IMAGESEPIAOFF":r.push(s("image_sepia_1%_100%",n[i]));break;default:r.push(n[i])}return r}function nt(){return{name:"",element:"",type:"",from:"",to:"",hoverin:!0,hoverout:!0,firstKeyframe:!0,delay:0,delayBack:0,duration:400,durationBack:300,easing:"easeOutQuart",easingBack:"easeOutQuart",animParam:null}}function uu(){return{element:"",property:"",value:""}}function di(n,t){switch(n.position){case"onBottom":o.tn.style[t].label="bottom:0; ";break;case"overImageOnTop":o.tn.style[t].label="top:0; position:absolute;";break;case"overImageOnMiddle":o.tn.style[t].label="top:0; bottom:0;";o.tn.style[t].title="position:absolute; bottom:50%;";o.tn.style[t].desc="position:absolute; top:50%;";break;case"custom":break;case"overImageOnBottom":default:o.O.thumbnailLabel.position="overImageOnBottom";o.tn.style[t].label="bottom:0; position:absolute;"}n.position!="onBottom"&&(n.titleMultiLine&&(o.tn.style[t].title="white-space:normal;"),n.descriptionMultiLine&&(o.tn.style[t].desc="white-space:normal;"));switch(n.align){case"right":o.tn.style[t].label+="text-align:right;";break;case"left":o.tn.style[t].label+="text-align:left;";break;default:o.tn.style[t].label+="text-align:center;"}n.titleFontSize!=undefined&&n.titleFontSize!=""&&(o.tn.style[t].title+="font-size:"+n.titleFontSize+";");n.descriptionFontSize!=undefined&&n.descriptionFontSize!=""&&(o.tn.style[t].desc+="font-size:"+n.descriptionFontSize+";");n.displayDescription==!1&&(o.tn.style[t].desc+="display:none;")}function ue(){var t,n,r,i;for(di(o.O.thumbnailLabel,"lN"),di(o.O.thumbnailLabel,"l1"),o.O.thumbnailL1Label&&o.O.thumbnailL1Label.display&&di(o.O.thumbnailL1Label,"l1"),o.tn.borderWidth=o.O.thumbnailBorderHorizontal,o.tn.borderHeight=o.O.thumbnailBorderVertical,t=["xs","sm","me","la","xl"],n=0;n<t.length;n++)i=o.tn.settings.width.lN[t[n]],i!="auto"?(o.tn.defaultSize.width.lN[t[n]]=i,o.tn.defaultSize.width.l1[t[n]]=i):(r=o.tn.settings.height.lN[t[n]],o.tn.defaultSize.width.lN[t[n]]=r,o.tn.defaultSize.width.l1[t[n]]=r);for(n=0;n<t.length;n++)r=o.tn.settings.height.lN[t[n]],r!="auto"?(o.tn.defaultSize.height.lN[t[n]]=r,o.tn.defaultSize.height.l1[t[n]]=r):(i=o.tn.settings.width.lN[t[n]],o.tn.defaultSize.height.lN[t[n]]=i,o.tn.defaultSize.height.l1[t[n]]=i);for(n=0;n<t.length;n++)i=o.tn.settings.width.l1[t[n]],i!="auto"?o.tn.defaultSize.width.l1[t[n]]=i:(r=o.tn.settings.height.l1[t[n]],o.tn.defaultSize.width.l1[t[n]]=r);for(n=0;n<t.length;n++)r=o.tn.settings.height.l1[t[n]],r!="auto"?o.tn.defaultSize.height.l1[t[n]]=r:(i=o.tn.settings.width.l1[t[n]],o.tn.defaultSize.height.l1[t[n]]=i)}function ti(n,t,i,r){o.tn.settings[n][t].xs=i;o.tn.settings[n][t].sm=i;o.tn.settings[n][t].me=i;o.tn.settings[n][t].la=i;o.tn.settings[n][t].xl=i;o.tn.settings[n][t].xsc=r;o.tn.settings[n][t].smc=r;o.tn.settings[n][t].mec=r;o.tn.settings[n][t].lac=r;o.tn.settings[n][t].xlc=r}function fu(){var n=null;switch(i(o.O.galleryTheme)){case"object":n=o.galleryTheme_dark;jQuery.extend(!0,n,o.O.galleryTheme);break;case"string":switch(o.O.galleryTheme){case"light":n=o.galleryTheme_light;break;case"default":case"dark":case"none":default:n=o.galleryTheme_dark}break;default:n=o.galleryTheme_dark}return n}function fe(){var n,u,t,r;typeof o.O.colorScheme!="undefined"&&(o.O.galleryTheme=o.O.colorScheme);n=null;u="";switch(i(o.O.galleryTheme)){case"object":n=o.galleryTheme_dark;jQuery.extend(!0,n,o.O.galleryTheme);u="nanogallery_gallerytheme_custom_"+o.baseEltID;break;case"string":switch(o.O.galleryTheme){case"light":n=o.galleryTheme_light;u="nanogallery_gallerytheme_light_"+o.baseEltID;break;case"default":case"dark":case"none":default:n=o.galleryTheme_dark;u="nanogallery_gallerytheme_dark_"+o.baseEltID}break;default:v(o,"Error in galleryTheme parameter.");return}t="."+u+" ";r=t+".nGY2Navigationbar { background:"+n.navigationBar.background+"; }\n";n.navigationBar.border!==undefined&&n.navigationBar.border!==""&&(r+=t+".nGY2Navigationbar { border:"+n.navigationBar.border+"; }\n");n.navigationBar.borderTop!==undefined&&n.navigationBar.borderTop!==""&&(r+=t+".nGY2Navigationbar { border-top:"+n.navigationBar.borderTop+"; }\n");n.navigationBar.borderBottom!==undefined&&n.navigationBar.borderBottom!==""&&(r+=t+".nGY2Navigationbar { border-bottom:"+n.navigationBar.borderBottom+"; }\n");n.navigationBar.borderRight!==undefined&&n.navigationBar.borderRight!==""&&(r+=t+".nGY2Navigationbar { border-right:"+n.navigationBar.borderRight+"; }\n");n.navigationBar.borderLeft!==undefined&&n.navigationBar.borderLeft!==""&&(r+=t+".nGY2Navigationbar { border-left:"+n.navigationBar.borderLeft+"; }\n");r+=t+".nGY2Breadcrumb { background:"+n.navigationBreadcrumb.background+"; border-radius:"+n.navigationBreadcrumb.borderRadius+"; }\n";r+=t+".nGY2Breadcrumb .oneItem  { color:"+n.navigationBreadcrumb.color+"; }\n";r+=t+".nGY2Breadcrumb .oneItem:hover { color:"+n.navigationBreadcrumb.colorHover+"; }\n";r+=t+".nGY2NavFilterUnselected { color:"+n.navigationFilter.color+"; background:"+n.navigationFilter.background+"; border-radius:"+n.navigationFilter.borderRadius+"; }\n";r+=t+".nGY2NavFilterSelected { color:"+n.navigationFilter.colorSelected+"; background:"+n.navigationFilter.backgroundSelected+"; border-radius:"+n.navigationFilter.borderRadius+"; }\n";r+=t+".nGY2NavFilterSelectAll { color:"+n.navigationFilter.colorSelected+"; background:"+n.navigationFilter.background+"; border-radius:"+n.navigationFilter.borderRadius+"; }\n";r+=t+".nGY2GThumbnail { background:"+n.thumbnail.background+"; border-color:"+n.thumbnail.borderColor+"; border-top-width:"+o.O.thumbnailBorderVertical+"px; border-right-width:"+o.O.thumbnailBorderHorizontal+"px; border-bottom-width:"+o.O.thumbnailBorderVertical+"px; border-left-width:"+o.O.thumbnailBorderHorizontal+"px;}\n";r+=t+".nGY2GThumbnailStack { background:"+n.thumbnail.stackBackground+"; }\n";r+=t+".nGY2TnImgBack { background:"+n.thumbnail.background+"; background-image:"+n.thumbnail.backgroundImage+"; }\n";r+=t+".nGY2GThumbnailAlbumUp { background:"+n.thumbnail.background+"; background-image:"+n.thumbnail.backgroundImage+"; color:"+n.thumbnail.titleColor+"; }\n";r+=t+".nGY2GThumbnailIconsFullThumbnail { color:"+n.thumbnail.titleColor+"; }\n";r+=t+".nGY2GThumbnailLabel { background:"+n.thumbnail.labelBackground+"; opacity:"+n.thumbnail.labelOpacity+"; }\n";r+=t+".nGY2GThumbnailImageTitle  { color:"+n.thumbnail.titleColor+"; background-color:"+n.thumbnail.titleBgColor+"; "+(n.thumbnail.titleShadow==""?"":"Text-Shadow:"+n.thumbnail.titleShadow+";")+" }\n";r+=t+".nGY2GThumbnailAlbumTitle { color:"+n.thumbnail.titleColor+"; background-color:"+n.thumbnail.titleBgColor+"; "+(n.thumbnail.titleShadow==""?"":"Text-Shadow:"+n.thumbnail.titleShadow+";")+" }\n";r+=t+".nGY2GThumbnailDescription { color:"+n.thumbnail.descriptionColor+"; background-color:"+n.thumbnail.descriptionBgColor+"; "+(n.thumbnail.descriptionShadow==""?"":"Text-Shadow:"+n.thumbnail.descriptionShadow+";")+" }\n";r+=t+".nGY2GThumbnailIcons { padding:"+n.thumbnailIcon.padding+"; }\n";r+=t+".nGY2GThumbnailIcon { color:"+n.thumbnailIcon.color+"; }\n";r+=t+".nGY2GThumbnailIconTextBadge { background-color:"+n.thumbnailIcon.color+"; }\n";o.O.galleryPaginationMode!="NUMBERS"?(r+=t+".nGY2paginationDot { border:"+n.pagination.shapeBorder+"; background:"+n.pagination.shapeColor+";}\n",r+=t+".nGY2paginationDotCurrentPage { border:"+n.pagination.shapeBorder+"; background:"+n.pagination.shapeSelectedColor+";}\n",r+=t+".nGY2paginationRectangle { border:"+n.pagination.shapeBorder+"; background:"+n.pagination.shapeColor+";}\n",r+=t+".nGY2paginationRectangleCurrentPage { border:"+n.pagination.shapeBorder+"; background:"+n.pagination.shapeSelectedColor+";}\n"):(r+=t+".nGY2paginationItem { background:"+n.pagination.background+"; color:"+n.pagination.color+"; border-radius:"+n.pagination.borderRadius+"; }\n",r+=t+".nGY2paginationItemCurrentPage { background:"+n.pagination.background+"; color:"+n.pagination.color+"; border-radius:"+n.pagination.borderRadius+"; }\n",r+=t+".nGY2PaginationPrev { background:"+n.pagination.background+"; color:"+n.pagination.color+"; border-radius:"+n.pagination.borderRadius+"; }\n",r+=t+".nGY2PaginationNext { background:"+n.pagination.background+"; color:"+n.pagination.color+"; border-radius:"+n.pagination.borderRadius+"; }\n",r+=t+".nGY2paginationItemCurrentPage { background:"+n.pagination.backgroundSelected+"; }\n");r+=t+".nGY2GalleryMoreButtonAnnotation { background:"+n.thumbnail.background+"; border-color:"+n.thumbnail.borderColor+"; border-top-width:"+o.O.thumbnailBorderVertical+"px; border-right-width:"+o.O.thumbnailBorderHorizontal+"px; border-bottom-width:"+o.O.thumbnailBorderVertical+"px; border-left-width:"+o.O.thumbnailBorderHorizontal+"px;}\n";r+=t+".nGY2GalleryMoreButtonAnnotation  { color:"+n.thumbnail.titleColor+"; "+(n.thumbnail.titleShadow==""?"":"Text-Shadow:"+n.thumbnail.titleShadow)+"; }\n";jQuery("head").append('<style id="ngycs_'+o.baseEltID+'">'+r+"<\/style>");o.$E.base.addClass(u)}function ee(){var n,t,r;if(o.VOM.viewerTheme!=""){o.VOM.$cont.addClass(o.VOM.viewerTheme);return}typeof o.O.colorSchemeViewer!="undefined"&&(o.O.viewerTheme=o.O.colorSchemeViewer);n=null;switch(i(o.O.viewerTheme)){case"object":n=o.viewerTheme_dark;jQuery.extend(!0,n,o.O.viewerTheme);o.VOM.viewerTheme="nanogallery_viewertheme_custom_"+o.baseEltID;break;case"string":switch(o.O.viewerTheme){case"none":return;case"light":n=o.viewerTheme_light;o.VOM.viewerTheme="nanogallery_viewertheme_light_"+o.baseEltID;break;case"border":n=o.viewerTheme_border;o.VOM.viewerTheme="nanogallery_viewertheme_border_"+o.baseEltID;break;case"dark":case"default":n=o.viewerTheme_dark;o.VOM.viewerTheme="nanogallery_viewertheme_dark_"+o.baseEltID}break;default:v(o,"Error in viewerTheme parameter.");return}t="."+o.VOM.viewerTheme+" ";r=t+".nGY2Viewer { background:"+n.background+"; }\n";r+=t+".nGY2ViewerMedia { border:"+n.imageBorder+"; box-shadow:"+n.imageBoxShadow+"; }\n";r+=t+".nGY2Viewer .toolbarBackground { background:"+n.barBackground+"; }\n";r+=t+".nGY2Viewer .toolbar { border:"+n.barBorder+"; color:"+n.barColor+"; }\n";r+=t+".nGY2Viewer .toolbar .previousButton:after { color:"+n.barColor+"; }\n";r+=t+".nGY2Viewer .toolbar .nextButton:after { color:"+n.barColor+"; }\n";r+=t+".nGY2Viewer .toolbar .closeButton:after { color:"+n.barColor+"; }\n";r+=t+".nGY2Viewer .toolbar .label .title { color:"+n.barColor+"; }\n";r+=t+".nGY2Viewer .toolbar .label .description { color:"+n.barDescriptionColor+"; }\n";jQuery("head").append("<style>"+r+"<\/style>");o.VOM.$cont.addClass(o.VOM.viewerTheme)}function oe(){Function.prototype.bind||(Function.prototype.bind=function(n){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var r=Array.prototype.slice.call(arguments,1),u=this,t=function(){},i=function(){return u.apply(this instanceof t&&n?this:n,r.concat(Array.prototype.slice.call(arguments)))};return t.prototype=this.prototype,i.prototype=new t,i}),function(){for(var i=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}();Array.prototype.removeIf=function(n){for(var t=this.length;t--;)n(this[t],t)&&this.splice(t,1)}}function eu(n){var i=ii(n,!1),t,r;if(i.GOMidx==-1)return"exit";t=o.GOM.items[i.GOMidx].thumbnailIdx;o.GOM.slider.hostIdx==i.GOMidx&&(t=o.GOM.items[o.GOM.slider.currentIdx].thumbnailIdx);switch(i.action){case"OPEN":return tt(t,!1),"exit";case"DISPLAY":return tt(t,!0),"exit";case"TOGGLESELECT":return gi(t),"exit";case"SHARE":return hu(t),"exit";case"DOWNLOAD":return ou(t),"exit";case"INFO":return ku(o.I[t]),"exit";case"CART":return se(t),"exit";default:r=o.O.fnThumbnailToolCustAction;r!==null&&(typeof r=="function"?r(i.action,o.I[t]):window[r](i.action,o.I[t]))}}function ou(n){var i,t;o.I[n].mediaKind=="img"&&(i=o.I[n].src,o.I[n].downloadURL!=undefined&&o.I[n].downloadURL!=""&&(i=o.I[n].downloadURL),t=document.createElement("a"),t.href=i,t.download=i.split("/").pop(),t.target="_blank",t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t))}function se(n){for(var t,i=0;i<o.shoppingCart.length;i++)if(o.shoppingCart[i].idx==n){o.shoppingCart[i].cnt++;t=o.O.fnShoppingCartUpdated;t!==null&&(typeof t=="function"?t(o.shoppingCart):window[t](o.shoppingCart));l("shoppingCartUpdated");return}!1||(o.shoppingCart.push({idx:n,ID:o.I[n].GetID(),cnt:1}),t=o.O.fnShoppingCartUpdated,t!==null&&(typeof t=="function"?t(o.shoppingCart):window[t](o.shoppingCart)),l("shoppingCartUpdated"))}function su(){var i,r,n,t;for(o.GOM.nbSelected=0,i=0,r=o.GOM.items.length;i<r;i++)n=o.I[o.GOM.items[i].thumbnailIdx],n.selected&&(n.selected=!1,t=o.O.fnThumbnailSelection,t!==null&&(typeof t=="function"?t(n.$elt,n,o.I):window[t](n.$elt,n,o.I))),n.selected=!1}function gi(n){var t=o.I[n];t.selected===!0?(nr(t,!1),o.GOM.nbSelected--,l("itemUnSelected")):(nr(t,!0),o.GOM.nbSelected++,l("itemSelected"))}function nr(n,t){n.selected=t;he(n);var i=o.O.fnThumbnailSelection;i!==null&&(typeof i=="function"?i(n.$elt,n,o.I):window[i](n.$elt,n,o.I))}function he(n){if(n.$elt!=null){var i=n.$getElt(".nGY2GThumbnail"),t=n.$getElt(".nGY2GThumbnailIconImageSelect");n.selected===!0?(i.addClass("nGY2GThumbnailSubSelected"),t.addClass("nGY2ThumbnailSelected"),t.removeClass("nGY2ThumbnailUnselected"),t.html(o.O.icons.thumbnailSelected)):(i.removeClass("nGY2GThumbnailSubSelected"),t.removeClass("nGY2ThumbnailSelected"),t.addClass("nGY2ThumbnailUnselected"),t.html(o.O.icons.thumbnailUnselected))}}function hu(n){var r=o.I[n],i=document.location.protocol+"//"+document.location.hostname+document.location.pathname,f="#nanogallery/"+o.baseEltID+"/",t,u,e;f+=r.kind=="image"?r.albumID+"/"+r.GetID():r.GetID();t="";t+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="facebook">'+o.O.icons.shareFacebook+"<\/div>";t+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="pinterest">'+o.O.icons.sharePinterest+"<\/div>";t+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="tumblr">'+o.O.icons.shareTumblr+"<\/div>";t+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="twitter">'+o.O.icons.shareTwitter+"<\/div>";t+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="googleplus">'+o.O.icons.shareGooglePlus+"<\/div>";t+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="vk">'+o.O.icons.shareVK+"<\/div>";t+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="mail">'+o.O.icons.shareMail+"<\/div>";t+='<div class="nGY2PopupOneItem" style="text-align:center;"><\/div>';t+='<input class="nGY2PopupOneItemText" readonly type="text" value="'+i+f+'" style="width:100%;text-align:center;">';t+="<br>";i=encodeURIComponent(document.location.protocol+"//"+document.location.hostname+document.location.pathname+f);u=r.title;e=r.thumbImg().src;cu("Share to:",t,"Center");o.popup.$elt.find(".nGY2PopupOneItem").on("click",function(n){n.stopPropagation();var t="",r=!0;switch(jQuery(this).attr("data-share").toUpperCase()){case"FACEBOOK":t="https://www.facebook.com/sharer.php?u="+i;break;case"VK":t="http://vk.com/share.php?url="+i;break;case"GOOGLEPLUS":t="https://plus.google.com/share?url="+i;break;case"TWITTER":t="https://twitter.com/intent/tweet?text="+u+"url="+i;break;case"PINTEREST":t="https://pinterest.com/pin/create/button/?media="+e+"&url="+i+"&description="+u;break;case"TUMBLR":t="http://www.tumblr.com/share/link?url="+i+"&name="+u;break;case"MAIL":t="mailto:?subject="+u+"&body="+i;break;default:r=!1}r&&(window.open(t,"","height=550,width=500,left=100,top=100,menubar=0"),o.popup.close())})}function cu(n,t,i){var r='<div class="nGY2Popup" style="opacity:0;"><div class="nGY2PopupContent'+i+'">',u;r+='<div class="nGY2PopupCloseButton">'+o.O.icons.buttonClose+"<\/div>";r+='<div class="nGY2PopupTitle">'+n+"<\/div>";r+=t;r+="<\/div><\/div>";o.popup.$elt=jQuery(r).appendTo("body");e(o.VOM.$viewer,o.popup.$elt);o.popup.isDisplayed=!0;u=new NGTweenable;u.tween({from:{opacity:0},to:{opacity:1},easing:"easeInOutSine",duration:250,step:function(n){o.popup.$elt.css(n)}});o.popup.$elt.find(".nGY2PopupCloseButton").on("click",function(n){n.stopPropagation();o.popup.close()})}function ce(n){var t,i;o.VOM.viewerDisplayed||o.GOM.albumIdx==-1||(t=ii(n,!0),t.GOMidx!=-1&&(i=n.target||n.srcElement,pi(t.GOMidx)))}function le(n){var t,i;o.VOM.viewerDisplayed||o.GOM.albumIdx==-1||(t=ii(n,!0),t.GOMidx!=-1&&(i=n.target||n.srcElement,iu(t.GOMidx)))}function ii(n,t){var i={action:"NONE",GOMidx:-1},r,u;if(n==undefined)return i;for(r=n.target||n.srcElement;r!=o.$E.conTnParent[0];){if(jQuery(r).hasClass("nGY2GThumbnail"))return i.action=="NONE"&&(i.action="OPEN"),i.GOMidx=jQuery(r).data("index"),i;if(t||(u=jQuery(r).data("ngy2action"),u!=""&&u!=undefined&&(i.action=u)),r.parentNode==null)return i;r=r.parentNode}return i}function tt(n,t){var i=o.I[n],r=o.O.fnThumbnailClicked,u;if(r!==null&&(typeof r=="function"?r(i.$elt,i):window[r](i.$elt,i)),i.destinationURL!==undefined&&i.destinationURL.length>0){window.location=i.destinationURL;return}switch(i.kind){case"image":t===!1&&o.GOM.nbSelected>0?gi(n):tr(n);break;case"album":if(t===!1&&o.GOM.nbSelected>0)gi(n);else{if(o.O.thumbnailAlbumDisplayImage&&n!=0){lu(n);return}c("-1",i.GetID())}break;case"albumUp":u=NGY2Item.Get(o,i.albumID);c("-1",u.albumID)}}function lu(n){var i,r,t;for(o.O.debugMode&&console.log("#DisplayFirstPhotoInAlbum : "+n),i=o.I[n],r=o.I.length,t=0;t<r;t++)if(o.I[t].albumID==i.GetID()){tr(t);return}wi(i.GetID(),lu,n,null)}function au(n){var t;switch(o.O.kind){case"flickr":t="https://www.flickr.com/photos/"+o.O.userID+"/"+n.GetID();n.albumID!="0"&&(t+="/in/album-"+n.albumID+"/");window.open(t,"_blank");break;case"picasa":case"google":case"google2":default:t=n.responsiveURL();window.open(t,"_blank")}}function tr(n){var u,l,a,f,i,r,s,e,t,c;if(o.O.thumbnailOpenImage){if(o.O.thumbnailOpenOriginal){au(o.I[n]);return}for(u=[],o.VOM.currItemIdx=0,o.VOM.items=[],o.VOM.albumID=o.I[n].albumID,r=new si(n),o.VOM.items.push(r),u.push(o.I[n]),l=o.I.length,i=n+1;i<l;i++)t=o.I[i],t.kind=="image"&&t.isToDisplay(o.VOM.albumID)&&t.destinationURL==""&&(r=new si(i),o.VOM.items.push(r),u.push(t));for(a=o.VOM.items.length,f=1,i=0;i<n;i++)t=o.I[i],t.kind=="image"&&t.isToDisplay(o.VOM.albumID)&&t.destinationURL==""&&(r=new si(i),r.mediaNumber=f,o.VOM.items.push(r),u.push(t),f++);for(s=0;s<a;s++)o.VOM.items[s].mediaNumber=f,f++;if(e=o.O.fnThumbnailOpen,e!==null){typeof e=="function"?e(u):window[e](u);return}o.VOM.viewerDisplayed?(o.VOM.$mediaCurrent.empty(),t=o.VOM.NGY2Item(0),c='<div class="nGY2ViewerMediaLoaderDisplayed"><\/div>',t.mediaKind=="img"&&t.imageWidth!=0&&t.imageHeight!=0&&(c='<div class="nGY2ViewerMediaLoaderHidden"><\/div>'),o.VOM.$mediaCurrent.append(c+t.mediaMarkup),h(o.VOM.NGY2Item(1),o.VOM.$mediaNext,0),h(o.VOM.NGY2Item(-1),o.VOM.$mediaPrevious,0),t.mediaKind=="img"&&o.VOM.ImageLoader.loadImage(rt,t),ei(0,"")):ae()}}function et(){if(o.O.viewerZoom&&!o.VOM.viewerMediaIsChanged){var n=o.VOM.NGY2Item(0);if(n.imageHeight>0&&n.imageWidth>0)return o.VOM.zoom.isZooming===!1&&(o.VOM.zoom.userFactor=1,o.VOM.zoom.isZooming=!0),!0}}function ir(n){n?(o.VOM.zoom.userFactor+=.1,vu()):(o.VOM.zoom.userFactor-=.1,yu());it()}function vu(){o.VOM.zoom.userFactor>3&&(o.VOM.zoom.userFactor=3)}function yu(){o.VOM.zoom.userFactor<.2&&(o.VOM.zoom.userFactor=.2)}function it(){o.VOM.zoom.isZooming||(o.VOM.zoom.userFactor=1);ur(o.VOM.NGY2Item(0),o.VOM.$mediaCurrent,!0);ur(o.VOM.NGY2Item(-1),o.VOM.$mediaPrevious,!1);ur(o.VOM.NGY2Item(1),o.VOM.$mediaNext,!1)}function rr(n){var t=n.children().eq(1);t.css({height:"80%"});t.css({width:"90%"});t[0].style[o.CSStransformName]='translate(0px, "50%") '}function ur(n,t,i){var c,r,f,e,l,s;if(n.mediaKind!="img"){rr(t);return}if(n.imageHeight==0||n.imageWidth==0){h(n,t,0);return}c=i==!0?o.VOM.zoom.userFactor:1;r=1;o.O.viewerImageDisplay=="bestImageQuality"&&(r=window.devicePixelRatio);var a=(o.VOM.window.lastWidth-o.VOM.padding.V)/(n.imageWidth/r),v=(o.VOM.window.lastHeight-o.VOM.padding.H)/(n.imageHeight/r),u=Math.min(a,v);u>1&&o.O.viewerImageDisplay!="upscale"&&(u=1);f=n.imageHeight/r*c*u;e=n.imageWidth/r*c*u;t.children().eq(1).css({height:f});t.children().eq(1).css({width:e});l=0;e>o.VOM.window.lastWidth&&(l=-(e-o.VOM.window.lastWidth)/2);s=0;f>o.VOM.window.lastHeight&&(s=(f-o.VOM.window.lastHeight)/2);s=0;i?(o.VOM.zoom.isZooming||(o.VOM.panPosX=0,o.VOM.panPosY=0),o.VOM.zoom.posX=l,o.VOM.zoom.posY=s,fr(o.VOM.panPosX,o.VOM.panPosY,t,!1)):ht(o.VOM.swipePosX)}function fr(n,t,i,r){r&&(o.VOM.panPosX=n,o.VOM.panPosY=t);n+=o.VOM.zoom.posX;t+=o.VOM.zoom.posY;i.children().eq(1)[0].style[o.CSStransformName]="translate("+n+"px, "+t+"px) "}function ae(){var t,i,r,u,f,l,a,s,p,h,v,w,c,y,n,b,k;o.VOM.viewerDisplayed=!0;o.GOM.firstDisplay=!1;o.VOM.saveOverflowX=window.getComputedStyle(document.body)["overflow-x"];o.VOM.saveOverflowY=window.getComputedStyle(document.body)["overflow-y"];jQuery("body").css({overflow:"hidden"});o.VOM.$cont=jQuery('<div  class="nGY2 nGY2ViewerContainer" style="opacity:1"><\/div>').appendTo("body");ee();o.VOM.$viewer=jQuery('<div class="nGY2Viewer" style="opacity:0" itemscope itemtype="http://schema.org/ImageObject"><\/div>').appendTo(o.VOM.$cont);o.VOM.$viewer.css({msTouchAction:"none",touchAction:"none"});o.VOM.currItemIdx=0;t='<div class="nGY2ViewerMediaPan"><div class="nGY2ViewerMediaLoaderDisplayed"><\/div>'+o.VOM.NGY2Item(-1).mediaMarkup+"<\/div>";t+='<div class="nGY2ViewerMediaPan"><div class="nGY2ViewerMediaLoaderDisplayed"><\/div>'+o.VOM.NGY2Item(0).mediaMarkup+"<\/div>";t+='<div class="nGY2ViewerMediaPan"><div class="nGY2ViewerMediaLoaderDisplayed"><\/div>'+o.VOM.NGY2Item(1).mediaMarkup+"<\/div>";i="";r=o.O.icons.viewerImgPrevious;r!=undefined&&r!=""&&(i+='<div class="nGY2ViewerAreaPrevious ngy2viewerToolAction" data-ngy2action="previous">'+r+"<\/div>");u=o.O.icons.viewerImgNext;u!=undefined&&u!=""&&(i+='<div class="nGY2ViewerAreaNext ngy2viewerToolAction" data-ngy2action="next">'+u+"<\/div>");o.VOM.$content=jQuery('<div class="nGY2ViewerContent">'+t+i+"<\/div>").appendTo(o.VOM.$viewer);f=o.VOM.$content.find(".nGY2ViewerMediaPan");o.VOM.$mediaPrevious=f.eq(0);o.VOM.$mediaCurrent=f.eq(1);o.VOM.$mediaNext=f.eq(2);o.VOM.ImageLoader.loadImage(rt,o.VOM.NGY2Item(0));o.VOM.ImageLoader.loadImage(rt,o.VOM.NGY2Item(-1));o.VOM.ImageLoader.loadImage(rt,o.VOM.NGY2Item(1));o.VOM.padding.H=parseInt(o.VOM.$content.css("padding-left"))+parseInt(o.VOM.$content.css("padding-right"));o.VOM.padding.V=parseInt(o.VOM.$content.css("padding-top"))+parseInt(o.VOM.$content.css("padding-bottom"));l="";a=" toolbarBackground";o.O.viewerToolbar.fullWidth&&(l=" toolbarBackground",a="");s="text-align:center;";switch(o.O.viewerToolbar.align){case"left":s="text-align:left;";break;case"right":s="text-align:right;"}if(p='<div class="toolbarContainer nGEvent'+l+'" style="visibility:'+(o.O.viewerToolbar.display?"visible":"hidden")+";"+s+'"><div class="toolbar nGEvent'+a+'"><\/div><\/div>',o.VOM.$toolbar=jQuery(p).appendTo(o.VOM.$viewer),o.VOM.toolbarMode=="min"||o.O.viewerToolbar.autoMinimize>0&&o.O.viewerToolbar.autoMinimize>=o.GOM.cache.viewport.w?er():fi(),o.O.viewerTools.topLeft!=""){for(h='<div class="nGY2ViewerToolsTopLeft nGEvent"><div class="toolbar nGEvent">',v=o.O.viewerTools.topLeft.split(","),n=0,w=v.length;n<w;n++)h+=ri(v[n]);h+="<\/div><\/div>";o.VOM.$toolbarTL=jQuery(h).appendTo(o.VOM.$viewer)}if(o.O.viewerTools.topRight!=""){for(c='<div class="nGY2ViewerToolsTopRight nGEvent"><div class="toolbar nGEvent">',y=o.O.viewerTools.topRight.split(","),n=0,b=y.length;n<b;n++)c+=ri(y[n]);c+="<\/div><\/div>";o.VOM.$toolbarTR=jQuery(c).appendTo(o.VOM.$viewer)}wu();o.O.viewerDisplayLogo&&(o.$E.vwLogo=jQuery('<div class="nGY2 nGY2ViewerLogo"><\/div>').appendTo(o.VOM.$viewer));ngscreenfull.enabled&&o.O.viewerFullscreen&&ngscreenfull.request();e("",o.VOM.$viewer);vt(!0);o.VOM.timeImgChanged=(new Date).getTime();k=new NGTweenable;k.tween({from:{opacity:0,posY:o.VOM.window.lastHeight*.5},to:{opacity:1,posY:0},delay:30,duration:500,easing:"easeOutQuart",step:function(n){o.VOM.$viewer.css("opacity",n.opacity);o.VOM.$viewer[0].style[o.CSStransformName]="translateY("+n.posY+"px) "}});ht(0);ve();ei(0,"");o.O.slideshowAutoStart&&(o.VOM.playSlideshow=!1,ui())}function ot(){return!o.VOM.viewerDisplayed||o.VOM.viewerMediaIsChanged||o.VOM.NGY2Item(0).mediaKind!="img"?!1:!0}function ve(){if(o.VOM.hammertime==null){o.VOM.hammertime=new NGHammer.Manager(o.VOM.$cont[0],{recognizers:[[NGHammer.Pinch,{enable:!0}],[NGHammer.Pan,{direction:NGHammer.DIRECTION_ALL}]]});o.VOM.hammertime.on("pan",function(n){if(ot())if(o.VOM.zoom.isZooming)fr(o.VOM.panPosX+n.deltaX,o.VOM.panPosY+n.deltaY,o.VOM.$mediaCurrent,!1),o.VOM.toolbarsDisplayed==!0&&o.VOM.toolsHide();else if(n.deltaY>50&&Math.abs(n.deltaX)<50){ht(0);var t=Math.min(n.deltaY,200);o.VOM.$viewer[0].style[o.CSStransformName]="translateY("+t+"px) ";o.VOM.$viewer.css("opacity",1-t/400)}else ht(n.deltaX),o.VOM.$viewer[0].style[o.CSStransformName]="translateY(0px)",o.VOM.$viewer.css("opacity",1)});o.VOM.hammertime.on("panend",function(n){ot()&&(o.VOM.zoom.isZooming?(o.VOM.timeImgChanged=(new Date).getTime(),fr(o.VOM.panPosX+n.deltaX,o.VOM.panPosY+n.deltaY,o.VOM.$mediaCurrent,!0)):n.deltaY>50&&Math.abs(n.deltaX)<50?at(o.VOM.currItemIdx):Math.abs(n.deltaX)<50?ht(0):n.deltaX>50?ct():d())});if(o.O.viewerZoom){o.VOM.hammertime.add(new NGHammer.Tap({event:"doubletap",taps:2}));o.VOM.hammertime.add(new NGHammer.Tap({event:"singletap"}));o.VOM.hammertime.get("doubletap").recognizeWith("singletap");o.VOM.hammertime.get("singletap").requireFailure("doubletap");o.VOM.hammertime.on("singletap",function(n){ot()&&(a(n.srcEvent),o.VOM.toolbarsDisplayed==!1?p(st,100,!1)():n.target.className.indexOf("nGY2ViewerMedia")!==-1&&(n.srcEvent.pageX<o.GOM.cache.viewport.w/2?ct():d()))});o.VOM.hammertime.on("doubletap",function(n){ot()&&(a(n.srcEvent),n.target.className.indexOf("nGY2ViewerMedia")!==-1&&(o.VOM.zoom.isZooming?(o.VOM.zoom.isZooming=!1,o.VOM.zoom.userFactor=1,vt(!0)):et()&&(o.VOM.zoom.userFactor=1.5,it())))});o.VOM.hammertime.on("pinchend",function(n){n.srcEvent.stopPropagation();n.srcEvent.preventDefault();o.VOM.timeImgChanged=(new Date).getTime()});o.VOM.hammertime.on("pinch",function(n){n.srcEvent.stopPropagation();n.srcEvent.preventDefault();et()&&(o.VOM.zoom.userFactor=n.scale,vu(),yu(),it())})}else o.VOM.hammertime.on("tap",function(n){ot()&&(a(n.srcEvent),o.VOM.toolbarsDisplayed==!1?p(st,100,!1)():n.target.className.indexOf("nGY2ViewerMedia")!==-1&&(n.srcEvent.pageX<o.GOM.cache.viewport.w/2?ct():d()))})}}function a(n){n.stopPropagation();n.preventDefault()}function ye(){o.VOM.viewerDisplayed&&(o.VOM.toolbarsDisplayed=!1,pu(0))}function st(){o.VOM.viewerDisplayed&&(o.VOM.toolbarsDisplayed=!0,pu(1),o.VOM.toolsHide())}function pu(n){o.VOM.$toolbar.css("opacity",n);o.VOM.$toolbarTL!=null&&o.VOM.$toolbarTL.css("opacity",n);o.VOM.$toolbarTR!=null&&o.VOM.$toolbarTR.css("opacity",n);o.VOM.$content.find(".nGY2ViewerAreaNext").css("opacity",n);o.VOM.$content.find(".nGY2ViewerAreaPrevious").css("opacity",n)}function wu(){o.VOM.$viewer.off("touchstart click",".ngy2viewerToolAction",bu);o.VOM.$viewer.on("touchstart click",".ngy2viewerToolAction",bu)}function bu(t){var u,i,r;if(!((new Date).getTime()-o.timeLastTouchStart<300)&&(o.timeLastTouchStart=(new Date).getTime(),u=n(this),i=u.data("ngy2action"),i!=undefined)){switch(i){case"next":a(t);d();break;case"previous":a(t);ct();break;case"playPause":t.stopPropagation();ui();break;case"zoomIn":a(t);et()&&ir(!0);break;case"zoomOut":a(t);et()&&ir(!1);break;case"minimize":a(t);o.VOM.toolbarMode=="std"?er():fi();break;case"fullScreen":t.stopPropagation();ngscreenfull.enabled&&ngscreenfull.toggle();break;case"info":t.stopPropagation();ku(o.VOM.NGY2Item(0));break;case"close":if(a(t),(new Date).getTime()-o.VOM.timeImgChanged<400)return;at(o.VOM.currItemIdx);break;case"download":a(t);ou(o.VOM.items[o.VOM.currItemIdx].ngy2ItemIdx);break;case"share":a(t);hu(o.VOM.items[o.VOM.currItemIdx].ngy2ItemIdx);break;case"linkOriginal":a(t);au(o.VOM.NGY2Item(0))}r=o.O.fnImgToolbarCustClick;i.indexOf("custom")==0&&r!==null&&(typeof r=="function"?r(i,u,o.VOM.NGY2Item(0)):window[r](i,u,o.VOM.NGY2Item(0)))}}function ku(n){var i='<div class="nGY2PopupOneItemText">'+n.title+"<\/div>",t;i+='<div class="nGY2PopupOneItemText">'+n.description+"<\/div>";n.author!=""&&(i+='<div class="nGY2PopupOneItemText">'+o.O.icons.user+" "+n.author+"<\/div>");n.exif.model!=""&&(i+='<div class="nGY2PopupOneItemText">'+o.O.icons.config+" "+n.exif.model+"<\/div>");t="";t+=n.exif.flash==""?"":" &nbsp; "+n.exif.flash;t+=n.exif.focallength==""?"":" &nbsp; "+n.exif.focallength+"mm";t+=n.exif.fstop==""?"":" &nbsp; f"+n.exif.fstop;t+=n.exif.exposure==""?"":" &nbsp; "+n.exif.exposure+"s";t+=n.exif.iso==""?"":" &nbsp; "+n.exif.iso+" ISO";n.exif.time!=""&&(t+=" &nbsp; "+n.exif.time);i+='<div class="nGY2PopupOneItemText">'+t+"<\/div>";n.exif.location!=""&&(i+='<div class="nGY2PopupOneItemText">'+o.O.icons.location+' <a href="http://maps.google.com/maps?z=12&t=m&q='+encodeURIComponent(n.exif.location)+'" target="_blank">'+n.exif.location+"<\/a><\/div>",i+='<iframe width="300" height="150" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?&amp;t=m&amp;q='+encodeURIComponent(n.exif.location)+'&amp;output=embed"><\/iframe>');cu(o.O.icons.viewerInfo,i,"Left")}function ri(n){var t='<div class="ngbt ngy2viewerToolAction ',i=n.replace(/^\s+|\s+$/g,""),f,e,r,u,s;switch(i){case"minimizeButton":f=o.O.icons.viewerToolbarMin;o.VOM.toolbarMode=="min"&&(f=o.O.icons.viewerToolbarStd);t+='minimizeButton nGEvent" data-ngy2action="minimize">'+f+"<\/div>";break;case"previousButton":t+='previousButton nGEvent" data-ngy2action="previous">'+o.O.icons.viewerPrevious+"<\/div>";break;case"pageCounter":t+='pageCounter nGEvent"><\/div>';break;case"nextButton":t+='nextButton nGEvent" data-ngy2action="next">'+o.O.icons.viewerNext+"<\/div>";break;case"playPauseButton":t+='playButton playPauseButton nGEvent" data-ngy2action="playPause">'+o.O.icons.viewerPlay+"<\/div>";break;case"downloadButton":t+='downloadButton nGEvent" data-ngy2action="download">'+o.O.icons.viewerDownload+"<\/div>";break;case"zoomButton":t+='nGEvent" data-ngy2action="zoomIn">'+o.O.icons.viewerZoomIn+'<\/div><div class="ngbt ngy2viewerToolAction nGEvent" data-ngy2action="zoomOut">'+o.O.icons.viewerZoomOut+"<\/div>";break;case"fullscreenButton":e=o.O.icons.viewerFullscreenOn;ngscreenfull.enabled&&o.VOM.viewerIsFullscreen&&(e=o.O.icons.viewerFullscreenOff);t+='setFullscreenButton fullscreenButton nGEvent" data-ngy2action="fullScreen">'+e+"<\/div>";break;case"infoButton":t+='infoButton nGEvent" data-ngy2action="info">'+o.O.icons.viewerInfo+"<\/div>";break;case"linkOriginalButton":t+='linkOriginalButton nGEvent" data-ngy2action="linkOriginal">'+o.O.icons.viewerLinkOriginal+"<\/div>";break;case"closeButton":t+='closeButton nGEvent" data-ngy2action="close">'+o.O.icons.buttonClose+"<\/div>";break;case"shareButton":t+='nGEvent" data-ngy2action="share">'+o.O.icons.viewerShare+"<\/div>";break;case"label":t+='"><div class="title nGEvent" itemprop="name"><\/div><div class="description nGEvent" itemprop="description"><\/div><\/div>';break;default:i.indexOf("custom")==0?(r="",u=o.O.fnImgToolbarCustInit,u!==null&&(typeof u=="function"?u(i):window[u](i)),(r==undefined||r=="")&&(s=i.substring(6),r=o.O.icons["viewerCustomTool"+s]),t+="ngy2CustomBtn "+i+' nGEvent" data-ngy2action="'+i+'">'+r+"<\/div>"):t=""}return t}function ui(){o.VOM.playSlideshow?(window.clearTimeout(o.VOM.playSlideshowTimerID),o.VOM.playSlideshow=!1,o.VOM.$viewer.find(".playPauseButton").html(o.O.icons.viewerPlay)):(o.VOM.playSlideshow=!0,d(),o.VOM.$viewer.find(".playPauseButton").html(o.O.icons.viewerPause))}function fi(){var t,i,n,r;for(o.VOM.toolbarMode="std",t="",i=o.O.viewerToolbar.standard.split(","),n=0,r=i.length;n<r;n++)t+=ri(i[n]);o.VOM.$toolbar.find(".toolbar").html(t);or()}function er(){var t,i,n,r;if(o.O.viewerToolbar.minimized==undefined||o.O.viewerToolbar.minimized=="")fi();else{for(o.VOM.toolbarMode="min",t="",i=o.O.viewerToolbar.minimized.split(","),n=0,r=i.length;n<r;n++)t+=ri(i[n]);o.VOM.$toolbar.find(".toolbar").html(t);or()}}function or(){var f=o.VOM.currItemIdx,n,i,u,r,t;f!=null&&(n=o.VOM.NGY2Item(0),i=!1,n.title!==undefined&&n.title!=""?(o.VOM.$viewer.find(".ngy2viewerToolAction").find(".title").html(n.title),i=!0):o.VOM.$viewer.find(".ngy2viewerToolAction").find(".title").html(""),n.description!==undefined&&n.description!=""?(o.VOM.$viewer.find(".ngy2viewerToolAction").find(".description").html(n.description),i=!0):o.VOM.$viewer.find(".ngy2viewerToolAction").find(".description").html(""),i?o.VOM.$viewer.find(".ngy2viewerToolAction").find(".label").show():o.VOM.$viewer.find(".ngy2viewerToolAction").find(".label").hide(),u=o.VOM.items.length,u>0&&o.VOM.$viewer.find(".pageCounter").html(o.VOM.items[f].mediaNumber+"/"+u),r=o.VOM.$viewer.find(".ngy2CustomBtn"),t=o.O.fnImgToolbarCustDisplay,r.length>0&&t!==null&&(typeof t=="function"?t(r,n):window[t](r,n)),wu())}function ht(n){var t,i,r;o.VOM.swipePosX=n;o.CSStransformName==null||(o.VOM.$mediaCurrent[0].style[o.CSStransformName]="translate("+n+"px, 0px)",o.O.imageTransition.startsWith("SWIPE")&&(o.VOM.NGY2Item(-1).mediaTransition()&&h(o.VOM.NGY2Item(-1),o.VOM.$mediaPrevious,1),o.VOM.NGY2Item(1).mediaTransition()&&h(o.VOM.NGY2Item(1),o.VOM.$mediaNext,1),t=Math.min(Math.max(Math.abs(n)/o.VOM.window.lastWidth,.8),1),o.O.imageTransition=="SWIPE"&&(t=1),n>0?(i=o.VOM.window.lastWidth,o.VOM.NGY2Item(-1).mediaTransition()&&(o.VOM.$mediaPrevious[0].style[o.CSStransformName]="translate("+(-i+n)+"px, 0px) scale("+t+")"),o.VOM.NGY2Item(1).mediaTransition()&&(o.VOM.$mediaNext[0].style[o.CSStransformName]="translate("+i+"px, 0px) scale("+t+")")):(i=-o.VOM.window.lastWidth,o.VOM.NGY2Item(1).mediaTransition()&&(o.VOM.$mediaNext[0].style[o.CSStransformName]="translate("+(-i+n)+"px, 0px) scale("+t+")"),o.VOM.NGY2Item(-1).mediaTransition()&&(o.VOM.$mediaPrevious[0].style[o.CSStransformName]="translate("+i+"px, 0px) scale("+t+")"))),o.O.imageTransition=="SLIDEAPPEAR"&&(o.VOM.$mediaPrevious[0].style[o.CSStransformName]="",o.VOM.$mediaNext[0].style[o.CSStransformName]="",n<0?(r=-n/o.VOM.window.lastWidth,o.VOM.NGY2Item(1).mediaTransition()&&h(o.VOM.NGY2Item(1),o.VOM.$mediaNext,r),o.VOM.NGY2Item(-1).mediaTransition()&&h(o.VOM.NGY2Item(-1),o.VOM.$mediaPrevious,0)):(r=n/o.VOM.window.lastWidth,o.VOM.NGY2Item(-1).mediaTransition()&&h(o.VOM.NGY2Item(-1),o.VOM.$mediaPrevious,r),o.VOM.NGY2Item(1).mediaTransition()&&h(o.VOM.NGY2Item(1),o.VOM.$mediaNext,0))))}function d(){o.VOM.viewerMediaIsChanged||(new Date).getTime()-o.VOM.timeImgChanged<300||(l("lightboxNextImage"),ei(o.VOM.IdxNext(),"nextImage"))}function ct(){o.VOM.viewerMediaIsChanged||(new Date).getTime()-o.VOM.timeImgChanged<300||(o.VOM.playSlideshow&&ui(),l("lightboxPreviousImage"),ei(o.VOM.IdxPrevious(),"previousImage"))}function ei(n,t){var i,e,f,s;o.VOM.playSlideshow&&window.clearTimeout(o.VOM.playSlideshowTimerID);var c=o.VOM.NGY2Item(0),r=o.I[o.VOM.items[n].ngy2ItemIdx],u=t=="nextImage"?o.VOM.$mediaNext:o.VOM.$mediaPrevious;if(t=="nextImage"?h(o.VOM.NGY2Item(-1),o.VOM.$mediaPrevious,0):h(o.VOM.NGY2Item(1),o.VOM.$mediaNext,0),o.VOM.timeImgChanged=(new Date).getTime(),o.VOM.viewerMediaIsChanged=!0,o.VOM.zoom.isZooming=!1,vt(!0),o.O.debugMode&&console.timeline&&console.timeline("nanogallery2_viewer"),oi(r.albumID,r.GetID()),i=o.GOM.cache.viewport,e=400*(i.w-Math.abs(o.VOM.swipePosX))/i.w,t=="")h(o.VOM.NGY2Item(0),o.VOM.$mediaCurrent,1),o.CSStransformName==null?(h(r,u,1),lt(t,n)):(h(r,u,0),(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},attachment:{dT:t,item:c},easing:"easeInOutSine",delay:30,duration:400,step:function(n){o.VOM.$content.css("opacity",n.opacity)},finish:function(t,i){st();lt(i.dT,n)}}));else if(o.CSStransformName==null)h(r,u,1),h(o.VOM.NGY2Item(0),o.VOM.$mediaCurrent,1),lt(t,n);else switch(o.O.imageTransition){case"SWIPE":case"SWIPE2":f=t=="nextImage"?-i.w:i.w;u[0].style[o.CSStransformName]="translate("+-f+"px, 0px) ";(new NGTweenable).tween({from:{t:o.VOM.swipePosX},to:{t:t=="nextImage"?-i.w:i.w},attachment:{dT:t,$e:u,itemNew:r,dir:f},delay:30,duration:e,easing:o.O.imageTransition=="swipe"?"easeInOutSine":"easeInOutCubic",step:function(n,t){if(h(o.VOM.NGY2Item(0),o.VOM.$mediaCurrent,1),o.VOM.$mediaCurrent[0].style[o.CSStransformName]="translate("+n.t+"px, 0px)",t.itemNew.mediaTransition()){h(t.itemNew,t.$e,1);var i=Math.min(Math.max(Math.abs(n.t)/o.VOM.window.lastWidth,.8),1);o.O.imageTransition=="swipe"&&(i=1);t.$e[0].style[o.CSStransformName]="translate("+(-t.dir+n.t)+"px, 0px) scale("+i+")"}},finish:function(t,i){o.VOM.$mediaCurrent[0].style[o.CSStransformName]="";i.$e[0].style[o.CSStransformName]="";lt(i.dT,n)}});break;case"SLIDEAPPEAR":default:f=t=="nextImage"?-i.w:i.w;s=Math.abs(o.VOM.swipePosX)/o.VOM.window.lastWidth;u[0].style[o.CSStransformName]="";(new NGTweenable).tween({from:{o:s,t:o.VOM.swipePosX},to:{o:1,t:t=="nextImage"?-i.w:i.w},attachment:{dT:t,$e:u,itemNew:r,dir:f},delay:30,duration:e,easing:"easeInOutSine",step:function(n,t){o.VOM.$mediaCurrent[0].style[o.CSStransformName]="translate("+n.t+"px, 0px)";t.itemNew.mediaTransition()&&h(t.itemNew,t.$e,n.o)},finish:function(t,i){o.VOM.$mediaCurrent[0].style[o.CSStransformName]="";lt(i.dT,n)}})}}function lt(n,t){var f,e,s,c,i,u,r;if(o.VOM.currItemIdx=t,f=o.VOM.NGY2Item(0),or(),o.O.debugMode&&console.timeline&&console.timelineEnd("nanogallery2_viewer"),e=o.O.fnImgDisplayed,e!==null&&(typeof e=="function"?e(f):window[e](f)),o.VOM.swipePosX=0,n!=""){o.VOM.$mediaCurrent.removeClass("imgCurrent");s=o.VOM.$mediaCurrent;switch(n){case"nextImage":o.VOM.$mediaCurrent=o.VOM.$mediaNext;o.VOM.$mediaNext=s;break;case"previousImage":o.VOM.$mediaCurrent=o.VOM.$mediaPrevious;o.VOM.$mediaPrevious=s}o.VOM.$mediaCurrent.addClass("imgCurrent");c=o.VOM.$content.find(".nGY2ViewerMediaPan");o.VOM.$mediaCurrent.insertAfter(c.last());f.mediaKind=="img"&&f.imageWidth==0?h(o.VOM.NGY2Item(0),o.VOM.$mediaCurrent,0):(o.VOM.$mediaCurrent.children().eq(0).attr("class","nGY2ViewerMediaLoaderHidden"),h(o.VOM.NGY2Item(0),o.VOM.$mediaCurrent,1))}o.VOM.$mediaNext.empty();i=o.VOM.NGY2Item(1);u='<div class="nGY2ViewerMediaLoaderDisplayed"><\/div>';i.mediaKind=="img"&&i.imageWidth!=0&&i.imageHeight!=0&&(u='<div class="nGY2ViewerMediaLoaderHidden"><\/div>');o.VOM.$mediaNext.append(u+i.mediaMarkup);h(i,o.VOM.$mediaNext,0);i.mediaKind=="img"?o.VOM.ImageLoader.loadImage(rt,i):rr(o.VOM.$mediaNext);o.VOM.$mediaPrevious.empty();r=o.VOM.NGY2Item(-1);u='<div class="nGY2ViewerMediaLoaderDisplayed"><\/div>';r.mediaKind=="img"&&r.imageWidth!=0&&r.imageHeight!=0&&(u='<div class="nGY2ViewerMediaLoaderHidden"><\/div>');o.VOM.$mediaPrevious.append(u+r.mediaMarkup);h(r,o.VOM.$mediaPrevious,0);r.mediaKind=="img"?o.VOM.ImageLoader.loadImage(rt,r):rr(o.VOM.$mediaPrevious);o.VOM.playSlideshow&&o.VOM.$mediaCurrent.children().eq(1).ngimagesLoaded().always(function(){o.VOM.playSlideshow&&(o.VOM.playSlideshowTimerID=window.setTimeout(function(){d()},o.VOM.slideshowDelay))});vt();o.VOM.viewerMediaIsChanged=!1;l("lightboxImageDisplayed")}function rt(n,t,i){i.imageWidth=n;i.imageHeight=t;o.VOM.NGY2Item(0)==i&&(o.VOM.$mediaCurrent.children().eq(0).attr("class","nGY2ViewerMediaLoaderHidden"),h(o.VOM.NGY2Item(0),o.VOM.$mediaCurrent,1),o.VOM.zoom.userFactor=1);o.VOM.NGY2Item(1)==i&&o.VOM.$mediaNext.children().eq(0).attr("class","nGY2ViewerMediaLoaderHidden");o.VOM.NGY2Item(-1)==i&&o.VOM.$mediaPrevious.children().eq(0).attr("class","nGY2ViewerMediaLoaderHidden");it()}function h(n,t,i){if(n.mediaKind=="img"&&n.imageWidth==0){t.children().eq(1).css({opacity:0,visibility:"hidden"});return}i==0?t.children().css({opacity:0,visibility:"hidden"}):t.children().css({opacity:i,visibility:"visible"})}function at(n){if(o.VOM.viewerMediaIsChanged=!1,o.VOM.viewerDisplayed){if(jQuery("body").css({overflowX:o.VOM.saveOverflowX,overflowY:o.VOM.saveOverflowY}),o.VOM.playSlideshow&&(window.clearTimeout(o.VOM.playSlideshowTimerID),o.VOM.playSlideshow=!1),o.VOM.hammertime.destroy(),o.VOM.hammertime=null,ngscreenfull.enabled&&o.VOM.viewerIsFullscreen&&(o.VOM.viewerIsFullscreen=!1,ngscreenfull.exit()),o.VOM.$cont.hide(0).off().show(0).html("").remove(),o.VOM.viewerDisplayed=!1,o.O.thumbnailAlbumDisplayImage){if(n!=null){var i=o.I[o.VOM.items[n].ngy2ItemIdx],t=NGY2Item.Get(o,i.albumID);o.GOM.albumIdx!=t.albumID?c("-1",t.albumID):(w(),oi("",""),tu())}}else n!=null&&(o.GOM.albumIdx==-1?c("",o.I[o.VOM.items[n].ngy2ItemIdx].albumID):(w(),oi(o.I[o.VOM.items[n].ngy2ItemIdx].albumID,""),tu()));o.VOM.timeImgChanged=(new Date).getTime()}}function vt(n){var u,r;if(n=typeof n!="undefined"?n:!1,o.VOM.$toolbar!==null){var i=o.VOM.$viewer.width(),t=o.VOM.$viewer.height(),f=o.VOM.$mediaCurrent.children().eq(1);if(f!=null&&o.VOM.currItemIdx!=-1&&(n||o.VOM.window.lastWidth!=i||o.VOM.window.lastHeight!=t)){o.VOM.window.lastWidth=i;o.VOM.window.lastHeight=t;u=o.VOM.$toolbar.find(".toolbar");r=u.outerHeight(!0);switch(o.O.viewerToolbar.position){case"topOverImage":o.VOM.$content.css({height:t,width:i,top:0});o.VOM.$toolbar.css({top:0,bottom:""});break;case"top":t-=r;o.VOM.$content.css({height:t,width:i,top:r});o.VOM.$toolbar.css({top:0});break;case"bottomOverImage":o.VOM.$content.css({height:t,width:i,bottom:0,top:0});o.VOM.$toolbar.css({bottom:0});break;case"bottom":default:t-=r;o.VOM.$content.css({width:i,top:0,bottom:r});o.VOM.$toolbar.css({bottom:0})}!o.VOM.viewerMediaIsChanged&&o.VOM.zoom.isZooming?it():(o.VOM.zoom.userFactor=1,o.VOM.zoom.isZooming=!1,o.VOM.panPosX=0,o.VOM.panPosY=0,o.VOM.zoom.posX=0,o.VOM.zoom.posY=0,it())}}}function pe(){var s=o.$E.base.children("a"),h,t,e,i,r,u,n,c,f;s.length>0&&(o.O.$markup=s);o.$E.base.text("");o.$E.base.addClass("ngy2_container");h="";o.O.RTL&&(h='style="text-align:right;direction:rtl;"');o.$E.base.addClass(o.O.theme);fe();o.O.thumbnailLabel.get("hideIcons")&&(o.O.icons.thumbnailAlbum="",o.O.icons.thumbnailImage="");t="";o.O.navigationFontSize!=undefined&&o.O.navigationFontSize!=""&&(t=' style="font-size:'+o.O.navigationFontSize+';"');o.$E.conNavigationBar=jQuery('<div class="nGY2Navigationbar" '+t+"><\/div>").appendTo(o.$E.base);o.$E.conLoadingB=jQuery('<div class="nanoGalleryLBarOff"><div><\/div><div><\/div><div><\/div><div><\/div><div><\/div><\/div>').appendTo(o.$E.base);o.$E.conTnParent=jQuery('<div class="nGY2Gallery"><\/div>').appendTo(o.$E.base);o.$E.conTn=jQuery('<div class="nGY2GallerySub"><\/div>').appendTo(o.$E.conTnParent);switch(o.O.thumbnailAlignment){case"left":o.$E.conTnParent.css({"text-align":"left"});break;case"right":o.$E.conTnParent.css({"text-align":"right"})}if(o.O.galleryBuildInit2!==undefined)for(e=o.O.galleryBuildInit2.split("|"),i=0;i<e.length;i++)r=e[i].split("_"),r.length==2&&o.$E.conTn.css(r[0],r[1]);for(u=o.tn.hoverEffects.std.concat(o.tn.hoverEffects.level1),n=0;n<u.length;n++)switch(u[n].type){case"scale":case"rotateZ":case"rotateX":case"rotateY":case"translateX":case"translateY":u[n].element==".nGY2GThumbnail"&&(o.$E.base.css("overflow","visible"),o.$E.base.find(".nGY2GallerySub").css("overflow","visible"),o.$E.conTnParent.css("overflow","visible"))}if(o.$E.conTnBottom=jQuery('<div class="nGY2GalleryBottom" '+t+"><\/div>").appendTo(o.$E.conTnParent),o.O.portable){c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAYCAYAAACbU/80AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH4QgDBCAWVVC/hwAABRxJREFUSMetll9oVFcexz/nnDvJRBmSzWTrmD9uNGZsHta0/qFIFQTxRcnCBgTFNlX0YR8W+1AK9lGwCBJYgn0KKr5136S4gpUQTR4caJRslcxYWV3iaphQapJJppO5957z60Mmk4mN1q75wg/OPefc+/v9vt/fueenKEFEqICqsNWAVNiCA7XwaS0iZeejo6OIiCltdIBdJXMLOYp5/PjxsoTVS5nr0mYDJIE/lObeBhaYAn4oJbboAwBvBedHJicnPx8YGGh/8eJF1dvKoJSShoYGf//+/Zl4PP4l8M2yIEoSLErx6c2bN6W1tXVRglWzLVu2SCqVEhE5LiI457SIoEREW2udMaZtcnLy+2QyWZ3L5XRHR4f+4MNdoBUahUJhcWilmZ/NE4ZhOQHn3LIi1lqjtS6vjY6O8uTJE9vc3MyDBw+mYrHYn0Uk63me8gCtlHLA7uHh4bW5XC7oePddPTQ8xHffDjM/PYe3thqMws35iAcHPj5ENBp9Yxmy2Sw7d+40z549C+7du9ewb9++D6y13wDaK+kE0DAzMyNKKbXtvfd5EfzM+Ef/4C+8x23+wzPm+IhtfMf3/Ksuyl+7u9FaY63l+vXrpFIpCoUCmzdvpquri9bWVoIgQClFIpFg48aNPH/+XE9NTQkQLTGmvEXKRERprZWIEIYhQRjQbN6hmUb+tCaPNnM055v40f3If7XBGMPT8af0fNLD0NDQsozPnDlDb28vx44dIwxDRARrLSKCKmUbiUQQkWWnoLJ20UpjFYAjVA6rBJTFV5ZIJIIfBBw4eICxsTHq6uo4dOgQ8XicgYEB7t69y/Hjx4nH43R1dVHB8q+w4hlXSmGd5edwmjCco5DLkZ+aJvTnyIdTrFmzhn9+/TVjY2M0NTVx+/Zt+vv7OXfuHKlUip6eHgBOnz6N7/vlYl0JKzIw78/T+sdGbn6yjf5ZS2HtJgIP+mcC5kySI1uSXPjqAlprTp06RWdnJ8ViEaUUVVVVnD9/nqtXr5LJZHj48CFbt279fQEEYUisZi2fXel9bWU750gmkwRBgNYaz/Ow1lJfX088Hmd2dpZcLvdaBl4pgQChH4B1iHU4a8E6Qj9ARGhpaUFrzeDgIJFIBGMM1lqMMWQyGSYmJohEIqxfv/7314CIoADtGTAaZTTaLI2VUhw+fBjnHBcvXuTy5cs45/A8j3Q6zcmTJ/F9n71799LW1rbgSOs3D+B1lBljcM7R3d3N0aNHKRQKnDhxgs7OTnbt2sX27dsZGRkhHo/T19e3+Kt/fQ1YawFwzolSCs/zUEqVtX1VcJcuXSKRSNDf3086nS6v79mzh76+Pjo6OigWi1RXV2OMWZC29PL8/PxSAL7vE41Gf4rFYkpEePToEb7vU1VVxW+ht7eXs2fPcv/+fQqFAps2baKlpaW8Xl1dTS6XY3x8HBFxtbW1BiiW4hAlInp8fNxt2LChPZvN/ru9vT2Sz+e93bt3qx07diwrzJWYcM5RU1NDNBots5bP53HOlS+kO3fuMDIy4hKJhKTT6ena2tqtxWJxoqamRr98HX9x7do1qaurExYaiXCVzK5bt04GBwdFRP728nVcWZAO+Hsmk/nsxo0bTTMzM5FXHZ83hYhQX1/vHzx48H9tbW1ngSsVvpYCmJ2dJRaLKRbapjpgOxB7K+9LmAbuAnOAnpiYcI2NjUsRLlo2myUMQ1M5t5rmnDO3bt1aNlfmd4W2XL/0/H8pUDF2rNCW/wLRuCkxx8V6wgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wOC0wM1QwNDozMjoyMi0wNDowMO7mdkwAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDgtMDNUMDQ6MzI6MjItMDQ6MDCfu87wAAAAAElFTkSuQmCC";f="font-weight:bold !important;color: #FF0075 !important;font-size: 14px !important;text-transform: lowercase !important;cursor:pointer !important;text-align: center !important;Text-Shadow: #000000 1px 0px 0px, #000000 1px 1px 0px, #000000 1px -1px 0px, #000000 -1px 1px 0px, #000000 -1px 0px 0px, #000000 -1px -1px 0px, #000000 0px 1px 0px, #000000 0px -1px 0px !important;";o.$E.ngy2i=jQuery('<div class="nGY2PortInfo"><a href="http://nano.gallery" target="_blank" title="nanogallery2 | easy photo gallery for your website" style="'+f+'"><img src="'+c+'" style="height:32px !important;width:initial !important;box-shadow: none !important;vertical-align: middle !important;"/> &nbsp; nanogallery2<\/a><\/div>').appendTo(o.$E.base);o.$E.ngy2i.find("a").on({mouseenter:function(){jQuery(this).attr("style",f)},mouseleave:function(){jQuery(this).attr("style",f)}})}o.$E.conConsole=jQuery('<div class="nGY2ConsoleParent"><\/div>').appendTo(o.$E.base);de();ue();switch(o.tn.opt.Get("displayTransition")){case"SCALEDOWN":case"RANDOMSCALE":default:o.$E.base.css("overflow","visible");o.$E.conTnParent.css("overflow","visible");o.$E.conTn.css("overflow","visible")}}function l(n){var i=n+".nanogallery2",t=null;try{t=new Event(i)}catch(r){t=document.createEvent("Event");t.initEvent(i,!1,!1)}o.$E.base.trigger(i,t)}function we(){o.$E.conTnParent.on({mouseenter:ce,mouseleave:le},".nGY2GThumbnail");o.GOM.hammertime=new NGHammer(o.$E.conTn[0]);o.GOM.hammertime.on("pan",function(n){o.VOM.viewerDisplayed||o.O.paginationSwipe&&o.layout.support.rows&&o.galleryDisplayMode.Get()=="PAGINATION"&&o.$E.conTn.css(o.CSStransformName,"translate("+n.deltaX+"px,0px)")});o.GOM.hammertime.on("panend",function(n){if(!o.VOM.viewerDisplayed&&o.O.paginationSwipe&&o.layout.support.rows&&o.galleryDisplayMode.Get()=="PAGINATION"){if(Math.abs(n.deltaY)>100){o.$E.conTn.css(o.CSStransformName,"translate(0px,0px)");return}if(n.deltaX>50){ai();return}if(n.deltaX<-50){li();return}o.$E.conTn.css(o.CSStransformName,"translate(0px,0px)")}});o.GOM.hammertime.on("tap",function(n){if(!o.VOM.viewerDisplayed)if(n.srcEvent.stopPropagation(),n.srcEvent.preventDefault(),n.pointerType=="mouse"){if(eu(n.srcEvent)=="exit")return}else{var t=ii(n.srcEvent,!1);if(t.GOMidx==-1)return;if(t.action!="NONE"&&t.action!="OPEN"){eu(n.srcEvent);return}if(o.GOM.slider.hostIdx==t.GOMidx){ft();tt(o.GOM.items[o.GOM.slider.currentIdx].thumbnailIdx,!0);return}if(o.GOM.curNavLevel=="l1"&&o.O.touchAnimationL1==!1||o.GOM.curNavLevel=="lN"&&o.O.touchAnimation==!1){tt(o.GOM.items[t.GOMidx].thumbnailIdx,!0);return}o.O.touchAutoOpenDelay>0?(ft(),pi(t.GOMidx),window.clearInterval(o.touchAutoOpenDelayTimerID),o.touchAutoOpenDelayTimerID=window.setInterval(function(){window.clearInterval(o.touchAutoOpenDelayTimerID);tt(o.GOM.items[t.GOMidx].thumbnailIdx,!0)},o.O.touchAutoOpenDelay)):o.I[o.GOM.items[t.GOMidx].thumbnailIdx].hovered?tt(o.GOM.items[t.GOMidx].thumbnailIdx,!0):(ft(),pi(t.GOMidx))}});if(o.O.locationHash)jQuery(window).on("hashchange.nanogallery2."+o.baseEltID,function(){sr()});jQuery(window).on("resize.nanogallery2."+o.baseEltID+" orientationChange.nanogallery2."+o.baseEltID,p(be,o.O.eventsDebounceDelay,!1));jQuery(window).on("scroll.nanogallery2."+o.baseEltID,p(ke,o.O.eventsDebounceDelay,!1));if(o.VOM.toolsHide=p(ye,o.O.viewerHideToolsDelay,!1),jQuery(document).keyup(function(n){if(o.popup.isDisplayed)switch(n.keyCode){case 27:o.popup.close()}else if(o.VOM.viewerDisplayed){st();switch(n.keyCode){case 27:case 40:at(o.VOM.currItemIdx);break;case 32:case 13:ui();break;case 38:case 39:case 33:d();break;case 37:case 34:ct()}}}),jQuery(window).bind("mousewheel wheel",function(n){if(o.VOM.viewerDisplayed){var t=0;n.preventDefault();et()&&(n.originalEvent.deltaY?t=n.originalEvent.deltaY:n.originalEvent.wheelDelta&&(t=-n.originalEvent.wheelDelta),ir(t<=0?!0:!1))}}),jQuery(window).bind("mousemove",function(){o.VOM.viewerDisplayed&&p(st,100,!1)()}),ngscreenfull.enabled)ngscreenfull.onchange(function(){o.VOM.viewerDisplayed&&(ngscreenfull.isFullscreen?(o.VOM.viewerIsFullscreen=!0,o.VOM.$viewer.find(".fullscreenButton").html(o.O.icons.viewerFullscreenOff)):(o.VOM.viewerIsFullscreen=!1,o.VOM.$viewer.find(".fullscreenButton").html(o.O.icons.viewerFullscreenOn)))})}function sr(){var i,t,n;return o.O.locationHash?(i="#nanogallery/"+o.baseEltID+"/",t=location.hash,o.O.debugMode&&(console.log("------------------------ PROCESS LOCATION HASH"),console.log("newLocationHash1: "+t),console.log("G.locationHashLastUsed: "+o.locationHashLastUsed)),t==""&&o.locationHashLastUsed!=="")?(o.O.debugMode&&console.log("display root album"),o.locationHashLastUsed="",o.O.debugMode&&console.log("new3 G.locationHashLastUsed: "+o.locationHashLastUsed),c("","0"),!0):t==o.locationHashLastUsed?void 0:t.indexOf(i)==0?(n=ci(t.substring(i.length)),n.imageID!="0"?(o.O.debugMode&&console.log("display image: "+n.albumID+"-"+n.imageID),ni(n.imageID,n.albumID),!0):(o.O.debugMode&&console.log("display album: "+n.albumID),c("-1",n.albumID),!0)):!1:!1}function oi(n,t){var i,r;if(!o.O.locationHash)return!1;if(o.O.debugMode&&console.log("------------------------ SET LOCATION HASH"),t==""&&(n=="-1"||n=="0"||o.O.album==n)){location.hash!=""&&("pushState"in history?history.pushState("",document.title,window.location.pathname+window.location.search):location.hash="");o.locationHashLastUsed="";o.O.debugMode&&console.log("new2 G.locationHashLastUsed: "+o.locationHashLastUsed);return}if(i="#nanogallery/"+o.baseEltID+"/"+n,t!=""&&(i+="/"+t),r=location.hash,o.O.debugMode&&(console.log("newLocationHash2: "+i),console.log("location.hash: "+r)),o.locationHashLastUsed=i,o.O.debugMode&&console.log("new G.locationHashLastUsed: "+o.locationHashLastUsed),r==""||r!=i)try{top.location.hash=i}catch(u){o.O.locationHash=!1}}function be(){if(o.GOM.cache.viewport=r(),o.GOM.cache.areaWidth=o.$E.conTnParent.width(),o.GOM.cache.containerOffset=o.$E.conTnParent.offset(),o.VOM.viewerDisplayed)vt();else if(o.galleryResizeEventEnabled){var n=yt();o.GOM.albumIdx!=-1&&(o.tn.settings.height[o.GOM.curNavLevel][o.GOM.curWidth]!=o.tn.settings.height[o.GOM.curNavLevel][n]||o.tn.settings.width[o.GOM.curNavLevel][o.GOM.curWidth]!=o.tn.settings.width[o.GOM.curNavLevel][n])?(o.GOM.curWidth=n,o.GOM.pagination.currentPage=0,g(o.GOM.albumIdx)):w()}}function ke(){if(!o.VOM.viewerDisplayed){o.galleryResizeEventEnabled&&w();return}}function de(){var r,n,t;if(o.i18nLang=(navigator.language||navigator.userLanguage).toUpperCase(),o.i18nLang==="UNDEFINED"&&(o.i18nLang=""),r=-("_"+o.i18nLang).length,i(o.O.i18n)=="object")for(n in o.O.i18n)t=n.substr(r),t=="_"+o.i18nLang?o.i18nTranslations[n.substr(0,n.length-t.length)]=o.O.i18n[n]:o.i18nTranslations[n]=o.O.i18n[n]}function hr(n,t){return o.i18nLang!=""&&n[t+"_"+o.i18nLang]!==undefined&&n[t+"_"+o.i18nLang].length>0?n[t+"_"+o.i18nLang]:n[t]}function yt(){var n=o.GOM.cache.viewport.w;return o.O.breakpointSizeSM>0&&n<o.O.breakpointSizeSM?"xs":o.O.breakpointSizeME>0&&n<o.O.breakpointSizeME?"sm":o.O.breakpointSizeLA>0&&n<o.O.breakpointSizeLA?"me":o.O.breakpointSizeXL>0&&n<o.O.breakpointSizeXL?"la":"xl"}function ut(n){for(var i=document.createElement("div"),t=0;t<n.length;++t)if(typeof i.style[n[t]]!="undefined")return n[t];return null}var pt,cr,p,o,v,hi,bi;this.ReloadAlbum=function(){var n,i,u,t,r;if(o.O.kind==="")throw"Not supported for this content source:"+o.O.kind;if(n=o.GOM.albumIdx,n==-1)throw"Current album not found.";for(i=o.I[n].GetID(),u=o.I.length,t=0;t<u;t++)r=o.I[t],r.albumID==i&&(r.selected=!1);o.I[n].contentIsLoaded=!1;c("-1",i)};this.ItemsSetSelectedValue=function(n,t){for(var r=n.length,i=0;i<r;i++)nr(n[i],t)};this.ItemsSelectedGet=function(){for(var t=[],i=o.I.length,n=0;n<i;n++)o.I[n].selected==!0&&t.push(o.I[n]);return t};this.Get=function(n){return o.O[n]};this.Set=function(n,t){o.O[n]=t;switch(n){case"thumbnailSelectable":su();g(o.GOM.albumIdx)}};this.Refresh=function(){g(o.GOM.albumIdx)};this.Resize=function(){w()};this.DisplayItem=function(n){var t=ci(n);t.imageID!="0"?ni(t.imageID,t.albumID):c("-1",t.albumID)};pt=function(n){var t,r;if(o.I[n]==undefined)return 0;var u=o.I[n].GetID(),f=o.I.length,i=0;for(t=0;t<f;t++)r=o.I[t],r.isToDisplay(u)&&i++;return i};this.Search=function(n){o.GOM.albumSearch=n.toUpperCase();var t=o.GOM.albumIdx;return g(o.GOM.albumIdx),pt(t)};this.Search2=function(n,t){return o.GOM.albumSearch=n!=null&&n!=undefined?n.toUpperCase():"",o.GOM.albumSearchTags=t!=null&&t!=undefined?t.toUpperCase():"",pt(o.GOM.albumIdx)};this.Search2Execute=function(){var n=o.GOM.albumIdx;return g(o.GOM.albumIdx),pt(n)};this.Destroy=function(){o.GOM.hammertime!=null&&(o.GOM.hammertime.destroy(),o.GOM.hammertime=null);o.VOM.hammertime!=null&&(o.VOM.hammertime.destroy(),o.VOM.hammertime=null);n("#ngycs_"+o.baseEltID).remove();o.GOM.items=[];NGY2Item.New(o,o.i18nTranslations.breadcrumbHome,"","0","-1","album");o.GOM.navigationBar.$newContent=null;o.$E.base.empty();o.$E.base.removeData();o.O.locationHash&&jQuery(window).off("hashchange.nanogallery2."+o.baseEltID);jQuery(window).off("resize.nanogallery2."+o.baseEltID);jQuery(window).off("orientationChange.nanogallery2."+o.baseEltID);jQuery(window).off("scroll.nanogallery2."+o.baseEltID);o.GOM.firstDisplay=!1};this.CloseViewer=function(){return at(null),!1};this.MinimizeToolbar=function(){return er(),!1};this.MaximizeToolbar=function(){return fi(),!1};this.PaginationPreviousPage=function(){return ai(),!1};this.PaginationNextPage=function(){return li(),!1};this.PaginationGotoPage=function(n){var t=o.$E.conPagin.data("galleryIdx");return n>1&&n--,o.GOM.pagination.currentPage=n,b(!0),k(!0),!1};this.PaginationCountPages=function(){if(o.GOM.items.length==0)return 0;return Math.ceil((o.GOM.items[o.GOM.items.length-1].row+1)/o.galleryMaxRows.Get())};cr=function(n,t,i){var u,f,o,r=null,e=0,s;return i||(i={}),s=function(){e=i.leading===!1?0:(new Date).getTime();r=null;o=n.apply(u,f);r||(u=f=null)},function(){var c=(new Date).getTime(),h;return e||i.leading!==!1||(e=c),h=t-(c-e),u=this,f=arguments,h<=0||h>t?(r&&(clearTimeout(r),r=null),e=c,o=n.apply(u,f),r||(u=f=null)):r||i.trailing===!1||(r=setTimeout(s,h)),o}};p=function(n,t,i){var r;return function(){function e(){i||n.apply(u,f);r=null}var u=this,f=arguments;r?clearTimeout(r):i&&n.apply(u,f);r=setTimeout(e,t||100)}};window.ng_draf=function(n){return requestAnimationFrame(function(){window.requestAnimationFrame(n)})};window.requestTimeout=function(n,t){return window.setTimeout(n,t);var i,r};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}();window.clearRequestTimeout=function(n){window.cancelAnimationFrame?window.cancelAnimationFrame(n.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(n.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(n.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(n.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(n.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(n.value):clearTimeout(n)};o=this;o.I=[];o.Id=[];o.O=null;o.baseEltID=null;o.$E={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conNavigationBar:null,conTnBottom:null};o.shoppingCart=[];o.layout={internal:!0,engine:"",support:{rows:!1},prerequisite:{imageSize:!1},SetEngine:function(){if(o.layout.internal){if(o.tn.settings.width[o.GOM.curNavLevel][o.GOM.curWidth]=="auto"||o.tn.settings.width[o.GOM.curNavLevel][o.GOM.curWidth]==""){o.layout.engine="JUSTIFIED";o.layout.support.rows=!0;o.layout.prerequisite.imageSize=!0;return}if(o.tn.settings.height[o.GOM.curNavLevel][o.GOM.curWidth]=="auto"||o.tn.settings.height[o.GOM.curNavLevel][o.GOM.curWidth]==""){o.layout.engine="CASCADING";o.layout.support.rows=!1;o.layout.prerequisite.imageSize=!0;return}if(o.tn.settings.getMosaic()!=null){o.layout.engine="MOSAIC";o.layout.support.rows=!0;o.layout.prerequisite.imageSize=!1;return}o.layout.engine="GRID";o.layout.support.rows=!0;o.layout.prerequisite.imageSize=!1}}};o.galleryResizeEventEnabled=!1;o.galleryMaxRows={l1:0,lN:0,Get:function(){return o.galleryMaxRows[o.GOM.curNavLevel]}};o.galleryMaxItems={l1:0,lN:0,Get:function(){return o.galleryMaxItems[o.GOM.curNavLevel]}};o.galleryFilterTags={l1:0,lN:0,Get:function(){return o.galleryFilterTags[o.GOM.curNavLevel]}};o.galleryDisplayMode={l1:"FULLCONTENT",lN:"FULLCONTENT",Get:function(){return o.galleryDisplayMode[o.GOM.curNavLevel]}};o.galleryLastRowFull={l1:!1,lN:!1,Get:function(){return o.galleryLastRowFull[o.GOM.curNavLevel]}};o.gallerySorting={l1:"",lN:"",Get:function(){return o.gallerySorting[o.GOM.curNavLevel]}};o.galleryDisplayTransition={l1:"none",lN:"none",Get:function(){return o.galleryDisplayTransition[o.GOM.curNavLevel]}};o.galleryDisplayTransitionDuration={l1:500,lN:500,Get:function(){return o.galleryDisplayTransitionDuration[o.GOM.curNavLevel]}};o.$currentTouchedThumbnail=null;o.tn={opt:{l1:{crop:!0,stacks:0,stacksTranslateX:0,stacksTranslateY:0,stacksTranslateZ:0,stacksRotateX:0,stacksRotateY:0,stacksRotateZ:0,stacksScale:0,gutterHeight:0,gutterWidth:0,baseGridHeight:0,displayTransition:"FADEIN",displayTransitionStartVal:0,displayTransitionEasing:"easeOutQuart",displayTransitionDuration:240,displayInterval:15},lN:{crop:!0,stacks:0,stacksTranslateX:0,stacksTranslateY:0,stacksTranslateZ:0,stacksRotateX:0,stacksRotateY:0,stacksRotateZ:0,stacksScale:0,gutterHeight:0,gutterWidth:0,baseGridHeight:0,displayTransition:"FADEIN",displayTransitionStartVal:0,displayTransitionEasing:"easeOutQuart",displayTransitionDuration:240,displayInterval:15},Get:function(n){return o.tn.opt[o.GOM.curNavLevel][n]}},scale:1,borderWidth:0,borderHeight:0,labelHeight:{l1:0,lN:0,get:function(){return o.tn.labelHeight[o.GOM.curNavLevel]}},defaultSize:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},getWidth:function(){return o.tn.defaultSize.width[o.GOM.curNavLevel][o.GOM.curWidth]},getOuterWidth:function(){return o.tn.defaultSize.width[o.GOM.curNavLevel][o.GOM.curWidth]+o.tn.borderWidth*2},getHeight:function(){return o.tn.defaultSize.height[o.GOM.curNavLevel][o.GOM.curWidth]},getOuterHeight:function(){return o.tn.defaultSize.height[o.GOM.curNavLevel][o.GOM.curWidth]+o.tn.borderHeight*2}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},getH:function(n,t){var i=n==undefined?o.GOM.curNavLevel:n,r=t==undefined?o.GOM.curWidth:t;return o.layout.engine=="MOSAIC"?o.tn.settings.height[i][r]*o.tn.settings.mosaic[i+"Factor"].h[r]:o.tn.settings.height[i][r]},getW:function(n,t){var i=n==undefined?o.GOM.curNavLevel:n,r=t==undefined?o.GOM.curWidth:t;return o.layout.engine=="MOSAIC"?o.tn.settings.width[i][r]*o.tn.settings.mosaic[i+"Factor"].w[r]:o.tn.settings.width[i][r]},mosaic:{l1:{xs:null,sm:null,me:null,la:null,xl:null},lN:{xs:null,sm:null,me:null,la:null,xl:null},l1Factor:{h:{xs:1,sm:1,me:1,la:1,xl:1},w:{xs:1,sm:1,me:1,la:1,xl:1}},lNFactor:{h:{xs:1,sm:1,me:1,la:1,xl:1},w:{xs:1,sm:1,me:1,la:1,xl:1}}},getMosaic:function(){return o.tn.settings.mosaic[o.GOM.curNavLevel][o.GOM.curWidth]},mosaicCalcFactor:function(n,t){for(var r=1,u=1,i=0;i<o.tn.settings.mosaic[n][t].length;i++)r=Math.max(r,o.tn.settings.mosaic[n][t][i].w),u=Math.max(u,o.tn.settings.mosaic[n][t][i].h);o.tn.settings.mosaic[n+"Factor"].h[t]=u;o.tn.settings.mosaic[n+"Factor"].w[t]=r}},hoverEffects:{std:[],level1:[],get:function(){return o.GOM.curNavLevel=="l1"&&o.tn.hoverEffects.level1.length!==0?o.tn.hoverEffects.level1:o.tn.hoverEffects.std}},buildInit:{std:[],level1:[],get:function(){return o.GOM.curNavLevel=="l1"&&o.tn.buildInit.level1.length!==0?o.tn.buildInit.level1:o.tn.buildInit.std}},toolbar:{album:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},image:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},albumUp:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},get:function(n){return o.tn.toolbar[n.kind]}},style:{l1:{label:"",title:"",desc:""},lN:{label:"",title:"",desc:""},getTitle:function(){return'style="'+o.tn.style[o.GOM.curNavLevel].title+'"'},getDesc:function(){return'style="'+o.tn.style[o.GOM.curNavLevel].desc+'"'},getLabel:function(){var n='style="'+o.tn.style[o.GOM.curNavLevel].label;return n+=o.O.RTL?'"direction:RTL;"':"",n+'"'}}};o.scrollTimeOut=0;o.i18nTranslations={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""};o.emptyGif="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==";o.CSStransformName=ut(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]);o.CSStransformStyle=ut(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]);o.CSSperspective=ut(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]);o.CSSbackfaceVisibilityName=ut(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]);o.CSStransitionName=ut(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]);o.CSSanimationName=ut(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]);o.GalleryResizeThrottled=cr(w,100,{leading:!1});o.blackList=null;o.whiteList=null;o.albumList=[];o.albumListHidden=[];o.locationHashLastUsed="";o.custGlobals={};o.touchAutoOpenDelayTimerID=0;o.i18nLang="";o.timeLastTouchStart=0;o.custGlobals={};o.markupOrApiProcessed=!1;o.GOM={albumIdx:-1,clipArea:{top:0,height:0},displayArea:{width:0,height:0},displayAreaLast:{width:0,height:0},displayedMoreSteps:0,items:[],$imgPreloader:[],thumbnails2Display:[],itemsDisplayed:0,firstDisplay:!0,firstDisplayTime:0,navigationBar:{displayed:!1,$newContent:""},cache:{viewport:null,containerOffset:null,areaWidth:100},nbSelected:0,pagination:{currentPage:0},lastFullRow:-1,lastDisplayedIdx:-1,displayInterval:{from:0,len:0},userEvents:null,hammertime:null,curNavLevel:"l1",curWidth:"me",albumSearch:"",albumSearchTags:"",lastZIndex:0,lastRandomValue:0,slider:{hostIdx:-1,hostItem:null,currentIdx:0,nextIdx:0,timerID:0,tween:null},NGY2Item:function(n){if(o.GOM.items[n]==undefined||o.GOM.items[n]==null)return null;var t=o.GOM.items[n].thumbnailIdx;return o.I[t]},GTn:function(n,t,i){this.thumbnailIdx=n;this.width=0;this.height=0;this.top=0;this.left=0;this.row=0;this.imageWidth=t;this.imageHeight=i;this.resizedContentWidth=0;this.resizedContentHeight=0;this.displayed=!1;this.neverDisplayed=!0;this.inDisplayArea=!1}};o.VOM={viewerDisplayed:!1,viewerIsFullscreen:!1,infoDisplayed:!1,toolbarsDisplayed:!0,toolsHide:null,saveOverflowX:"visible",saveOverflowY:"visible",zoom:{posX:0,posY:0,userFactor:1,isZooming:!1},padding:{H:0,V:0},window:{lastWidth:0,lastHeight:0},$cont:null,$viewer:null,$toolbar:null,$toolbarTL:null,$toolbarTR:null,$content:null,$mediaPrevious:null,$mediaCurrent:null,$mediaNext:null,toolbarMode:"std",playSlideshow:!1,playSlideshowTimerID:0,slideshowDelay:3e3,albumID:-1,currItemIdx:-1,viewerMediaIsChanged:!1,items:[],NGY2Item:function(n){var t;switch(n){case-1:return t=this.IdxPrevious(),o.I[this.items[t].ngy2ItemIdx];case 1:return t=this.IdxNext(),o.I[this.items[t].ngy2ItemIdx];case 0:default:return o.I[this.items[o.VOM.currItemIdx].ngy2ItemIdx]}},IdxNext:function(){var n=0;return o.VOM.currItemIdx!=o.VOM.items.length-1&&(n=o.VOM.currItemIdx+1),n},IdxPrevious:function(){var n=o.VOM.currItemIdx-1;return o.VOM.currItemIdx==0&&(n=o.VOM.items.length-1),n},userEvents:null,hammertime:null,swipePosX:0,panPosX:0,panPosY:0,viewerTheme:"",timeImgChanged:0,ImageLoader:{maxChecks:1e3,list:[],intervalHandle:null,loadImage:function(n,t){var i,u,r;if(t.mediaKind=="img")if(i=new Image,i.src=t.responsiveURL(),i.width&&i.height)n(i.width,i.height,t,0);else{for(u={image:i,url:t.responsiveURL(),ngitem:t,callback:n,checks:1},r=0;r<this.list.length;r++)if(this.list[r]==null)break;this.list[r]=u;this.intervalHandle||(this.intervalHandle=setInterval(this.interval,50))}},interval:function(){for(var i=0,r=o.VOM.ImageLoader.list,n,t=0;t<r.length;t++)n=r[t],n!=null&&(n.image.width&&n.image.height?(o.VOM.ImageLoader.list[t]=null,n.callback(n.image.width,n.image.height,n.ngitem,n.checks)):n.checks>o.VOM.ImageLoader.maxChecks?(o.VOM.ImageLoader.list[t]=null,n.callback(0,0,n.ngitem,n.checks)):(i++,n.checks++));i==0&&(o.VOM.ImageLoader.list=[],clearInterval(o.VOM.ImageLoader.intervalHandle),delete o.VOM.ImageLoader.intervalHandle)}}};o.popup={isDisplayed:!1,$elt:null,close:function(){if(this.$elt!=null){var n=new NGTweenable;n.tween({from:{opacity:1},to:{opacity:0},attachment:{t:this},easing:"easeInOutSine",duration:100,step:function(n,t){t.t.$elt!=null&&t.t.$elt.css("opacity",n.opacity)},finish:function(n,t){t.t.$elt!=null&&(t.t.$elt.remove(),t.t.$elt=null);t.t.isDisplayed=!1}})}}};o.galleryTheme_dark={navigationBar:{background:"none",borderTop:"",borderBottom:"",borderRight:"",borderLeft:""},navigationBreadcrumb:{background:"#111",color:"#fff",colorHover:"#ccc",borderRadius:"4px"},navigationFilter:{color:"#ddd",background:"#111",colorSelected:"#fff",backgroundSelected:"#111",borderRadius:"4px"},thumbnail:{background:"#444",backgroundImage:"linear-gradient(315deg, #111 0%, #445 90%)",borderColor:"#000",labelOpacity:1,labelBackground:"rgba(34, 34, 34, 0)",titleColor:"#fff",titleBgColor:"transparent",titleShadow:"",descriptionColor:"#ccc",descriptionBgColor:"transparent",descriptionShadow:"",stackBackground:"#aaa"},thumbnailIcon:{padding:"5px",color:"#fff"},pagination:{background:"#181818",backgroundSelected:"#666",color:"#fff",borderRadius:"2px",shapeBorder:"3px solid #666",shapeColor:"#444",shapeSelectedColor:"#aaa"}};o.galleryTheme_light={navigationBar:{background:"none",borderTop:"",borderBottom:"",borderRight:"",borderLeft:""},navigationBreadcrumb:{background:"#eee",color:"#000",colorHover:"#333",borderRadius:"4px"},navigationFilter:{background:"#eee",color:"#222",colorSelected:"#000",backgroundSelected:"#eee",borderRadius:"4px"},thumbnail:{background:"#444",backgroundImage:"linear-gradient(315deg, #111 0%, #445 90%)",borderColor:"#000",labelOpacity:1,labelBackground:"rgba(34, 34, 34, 0)",titleColor:"#fff",titleBgColor:"transparent",titleShadow:"",descriptionColor:"#ccc",descriptionBgColor:"transparent",descriptionShadow:"",stackBackground:"#888"},thumbnailIcon:{padding:"5px",color:"#fff"},pagination:{background:"#eee",backgroundSelected:"#aaa",color:"#000",borderRadius:"2px",shapeBorder:"3px solid #666",shapeColor:"#444",shapeSelectedColor:"#aaa"}};o.viewerTheme_dark={background:"#000",imageBorder:"none",imageBoxShadow:"none",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};o.viewerTheme_border={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};o.viewerTheme_light={background:"#f8f8f8",imageBorder:"none",imageBoxShadow:"none",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};v=NGY2Tools.NanoAlert;hi=NGY2Tools.NanoConsoleLog;this.initiateGallery2=function(n,t){var i,r,f,u,e;if(o.O=t,o.$E.base=jQuery(n),o.baseEltID=o.$E.base.attr("id"),o.baseEltID==undefined&&(o.baseEltID="my_nanogallery",o.$E.base.attr("id",o.baseEltID)),o.O.$markup=[],re(),oe(),pe(),o.GOM.firstDisplayTime=Date.now(),we(),i=o.O.album,i==""&&o.O.photoset!=""&&(i=o.O.photoset,o.O.album=o.O.photoset),i!=""&&(o.O.displayBreadcrumb=!1,i.toUpperCase()!="NONE")){r=i.indexOf("&authkey=");r==-1&&(r=i.indexOf("?authkey="));r>0?(o.O.locationHash=!1,f=i.substring(0,r),u=i.substring(r),u.indexOf("Gv1sRg")==-1&&(u="&authkey=Gv1sRg"+u.substring(9)),e=NGY2Item.New(o,"","",f,"-1","album"),e.authkey=u,c("-1",f)):(o.O.kind=="nano_photos_provider2"&&i==decodeURIComponent(i)&&(i=encodeURIComponent(i),o.O.album=i),NGY2Item.New(o,"","",i,"-1","album"),sr()||c("-1",i));return}NGY2Item.New(o,o.i18nTranslations.breadcrumbHome,"","0","-1","album");du()};bi={youtube:{getID:function(n){var t=n.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return t!=null?t[1]:null},thumbUrl:function(n){return"https://img.youtube.com/vi/"+n+"/hqdefault.jpg"},url:function(n){return"https://www.youtube.com/embed/"+n},markup:function(n){return'<iframe class="nGY2ViewerMedia" src="https://www.youtube.com/embed/'+n+'?rel=0" frameborder="0" gesture="media" allowfullscreen><\/iframe>'},kind:"iframe"},vimeo:{getID:function(n){var t=n.match(/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/);return t!=null?t[5]:null},url:function(n){return"https://player.vimeo.com/video/"+n},markup:function(n){return'<iframe class="nGY2ViewerMedia" src="https://player.vimeo.com/video/'+n+'?rel=0" frameborder="0" gesture="media" allowfullscreen><\/iframe>'},kind:"iframe"},dailymotion:{getID:function(n){var t=n.match(/^.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/);return t!==null?t[4]!==undefined?t[4]:t[2]:null},thumbUrl:function(n){return"https://www.dailymotion.com/thumbnail/video/"+n},url:function(n){return"https://www.dailymotion.com/embed/video/"+n},markup:function(n){return'<iframe class="nGY2ViewerMedia" src="https://www.dailymotion.com/embed/video/'+n+'?rel=0" frameborder="0" gesture="media" allowfullscreen><\/iframe>'},kind:"iframe"}}}var i=function(n){return{}.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};n.nanogallery2=function(n,t){var i=this;i.$e=jQuery(n);i.e=n;i.$e.data("nanogallery2data",i);i.init=function(){typeof NGY2Item=="undefined"&&(window.NGY2Tools=function(){function n(){}return n.FilterAlbumName=function(n,t){var r=n.toUpperCase(),u,i;if(this.albumList.length>0){for(i=0;i<this.albumList.length;i++)if(r===this.albumList[i].toUpperCase()||t===this.albumList[i])return!0}else{if(u=!1,this.whiteList!==null){for(i=0;i<this.whiteList.length;i++)r.indexOf(this.whiteList[i])!==-1&&(u=!0);if(!u)return!1}if(this.blackList!==null)for(i=0;i<this.blackList.length;i++)if(r.indexOf(this.blackList[i])!==-1)return!1;return!0}},n.NanoAlert=function(t,i,r){n.NanoConsoleLog.call(t,i);t.$E.conConsole!=null&&(t.$E.conConsole.css({visibility:"visible",minHeight:"100px"}),r==!1?t.$E.conConsole.append("<p>"+i+"<\/p>"):t.$E.conConsole.append("<p>nanogallery2: "+i+" ["+t.baseEltID+"]<\/p>"))},n.NanoConsoleLog=function(n,t){window.console&&console.log("nanogallery2: "+t+" ["+n.baseEltID+"]")},n.PreloaderDisplay=function(n){n===!0?this.$E.conLoadingB.removeClass("nanoGalleryLBarOff").addClass("nanoGalleryLBar"):this.$E.conLoadingB.removeClass("nanoGalleryLBar").addClass("nanoGalleryLBarOff")},n.AreaShuffle=function(n){for(var i,r,t=n.length;t;i=Math.floor(Math.random()*t),r=n[--t],n[t]=n[i],n[i]=r);return n},n.GetImageTitleFromURL=function(n){if(this.O.thumbnailLabel.get("title")=="%filename")return n.split("/").pop().replace("_"," ");if(this.O.thumbnailLabel.get("title")=="%filenameNoExt"){var t=n.split("/").pop();return t.split(".").shift().replace("_"," ")}return""},n.AlbumPostProcess=function(t){var u=this.gallerySorting[this.GOM.curNavLevel],r=this.galleryMaxItems[this.GOM.curNavLevel],i;if(u!=""||r>0){i=this.I.filter(function(n){return n.albumID==t&&n.kind!="albumUp"});switch(u){case"RANDOM":i=n.AreaShuffle(i);break;case"REVERSED":i=i.reverse();break;case"TITLEASC":i.sort(function(n,t){return n.title.toUpperCase()<t.title.toUpperCase()?-1:n.title.toUpperCase()>t.title.toUpperCase()?1:0});break;case"TITLEDESC":i.sort(function(n,t){return n.title.toUpperCase()>t.title.toUpperCase()?-1:n.title.toUpperCase()<t.title.toUpperCase()?1:0})}r>0&&i.length>r&&i.splice(r-1,i.length-r);this.I.removeIf(function(n){return n.albumID==t&&n.kind!="albumUp"});this.I.push.apply(this.I,i)}},n}(),window.NGY2Item=function(){function n(n){var t=0;t=n===undefined||n===null?i++:n;this.GetID=function(){return t};this.kind="";this.mediaKind="img";this.mediaMarkup="";this.G=null;this.title="";this.description="";this.albumID=0;this.src="";this.width=0;this.height=0;this.destinationURL="";this.downloadURL="";this.author="";this.left=0;this.top=0;this.width=0;this.height=0;this.resizedContentWidth=0;this.resizedContentHeight=0;this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};this.thumbnailImgRevealed=!1;this.imageDominantColors=null;this.imageDominantColor=null;this.featured=!1;this.flickrThumbSizes={};this.picasaThumbs=null;this.hovered=!1;this.hoverInitDone=!1;this.contentIsLoaded=!1;this.contentLength=0;this.numberItems=0;this.mediaNumber=0;this.imageCounter=0;this.eltTransform=[];this.eltFilter=[];this.eltEffect=[];this.authkey="";this.paginationLastPage=0;this.paginationLastWidth=0;this.customData={};this.selected=!1;this.imageWidth=0;this.imageHeight=0;this.$elt=null;this.$Elts=[];this.tags=[];this.albumTagList=[];this.albumTagListSel=[];this.exif={exposure:"",flash:"",focallength:"",fstop:"",iso:"",model:"",time:"",location:""};this.deleted=!1}function f(n,t){return n.O.allowHTMLinData==!0?t:String(t).replace(/[&<>"'`=\/]/g,function(n){return r[n]})}function t(n,t){if(n=String(n),n==="0"||t==1)return n;var i=Number(n.replace(/[a-zA-Z]/g,"")),r=n.match(/([^\-0-9\.]+)/g),u="";return(r!=null&&r.length>0&&(u=r.join()),isNaN(i)||i==0)?n:(i=i*t,i+u)}var i=1,r;return n.Get=function(n,t){for(var r=n.I.length,i=0;i<r;i++)if(n.I[i].GetID()==t)return n.I[i];return null},n.GetIdx=function(n,t){for(var r=n.I.length,i=0;i<r;i++)if(n.I[i].GetID()==t)return i;return-1},n.New=function(t,i,r,u,e,o,s){var a=n.Get(t,e),h,c,l;if(e!=-1&&e!=0&&i!="image gallery by nanogallery2 [build]"&&t.O.thumbnailLevelUp&&a.getContentLength(!1)==0&&t.O.album==""&&(h=new n("0"),t.I.push(h),a.contentLength+=1,h.title="UP",h.albumID=e,h.kind="albumUp",h.G=t,jQuery.extend(!0,h.thumbs.width,t.tn.defaultSize.width),jQuery.extend(!0,h.thumbs.height,t.tn.defaultSize.height)),h=n.Get(t,u),h===null&&(h=new n(u),t.I.push(h),e!=-1&&i!="image gallery by nanogallery2 [build]"&&(a.contentLength+=1)),h.G=t,h.albumID=e,h.kind=o,o=="image"&&(a.imageCounter+=1,h.mediaNumber=a.imageCounter),c=t.O.thumbnailFeaturedKeyword,c!=""&&(c=c.toUpperCase(),l=i.toUpperCase().indexOf(c),l>-1&&(h.featured=!0,i=i.substring(0,l)+i.substring(l+c.length,i.length)),l=r.toUpperCase().indexOf(c),l>-1&&(h.featured=!0,r=r.substring(0,l)+r.substring(l+c.length,r.length))),typeof t.galleryFilterTags.Get()=="string")switch(t.galleryFilterTags.Get().toUpperCase()){case"TITLE":for(var p=/(?:^|\W)#(\w+)(?!\w)/g,v,y=[],s="";v=p.exec(i);)y.push(v[1].replace(/^\s*|\s*$/,""));h.setTags(y);i=i.split("#").join("");break;case"DESCRIPTION":for(var p=/(?:^|\W)#(\w+)(?!\w)/g,v,y=[],s="";v=p.exec(r);)y.push(v[1].replace(/^\s*|\s*$/,""));h.setTags(y);r=r.split("#").join("")}else s!=""&&s!=undefined&&h.setTags(s.split(" "));return h.title=f(t,i),h.description=f(t,r),h},n.prototype.delete=function(){var t,u,f,i;this.deleted=!0;this.G.I[n.GetIdx(this.G,this.albumID)].contentLength--;this.G.I[n.GetIdx(this.G,this.albumID)].numberItems--;var o=this.G.GOM.items.length,s=this.GetID(),r=-1,e=-1;for(t=0;t<o;t++)u=this.G.GOM.items[t],f=this.G.I[u.thumbnailIdx],f.GetID()==s?u.neverDisplayed||(r=u.thumbnailIdx,e=t):r!=-1&&(u.neverDisplayed||(f.$getElt(".nGY2GThumbnail").data("index",t-1),f.$getElt(".nGY2GThumbnailImg").data("index",t-1)));r!=-1&&(i=this.G,this.selected==!0&&(this.selected=!1,i.GOM.nbSelected--),i.I[r].$elt!==null&&i.I[r].$elt.remove(),i.GOM.items.splice(e,1),i.GOM.lastDisplayedIdx!=-1&&(i.GOM.lastDisplayedIdx-=1))},n.prototype.addToGOM=function(){for(var t,i,r,u,f=this.GetID(),e=this.G.I.length,n=0;n<e;n++)if(t=this.G.I[n],t.GetID()==f){i=t.thumbImg().width;r=t.thumbImg().height;r==0&&(r=this.G.tn.defaultSize.getHeight());i==0&&(i=this.G.tn.defaultSize.getWidth());u=new this.G.GOM.GTn(n,i,r);this.G.GOM.items.push(u);break}},r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},n.get_nextId=function(){return i},n.prototype.$getElt=function(n,t){return this.$elt==null?null:this.$Elts[n]!==undefined&&!t==!0?this.$Elts[n]:(this.$Elts[n]=n==".nGY2GThumbnail"?this.$elt:this.$elt.find(n),this.$Elts[n])},n.prototype.removeElt=function(n){if(this.$elt!=null&&this.$Elts[n]!=undefined){this.$Elts[n].remove();var t=this.$Elts.indexOf(n);this.$Elts.splice(t,1)}},n.prototype.album=function(){return this.G.I[n.GetIdx(this.G,this.albumID)]},n.prototype.mediaTransition=function(){return this.G.O.viewerTransitionMediaKind.indexOf(this.mediaKind)>-1?!0:!1},n.prototype.imageSet=function(n,t,i){this.src=n;this.width=t;this.height=i},n.prototype.thumbSet=function(n,t,i,r,u){var e=["xs","sm","me","la","xl"],f;if(typeof r=="undefined"||r==""||r==null)for(f=0;f<e.length;f++)typeof u=="undefined"||u==""?(this.thumbs.url.l1[e[f]]=n,this.thumbs.height.l1[e[f]]=i,this.thumbs.width.l1[e[f]]=t,this.thumbs.url.lN[e[f]]=n,this.thumbs.height.lN[e[f]]=i,this.thumbs.width.lN[e[f]]=t):(this.thumbs.url[u][e[f]]=n,this.thumbs.height[u][e[f]]=i,this.thumbs.width[u][e[f]]=t);else typeof u=="undefined"||u==""||u==null?(this.thumbs.url.l1[r]=n,this.thumbs.height.l1[r]=i,this.thumbs.width.l1[r]=t,this.thumbs.url.lN[r]=n,this.thumbs.height.lN[r]=i,this.thumbs.width.lN[r]=t):(this.thumbs.url[u][r]=n,this.thumbs.height[u][r]=i,this.thumbs.width[u][r]=t);for(e=["xs","sm","me","la","xl"],f=0;f<e.length;f++)this.thumbs.height.l1[e[f]]=i;for(f=0;f<e.length;f++)this.G.tn.settings.height.lN[e[f]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[e[f]]==this.G.tn.settings.getW()&&(this.thumbs.height.lN[e[f]]=i)},n.prototype.thumbSetImgHeight=function(n){for(var i=["xs","sm","me","la","xl"],t=0;t<i.length;t++)this.G.tn.settings.height.l1[i[t]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[i[t]]==this.G.tn.settings.getW()&&(this.thumbs.height.l1[i[t]]=n);for(t=0;t<i.length;t++)this.G.tn.settings.height.lN[i[t]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[i[t]]==this.G.tn.settings.getW()&&(this.thumbs.height.lN[i[t]]=n)},n.prototype.thumbSetImgWidth=function(n){for(var i=["xs","sm","me","la","xl"],t=0;t<i.length;t++)this.G.tn.settings.height.l1[i[t]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[i[t]]==this.G.tn.settings.getW()&&(this.thumbs.width.l1[i[t]]=n);for(t=0;t<i.length;t++)this.G.tn.settings.height.lN[i[t]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[i[t]]==this.G.tn.settings.getW()&&(this.thumbs.width.lN[i[t]]=n)},n.prototype.thumbImg=function(){var n={src:"",width:0,height:0};return this.title=="image gallery by nanogallery2 [build]"?(n.src=this.G.emptyGif,n.url=this.G.emptyGif,n):(n.src=this.thumbs.url[this.G.GOM.curNavLevel][this.G.GOM.curWidth],n.width=this.thumbs.width[this.G.GOM.curNavLevel][this.G.GOM.curWidth],n.height=this.thumbs.height[this.G.GOM.curNavLevel][this.G.GOM.curWidth],n)},n.prototype.setTags=function(n){var r,t,u,i;if(n.length>0)for(this.tags=n,r=this.album().albumTagList,t=0;t<n.length;t++){for(u=!1,i=0;i<r.length;i++)n[t].toUpperCase()==r[i].toUpperCase()&&(u=!0);u==!1&&(this.album().albumTagList.push(n[t]),this.album().albumTagListSel.push(n[t]))}},n.prototype.checkTagFilter=function(){var i,r,n,t;if(this.G.galleryFilterTags.Get()!=!1&&this.album().albumTagList.length>0){if(this.G.O.thumbnailLevelUp&&this.kind=="albumUp")return!0;for(i=!1,r=this.album().albumTagListSel,n=0;n<this.tags.length;n++)for(t=0;t<r.length;t++)if(this.tags[n].toUpperCase()==r[t].toUpperCase()){i=!0;break}return i}return!0},n.prototype.isSearchTagFound=function(){if(this.G.GOM.albumSearchTags==""||this.G.O.thumbnailLevelUp&&this.kind=="albumUp")return!0;for(var n=0;n<this.tags.length;n++)if(this.tags[n].toUpperCase().indexOf(this.G.GOM.albumSearchTags)>=0)return!0;return!1},n.prototype.setMediaURL=function(n,t){this.src=n;this.mediaKind=t;t=="img"&&(this.mediaMarkup='<img class="nGY2ViewerMedia" src="'+n+'" alt=" " itemprop="contentURL" draggable="false">')},n.prototype.isToDisplay=function(n){return this.albumID==n&&this.checkTagFilter()&&this.isSearchFound()&&this.isSearchTagFound()&&this.deleted==!1},n.prototype.getContentLength=function(n){var t,r;if(n==!1||this.albumTagList.length==0||this.G.galleryFilterTags.Get()==!1)return this.contentLength;var u=this.G.I.length,i=0,f=this.GetID();for(t=0;t<u;t++)r=this.G.I[t],r.isToDisplay(f)&&i++;return i},n.prototype.isSearchFound=function(){return this.G.GOM.albumSearch!=""&&this.title.toUpperCase().indexOf(this.G.GOM.albumSearch)==-1?!1:!0},n.prototype.responsiveURL=function(){var n="";switch(this.G.O.kind){case"":n=this.src;break;case"flickr":n=this.src;break;case"picasa":case"google":case"google2":default:n=this.src}return n},n.prototype.ThumbnailImageReveal=function(){this.thumbnailImgRevealed==!1&&(this.thumbnailImgRevealed=!0,(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},attachment:{item:this},delay:30,duration:400,easing:"easeOutQuart",step:function(n,t){var i=t.item.$getElt(".nGY2TnImg");i!=null&&i.css(n)}}))},n.prototype.CSSTransformApply=function(n){var i=this.eltTransform[n],r,u;if(n==".nGY2GThumbnail"){var e=i.$elt.length-1,o=1,s=1,h=1,c=1,l=1,f=1,a=1;for(r=e;r>=0;r--)u="translateX("+t(i.translateX,o)+") translateY("+t(i.translateY,s)+") translateZ("+t(i.translateZ,h)+") scale("+t(i.scale,a)+") translate("+t(i.translate,1)+")",u+=this.G.IE<=9||this.G.isGingerbread?" rotate("+t(i.rotateZ,f)+")":" rotateX("+t(i.rotateX,c)+") rotateY("+t(i.rotateY,l)+") rotateZ("+t(i.rotateZ,f)+") rotate("+t(i.rotate,1)+")",i.$elt[r].style[this.G.CSStransformName]=u,e>0&&(o-=this.G.tn.opt.Get("stacksTranslateX"),s-=this.G.tn.opt.Get("stacksTranslateY"),h-=this.G.tn.opt.Get("stacksTranslateZ"),c-=this.G.tn.opt.Get("stacksRotateX"),l-=this.G.tn.opt.Get("stacksRotateY"),f-=this.G.tn.opt.Get("stacksRotateZ"),a-=this.G.tn.opt.Get("stacksScale"))}else if(i.$elt!=null)for(r=0;r<i.$elt.length;r++)i.$elt[r]!=undefined&&(u="translateX("+i.translateX+") translateY("+i.translateY+") translateZ("+i.translateZ+") scale("+i.scale+") translate("+i.translate+")",u+=this.G.IE<=9||this.G.isGingerbread?" rotate("+i.rotateZ+")":" rotateX("+i.rotateX+") rotateY("+i.rotateY+") rotateZ("+i.rotateZ+") rotate("+i.rotate+")",i.$elt[r].style[this.G.CSStransformName]=u)},n.prototype.CSSTransformSet=function(n,t,i,r){this.eltTransform[n]==undefined&&(this.eltTransform[n]={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,scale:1,translate:"0px,0px",rotate:0},this.eltTransform[n].$elt=this.$getElt(n));this.eltTransform[n][t]=i;r===!0&&(this.eltTransform[n].$elt=this.$getElt(n,!0))},n.prototype.CSSFilterApply=function(n){var t=this.eltFilter[n],r="blur("+t.blur+") brightness("+t.brightness+") grayscale("+t.grayscale+") sepia("+t.sepia+") contrast("+t.contrast+") opacity("+t.opacity+") saturate("+t.saturate+")",i;if(t.$elt!=null)for(i=0;i<t.$elt.length;i++)t.$elt[i]!=undefined&&(t.$elt[i].style.WebkitFilter=r,t.$elt[i].style.filter=r)},n.prototype.CSSFilterSet=function(n,t,i,r){this.eltFilter[n]==undefined&&(this.eltFilter[n]={blur:0,brightness:"100%",grayscale:"0%",sepia:"0%",contrast:"100%",opacity:"100%",saturate:"100%"},this.eltFilter[n].$elt=this.$getElt(n));this.eltFilter[n][t]=i;r===!0&&(this.eltTransform[n].$elt=this.$getElt(n,!0))},n.prototype.animate=function(n,t,i){var r,e,o,f,s;if(this.$getElt()!=null){for(r={},r.G=this.G,r.item=this,r.effect=n,r.hoverIn=i,r.cssKind="",i?(this.eltEffect[n.element]==undefined&&(this.eltEffect[n.element]=[]),this.eltEffect[n.element][n.type]==undefined&&(this.eltEffect[n.element][n.type]={initialValue:0,lastValue:0}),n.firstKeyframe&&(this.eltEffect[n.element][n.type]={initialValue:n.from,lastValue:n.from}),r.animeFrom=n.from,r.animeTo=n.to,r.animeDuration=parseInt(n.duration),r.animeDelay=30+parseInt(n.delay+t),r.animeEasing=n.easing):(n.firstKeyframe?(r.animeFrom=this.eltEffect[n.element][n.type].lastValue,r.animeTo=this.eltEffect[n.element][n.type].initialValue):(r.animeFrom=this.eltEffect[n.element][n.type].lastValue,r.animeTo=this.eltEffect[n.element][n.type].initialValue),r.animeDuration=parseInt(n.durationBack),r.animeDelay=30+parseInt(n.delayBack+t),r.animeEasing=n.easingBack),e=["translateX","translateY","translateZ","scale","rotateX","rotateY","rotateZ"],f=0;f<e.length;f++)if(n.type==e[f]){r.cssKind="transform";break}for(o=["blur","brightness","grayscale","sepia","contrast","opacity","saturate"],f=0;f<o.length;f++)if(n.type==o[f]){r.cssKind="filter";break}i&&n.element==".nGY2GThumbnail"&&(n.type=="scale"||n.type=="rotateX")&&(this.G.GOM.lastZIndex++,this.$getElt(n.element).css("z-index",this.G.GOM.lastZIndex));s=new NGTweenable;r.tweenable=s;s.tween({attachment:r,from:{v:r.animeFrom},to:{v:r.animeTo},duration:r.animeDuration,delay:r.animeDelay,easing:r.animeEasing,step:function(n,t){if(t.item.$getElt()==null){t.tweenable.stop(!1);return}if(t.hoverIn&&!t.item.hovered){t.tweenable.stop(!1);return}if(t.G.VOM.viewerDisplayed){t.tweenable.stop(!1);return}if(n.v!=t.animeFrom){switch(t.cssKind){case"transform":t.item.CSSTransformSet(t.effect.element,t.effect.type,n.v);t.item.CSSTransformApply(t.effect.element);break;case"filter":t.item.CSSFilterSet(t.effect.element,t.effect.type,n.v);t.item.CSSFilterApply(t.effect.element);break;default:var r=n.v;(n.v.substring(0,4)=="rgb("||n.v.substring(0,5)=="rgba(")&&(r=u(0,r));t.item.$getElt(t.effect.element).css(t.effect.type,r)}i&&(t.item.eltEffect[t.effect.element][t.effect.type].lastValue=n.v)}},finish:function(n,t){if((i&&(t.item.eltEffect[t.effect.element][t.effect.type].lastValue=n.v),t.item.$getElt()!=null)&&(!t.hoverIn||t.item.hovered)&&!t.G.VOM.viewerDisplayed)switch(t.cssKind){case"transform":t.item.CSSTransformSet(t.effect.element,t.effect.type,t.animeTo);t.item.CSSTransformApply(t.effect.element);break;case"filter":t.item.CSSFilterSet(t.effect.element,t.effect.type,t.animeTo);t.item.CSSFilterApply(t.effect.element);break;default:t.item.$getElt(t.effect.element).css(t.effect.type,t.animeTo)}}})}},n}());i.options=jQuery.extend(!0,{},jQuery.nanogallery2.defaultOptions,t);i.nG2=null;i.nG2=new o;i.nG2.initiateGallery2(i.e,i.options)};i.test=function(){};i.init()};jQuery.nanogallery2.defaultOptions={kind:"",userID:"",photoset:"",album:"",blackList:"scrapbook|profil|auto backup",whiteList:"",albumList:"",albumList2:null,RTL:!1,poogleplusUseUrlCrossDomain:!0,flickrSkipOriginal:!0,breadcrumbAutoHideTopLevel:!0,displayBreadcrumb:!0,breadcrumbOnlyCurrentLevel:!0,breadcrumbHideIcons:!0,theme:"nGY2",galleryTheme:"dark",viewerTheme:"dark",items:null,itemsBaseURL:"",thumbnailSelectable:!1,dataProvider:"",dataCharset:"Latin",allowHTMLinData:!1,locationHash:!0,slideshowDelay:3e3,slideshowAutoStart:!1,debugMode:!1,galleryDisplayMoreStep:2,galleryDisplayMode:"fullContent",galleryL1DisplayMode:null,galleryPaginationMode:"rectangles",galleryMaxRows:2,galleryL1MaxRows:null,galleryLastRowFull:!1,galleryLayoutEngine:"default",paginationSwipe:!0,paginationVisiblePages:10,galleryFilterTags:!1,galleryL1FilterTags:null,galleryMaxItems:0,galleryL1MaxItems:null,gallerySorting:"",galleryL1Sorting:null,galleryDisplayTransition:"none",galleryL1DisplayTransition:null,galleryDisplayTransitionDuration:1e3,galleryL1DisplayTransitionDuration:null,galleryResizeAnimation:!0,galleryRenderDelay:60,thumbnailCrop:!0,thumbnailL1Crop:null,thumbnailCropScaleFactor:1.5,thumbnailLevelUp:!1,thumbnailAlignment:"fillWidth",thumbnailWidth:300,thumbnailL1Width:null,thumbnailHeight:200,thumbnailL1Height:null,thumbnailBaseGridHeight:0,thumbnailL1BaseGridHeight:null,thumbnailGutterWidth:2,thumbnailL1GutterWidth:null,thumbnailGutterHeight:2,thumbnailL1GutterHeight:null,thumbnailBorderVertical:2,thumbnailBorderHorizontal:2,thumbnailFeaturedKeyword:"*featured",thumbnailAlbumDisplayImage:!1,thumbnailHoverEffect2:"toolsAppear",thumbnailBuildInit2:"",thumbnailStacks:0,thumbnailL1Stacks:null,thumbnailStacksTranslateX:0,thumbnailL1StacksTranslateX:null,thumbnailStacksTranslateY:0,thumbnailL1StacksTranslateY:null,thumbnailStacksTranslateZ:0,thumbnailL1StacksTranslateZ:null,thumbnailStacksRotateX:0,thumbnailL1StacksRotateX:null,thumbnailStacksRotateY:0,thumbnailL1StacksRotateY:null,thumbnailStacksRotateZ:0,thumbnailL1StacksRotateZ:null,thumbnailStacksScale:0,thumbnailL1StacksScale:null,thumbnailDisplayOutsideScreen:!0,thumbnailWaitImageLoaded:!0,thumbnailSliderDelay:2e3,galleryBuildInit2:"",portable:!1,eventsDebounceDelay:50,touchAnimation:!0,touchAnimationL1:undefined,touchAutoOpenDelay:0,thumbnailLabel:{position:"overImageOnBottom",align:"center",display:!0,displayDescription:!1,titleMaxLength:0,titleMultiLine:!1,descriptionMaxLength:0,descriptionMultiLine:!1,hideIcons:!0,title:""},thumbnailToolbarImage:{topLeft:"select",topRight:"featured"},thumbnailToolbarAlbum:{topLeft:"select",topRight:"counter"},thumbnailDisplayInterval:15,thumbnailL1DisplayInterval:null,thumbnailDisplayTransition:"fadeIn",thumbnailL1DisplayTransition:null,thumbnailDisplayTransitionDuration:240,thumbnailL1DisplayTransitionDuration:null,thumbnailOpenImage:!0,thumbnailOpenOriginal:!1,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",viewer:"internal",viewerFullscreen:!1,viewerDisplayLogo:!1,imageTransition:"swipe2",viewerTransitionMediaKind:"img",viewerZoom:!0,viewerImageDisplay:"",openOnStart:"",viewerHideToolsDelay:3e3,viewerToolbar:{display:!0,position:"bottomOverImage",fullWidth:!0,align:"center",autoMinimize:0,standard:"minimizeButton,label",minimized:"minimizeButton,label,infoButton,shareButton,downloadButton,linkOriginalButton,fullscreenButton"},viewerTools:{topLeft:"pageCounter,playPauseButton",topRight:"zoomButton,closeButton"},breakpointSizeSM:480,breakpointSizeME:992,breakpointSizeLA:1200,breakpointSizeXL:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnViewerInfo:null,fnImgToolbarCustInit:null,fnImgToolbarCustDisplay:null,fnImgToolbarCustClick:null,fnProcessData:null,fnThumbnailSelection:null,fnGalleryRenderStart:null,fnGalleryRenderEnd:null,fnGalleryObjectModelBuilt:null,fnGalleryLayoutApplied:null,fnThumbnailClicked:null,fnShoppingCartUpdated:null,fnThumbnailToolCustAction:null,fnThumbnailOpen:null,fnImgDisplayed:null,i18n:{breadcrumbHome:"Galleries",breadcrumbHome_FR:"Galeries",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"},icons:{thumbnailAlbum:'<i class="nGY2Icon-folder-empty"><\/i>',thumbnailImage:'<i class="nGY2Icon-picture"><\/i>',breadcrumbAlbum:'<i class="nGY2Icon-folder-empty"><\/i>',breadcrumbHome:'<i class="nGY2Icon-home"><\/i>',breadcrumbSeparator:'<i class="nGY2Icon-left-open"><\/i>',breadcrumbSeparatorRtl:'<i class="nGY2Icon-right-open"><\/i>',navigationFilterSelected:'<i style="color:#fff;" class="nGY2Icon-toggle-on"><\/i>',navigationFilterUnselected:'<i style="color:#ddd;" class="nGY2Icon-toggle-off"><\/i>',navigationFilterSelectedAll:'<i class="nGY2Icon-toggle-on"><\/i><i class="nGY2Icon-ok"><\/i>',thumbnailSelected:'<i style="color:#bff;" class="nGY2Icon-ok-circled"><\/i>',thumbnailUnselected:'<i style="color:#bff;" class="nGY2Icon-circle-empty"><\/i>',thumbnailFeatured:'<i style="color:#dd5;" class="nGY2Icon-star"><\/i>',thumbnailCounter:'<i class="nGY2Icon-picture"><\/i>',thumbnailShare:'<i class="nGY2Icon-ngy2_share2"><\/i>',thumbnailDownload:'<i class="nGY2Icon-ngy2_download2"><\/i>',thumbnailInfo:'<i class="nGY2Icon-ngy2_info2"><\/i>',thumbnailCart:'<i class="nGY2Icon-basket"><\/i>',thumbnailDisplay:'<i class="nGY2Icon-ngy2_zoom_in2"><\/i>',thumbnailCustomTool1:"T1",thumbnailCustomTool2:"T2",thumbnailCustomTool3:"T3",thumbnailCustomTool4:"T4",thumbnailCustomTool5:"T5",thumbnailCustomTool6:"T6",thumbnailCustomTool7:"T7",thumbnailCustomTool8:"T8",thumbnailCustomTool9:"T9",thumbnailCustomTool10:"T10",thumbnailAlbumUp:'<i style="font-size: 3em;" class="nGY2Icon-ngy2_chevron_up2"><\/i>',paginationNext:'<i class="nGY2Icon-right-open"><\/i>',paginationPrevious:'<i class="nGY2Icon-left-open"><\/i>',galleryMoreButton:'<i class="nGY2Icon-picture"><\/i> &nbsp; <i class="nGY2Icon-right-open"><\/i>',buttonClose:'<i class="nGY2Icon-ngy2_close2"><\/i>',viewerPrevious:'<i class="nGY2Icon-ngy2_chevron-left"><\/i>',viewerNext:'<i class="nGY2Icon-ngy2_chevron-right"><\/i>',viewerImgPrevious:'<i class="nGY2Icon-ngy2_chevron_left3"><\/i>',viewerImgNext:'<i class="nGY2Icon-ngy2_chevron_right3"><\/i>',viewerDownload:'<i class="nGY2Icon-ngy2_download2"><\/i>',viewerToolbarMin:'<i class="nGY2Icon-ellipsis-vert"><\/i>',viewerToolbarStd:'<i class="nGY2Icon-menu"><\/i>',viewerPlay:'<i class="nGY2Icon-play"><\/i>',viewerPause:'<i class="nGY2Icon-pause"><\/i>',viewerFullscreenOn:'<i class="nGY2Icon-resize-full"><\/i>',viewerFullscreenOff:'<i class="nGY2Icon-resize-small"><\/i>',viewerZoomIn:'<i class="nGY2Icon-ngy2_zoom_in2"><\/i>',viewerZoomOut:'<i class="nGY2Icon-ngy2_zoom_out2"><\/i>',viewerLinkOriginal:'<i class="nGY2Icon-ngy2_external2"><\/i>',viewerInfo:'<i class="nGY2Icon-ngy2_info2"><\/i>',viewerShare:'<i class="nGY2Icon-ngy2_share2"><\/i>',user:'<i class="nGY2Icon-user"><\/i>',location:'<i class="nGY2Icon-location"><\/i>',config:'<i class="nGY2Icon-wrench"><\/i>',shareFacebook:'<i style="color:#3b5998;" class="nGY2Icon-facebook-squared"><\/i>',shareTwitter:'<i style="color:#00aced;" class="nGY2Icon-twitter-squared"><\/i>',shareGooglePlus:'<i style="color:#dd4b39;" class="nGY2Icon-gplus-squared"><\/i>',shareTumblr:'<i style="color:#32506d;" class="nGY2Icon-tumblr-squared"><\/i>',sharePinterest:'<i style="color:#cb2027;" class="nGY2Icon-pinterest-squared"><\/i>',shareVK:'<i style="color:#3b5998;" class="nGY2Icon-vkontakte"><\/i>',shareMail:'<i style="color:#555;" class="nGY2Icon-mail-alt"><\/i>',viewerCustomTool1:"T1",viewerCustomTool2:"T2",viewerCustomTool3:"T3",viewerCustomTool4:"T4",viewerCustomTool5:"T5",viewerCustomTool6:"T6",viewerCustomTool7:"T7",viewerCustomTool8:"T8",viewerCustomTool9:"T9",viewerCustomTool10:"T10"}};jQuery.fn.nanogallery2=function(t,i,r){var u,s,o,f,e;if(typeof jQuery(this).data("nanogallery2data")=="undefined")return t=="destroy"?void 0:this.each(function(){new jQuery.nanogallery2(this,t)});u=n(this).data("nanogallery2data").nG2;switch(t){case"displayItem":u.DisplayItem(i);break;case"search":return u.Search(i);case"search2":return u.Search2(i,r);case"search2Execute":return u.Search2Execute();case"refresh":u.Refresh();break;case"resize":u.Resize();break;case"instance":return u;case"data":return u.data={items:u.I,gallery:u.GOM,lightbox:u.VOM},u.data;case"reload":return u.ReloadAlbum(),n(this);case"itemsSelectedGet":return u.ItemsSelectedGet();case"itemsSetSelectedValue":u.ItemsSetSelectedValue(i,r);break;case"option":if(typeof r=="undefined")return u.Get(i);u.Set(i,r);i=="demoViewportWidth"&&n(window).trigger("resize");break;case"destroy":u.Destroy();n(this).removeData("nanogallery2data");break;case"shoppingCartGet":return u.shoppingCart;case"shoppingCartUpdate":if(typeof r=="undefined"||typeof i=="undefined")return!1;for(o=i,s=r,f=0;f<u.shoppingCart.length;f++)(u.shoppingCart[f].ID=o)&&(u.shoppingCart[f].cnt=s);return e=G.O.fnShoppingCartUpdated,e!==null&&(typeof e=="function"?e(u.shoppingCart):window[e](u.shoppingCart)),u.shoppingCart;case"shoppingCartRemove":if(typeof i=="undefined")return!1;for(o=i,f=0;f<u.shoppingCart.length;f++)if(u.shoppingCart[f].ID=o){u.shoppingCart.splice(f,1);break}return e=G.O.fnShoppingCartUpdated,e!==null&&(typeof e=="function"?e(u.shoppingCart):window[e](u.shoppingCart)),u.shoppingCart;case"closeViewer":u.CloseViewer();break;case"minimizeToolbar":u.MinimizeToolbar();break;case"maximizeToolbar":u.MaximizeToolbar();break;case"paginationPreviousPage":u.PaginationPreviousPage();break;case"paginationNextPage":u.paginationNextPage();break;case"paginationGotoPage":u.PaginationGotoPage(i);break;case"paginationCountPages":u.PaginationCountPages()}return n(this)};
/*!
 * imagesLoaded PACKAGED v4.1.1
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(n,t){n.ngEvEmitter=t()})(typeof window!="undefined"?window:this,function(){function t(){}var n=t.prototype;return n.on=function(n,t){if(n&&t){var i=this._events=this._events||{},r=i[n]=i[n]||[];return r.indexOf(t)==-1&&r.push(t),this}},n.once=function(n,t){if(n&&t){this.on(n,t);var i=this._onceEvents=this._onceEvents||{},r=i[n]=i[n]||{};return r[t]=!0,this}},n.off=function(n,t){var i=this._events&&this._events[n],r;if(i&&i.length)return r=i.indexOf(t),r!=-1&&i.splice(r,1),this},n.emitEvent=function(n,t){var r=this._events&&this._events[n],u,i,f,e;if(r&&r.length){for(u=0,i=r[u],t=t||[],f=this._onceEvents&&this._onceEvents[n];i;)e=f&&f[i],e&&(this.off(n,i),delete f[i]),i.apply(this,t),u+=e?0:1,i=r[u];return this}},t});
/*!
 * ngimagesLoaded v4.1.1
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(n,t){n.ngimagesLoaded=t(n,n.ngEvEmitter)})(window,function(n,t){function o(n,t){for(var i in t)n[i]=t[i];return n}function h(n){var t=[],i;if(Array.isArray(n))t=n;else if(typeof n.length=="number")for(i=0;i<n.length;i++)t.push(n[i]);else t.push(n);return t}function i(n,t,r){if(!(this instanceof i))return new i(n,t,r);if(typeof n=="string"&&(n=document.querySelectorAll(n)),this.elements=h(n),this.options=o({},this.options),typeof t=="function"?r=t:o(this.options,t),r)this.on("always",r);this.getImages();u&&(this.jqDeferred=new u.Deferred);setTimeout(function(){this.check()}.bind(this))}function r(n){this.img=n}function f(n,t){this.url=n;this.element=t;this.img=new Image}var u=jQuery,e=n.console,s;return i.prototype=Object.create(t.prototype),i.prototype.options={},i.prototype.getImages=function(){this.images=[];this.elements.forEach(this.addElementImages,this)},i.prototype.addElementImages=function(n){var i,r,t,f,u,e;if(n.nodeName=="IMG"&&this.addImage(n),this.options.background===!0&&this.addElementBackgroundImages(n),i=n.nodeType,i&&s[i]){for(r=n.querySelectorAll("img"),t=0;t<r.length;t++)f=r[t],this.addImage(f);if(typeof this.options.background=="string")for(u=n.querySelectorAll(this.options.background),t=0;t<u.length;t++)e=u[t],this.addElementBackgroundImages(e)}},s={1:!0,9:!0,11:!0},i.prototype.addElementBackgroundImages=function(n){var i=getComputedStyle(n),r,t,u;if(i)for(r=/url\((['"])?(.*?)\1\)/gi,t=r.exec(i.backgroundImage);t!==null;)u=t&&t[2],u&&this.addBackground(u,n),t=r.exec(i.backgroundImage)},i.prototype.addImage=function(n){var t=new r(n);this.images.push(t)},i.prototype.addBackground=function(n,t){var i=new f(n,t);this.images.push(i)},i.prototype.check=function(){function t(t,i,r){setTimeout(function(){n.progress(t,i,r)})}var n=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}this.images.forEach(function(n){n.once("progress",t);n.check()})},i.prototype.progress=function(n,t,i){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!n.isLoaded;this.emitEvent("progress",[this,n,t]);this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,n);this.progressedCount==this.images.length&&this.complete();this.options.debug&&e&&e.log("progress: "+i,n,t)},i.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done",n;this.isComplete=!0;this.emitEvent(t,[this]);this.emitEvent("always",[this]);this.jqDeferred&&(n=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[n](this))},r.prototype=Object.create(t.prototype),r.prototype.check=function(){var n=this.getIsImageComplete();if(n){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image;this.proxyImage.addEventListener("load",this);this.proxyImage.addEventListener("error",this);this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.proxyImage.src=this.img.src},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth!==undefined},r.prototype.confirm=function(n,t){this.isLoaded=n;this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(n){var t="on"+n.type;this[t]&&this[t](n)},r.prototype.onload=function(){this.confirm(!0,"onload");this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror");this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this);this.proxyImage.removeEventListener("error",this);this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)},f.prototype=Object.create(r.prototype),f.prototype.check=function(){this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.img.src=this.url;var n=this.getIsImageComplete();n&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},f.prototype.unbindEvents=function(){this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)},f.prototype.confirm=function(n,t){this.isLoaded=n;this.emitEvent("progress",[this,this.element,t])},i.makeJQueryPlugin=function(t){(t=t||n.jQuery,t)&&(u=t,u.fn.ngimagesLoaded=function(n,t){var r=new i(this,n,t);return r.jqDeferred.promise(u(this))})},i.makeJQueryPlugin(),i}),function(){var t=typeof window=="undefined"?{}:window.document,r=typeof module!="undefined"&&module.exports,u=typeof Element!="undefined"&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var i,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,f=r.length,u={};n<f;n++)if(i=r[n],i&&i[1]in t){for(n=0;n<i.length;n++)u[r[0][n]]=i[n];return u}return!1}(),i={request:function(i){var r=n.requestFullscreen;i=i||t.documentElement;/5\.1[.\d]* Safari/.test(navigator.userAgent)?i[r]():i[r](u&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(n){this.isFullscreen?this.exit():this.request(n)},onchange:function(i){t.addEventListener(n.fullscreenchange,i,!1)},onerror:function(i){t.addEventListener(n.fullscreenerror,i,!1)},raw:n};if(!n){r?module.exports=!1:window.ngscreenfull=!1;return}Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[n.fullscreenEnabled])}}});r?module.exports=i:window.ngscreenfull=i}();
/*!
 * Shifty
 * By Jeremy Kahn - jeremyckahn@gmail.com
 */
(function(){var t=this||Function("return this")(),n=function(){function o(){}function u(n,t){for(var i in n)Object.hasOwnProperty.call(n,i)&&t(i)}function f(n,t){return u(t,function(i){n[i]=t[i]}),n}function p(n,t){u(t,function(i){typeof n[i]=="undefined"&&(n[i]=t[i])})}function s(n,t,i,r,u,f,e){var c=n<f?0:(n-f)/u,o,s,h;for(o in t)t.hasOwnProperty(o)&&(s=e[o],h=typeof s=="function"?s:a[s],t[o]=w(i[o],r[o],h,c));return t}function w(n,t,i,r){return n+(t-n)*i(r)}function i(t,i){var r=n.prototype.filter,f=t._filterArgs;u(r,function(n){typeof r[n][i]!="undefined"&&r[n][i].apply(t,f)})}function l(n,t,u,f,o,l,a,v,y,p,w){h=t+u+f;e=Math.min(w||r(),h);b=e>=h;c=f-(h-e);n.isPlaying()&&(b?(y(a,n._attachment,c),n.stop(!0)):(n._scheduleId=p(n._timeoutHandler,g),i(n,"beforeTween"),e<t+u?s(1,o,l,a,1,1,v):s(e,o,l,a,f,t+u,v),i(n,"afterTween"),y(o,n._attachment,c)))}function k(n,t){var i={},r=typeof t;return r==="string"||r==="function"?u(n,function(n){i[n]=t}):u(n,function(n){i[n]||(i[n]=t[n]||y)}),i}function n(n,t){this._currentState=n||{};this._configured=!1;this._scheduleFunction=v;typeof t!="undefined"&&this.setConfig(t)}var a,v,y="linear",d=500,g=1e3/60,nt=Date.now?Date.now:function(){return+new Date},r=typeof SHIFTY_DEBUG_NOW!="undefined"?SHIFTY_DEBUG_NOW:nt,h,e,b,c;return v=typeof window!="undefined"?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout,n.prototype.tween=function(n){return this._isTweening?this:(n===undefined&&this._configured||this.setConfig(n),this._timestamp=r(),this._start(this.get(),this._attachment),this.resume())},n.prototype.setConfig=function(n){var t,r,u;return n=n||{},this._configured=!0,this._attachment=n.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=n.delay||0,this._start=n.start||o,this._step=n.step||o,this._finish=n.finish||o,this._duration=n.duration||d,this._currentState=f({},n.from||this.get()),this._originalState=this.get(),this._targetState=f({},n.to||this.get()),t=this,this._timeoutHandler=function(){l(t,t._timestamp,t._delay,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)},r=this._currentState,u=this._targetState,p(u,r),this._easing=k(r,n.easing||y),this._filterArgs=[r,this._originalState,u,this._easing],i(this,"tweenCreated"),this},n.prototype.get=function(){return f({},this._currentState)},n.prototype.set=function(n){this._currentState=n},n.prototype.pause=function(){return this._pausedAtTime=r(),this._isPaused=!0,this},n.prototype.resume=function(){return this._isPaused&&(this._timestamp+=r()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},n.prototype.seek=function(n){n=Math.max(n,0);var t=r();return this._timestamp+n===0?this:(this._timestamp=t-n,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,l(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause()),this)},n.prototype.stop=function(n){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=o,(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.mozCancelRequestAnimationFrame||t.clearTimeout)(this._scheduleId),n&&(i(this,"beforeTween"),s(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),i(this,"afterTween"),i(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},n.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},n.prototype.setScheduleFunction=function(n){this._scheduleFunction=n},n.prototype.dispose=function(){for(var n in this)this.hasOwnProperty(n)&&delete this[n]},n.prototype.filter={},n.prototype.formula={linear:function(n){return n}},a=n.prototype.formula,f(n,{now:r,each:u,tweenProps:s,tweenProp:w,applyFilter:i,shallowCopy:f,defaults:p,composeEasingObject:k}),typeof SHIFTY_DEBUG_NOW=="function"&&(t.timeoutHandler=l),typeof exports=="object"?module.exports=n:typeof define=="function"&&define.amdDISABLED?define(function(){return n}):typeof t.NGTweenable=="undefined"&&(t.NGTweenable=n),n}();
/*!
 * All equations are adapted from Thomas Fuchs'
 * [Scripty2](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/penner.js).
 *
 * Based on Easing Equations (c) 2003 [Robert
 * Penner](http://www.robertpenner.com/), all rights reserved. This work is
 * [subject to terms](http://www.robertpenner.com/easing_terms_of_use.html).
 */
/*!
 *  TERMS OF USE - EASING EQUATIONS
 *  Open source under the BSD License.
 *  Easing Equations (c) 2003 Robert Penner, all rights reserved.
 */
(function(){n.shallowCopy(n.prototype.formula,{easeInQuad:function(n){return Math.pow(n,2)},easeOutQuad:function(n){return-(Math.pow(n-1,2)-1)},easeInOutQuad:function(n){return(n/=.5)<1?.5*Math.pow(n,2):-.5*((n-=2)*n-2)},easeInCubic:function(n){return Math.pow(n,3)},easeOutCubic:function(n){return Math.pow(n-1,3)+1},easeInOutCubic:function(n){return(n/=.5)<1?.5*Math.pow(n,3):.5*(Math.pow(n-2,3)+2)},easeInQuart:function(n){return Math.pow(n,4)},easeOutQuart:function(n){return-(Math.pow(n-1,4)-1)},easeInOutQuart:function(n){return(n/=.5)<1?.5*Math.pow(n,4):-.5*((n-=2)*Math.pow(n,3)-2)},easeInQuint:function(n){return Math.pow(n,5)},easeOutQuint:function(n){return Math.pow(n-1,5)+1},easeInOutQuint:function(n){return(n/=.5)<1?.5*Math.pow(n,5):.5*(Math.pow(n-2,5)+2)},easeInSine:function(n){return-Math.cos(n*(Math.PI/2))+1},easeOutSine:function(n){return Math.sin(n*(Math.PI/2))},easeInOutSine:function(n){return-.5*(Math.cos(Math.PI*n)-1)},easeInExpo:function(n){return n===0?0:Math.pow(2,10*(n-1))},easeOutExpo:function(n){return n===1?1:-Math.pow(2,-10*n)+1},easeInOutExpo:function(n){return n===0?0:n===1?1:(n/=.5)<1?.5*Math.pow(2,10*(n-1)):.5*(-Math.pow(2,-10*--n)+2)},easeInCirc:function(n){return-(Math.sqrt(1-n*n)-1)},easeOutCirc:function(n){return Math.sqrt(1-Math.pow(n-1,2))},easeInOutCirc:function(n){return(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},easeOutBounce:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInBack:function(n){var t=1.70158;return n*n*((t+1)*n-t)},easeOutBack:function(n){var t=1.70158;return(n=n-1)*n*((t+1)*n+t)+1},easeInOutBack:function(n){var t=1.70158;return(n/=.5)<1?.5*n*n*(((t*=1.525)+1)*n-t):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},elastic:function(n){return-1*Math.pow(4,-8*n)*Math.sin((n*6-1)*2*Math.PI/2)+1},swingFromTo:function(n){var t=1.70158;return(n/=.5)<1?.5*n*n*(((t*=1.525)+1)*n-t):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},swingFrom:function(n){var t=1.70158;return n*n*((t+1)*n-t)},swingTo:function(n){var t=1.70158;return(n-=1)*n*((t+1)*n+t)+1},bounce:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bouncePast:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?2-(7.5625*(n-=1.5/2.75)*n+.75):n<2.5/2.75?2-(7.5625*(n-=2.25/2.75)*n+.9375):2-(7.5625*(n-=2.625/2.75)*n+.984375)},easeFromTo:function(n){return(n/=.5)<1?.5*Math.pow(n,4):-.5*((n-=2)*Math.pow(n,3)-2)},easeFrom:function(n){return Math.pow(n,4)},easeTo:function(n){return Math.pow(n,.25)}})})(),function(){function t(n,t,i,r,u,f){function v(n){return((h*n+o)*n+e)*n}function y(n){return((a*n+c)*n+s)*n}function p(n){return(3*h*n+2*o)*n+e}function w(n){return 1/(200*n)}function b(n,t){return y(k(n,t))}function l(n){return n>=0?n:0-n}function k(n,t){for(var r,u,f,e,i=n,o=0;o<8;o++){if(f=v(i)-n,l(f)<t)return i;if(e=p(i),l(e)<1e-6)break;i=i-f/e}if(r=0,u=1,i=n,i<r)return r;if(i>u)return u;while(r<u){if(f=v(i),l(f-n)<t)return i;n>f?r=i:u=i;i=(u-r)*.5+r}return i}var h=0,o=0,e=0,a=0,c=0,s=0;return e=3*t,o=3*(r-t)-e,h=1-e-o,s=3*i,c=3*(u-i)-s,a=1-s-c,b(n,w(f))}function i(n,i,r,u){return function(f){return t(f,n,i,r,u,1)}}n.setBezierFunction=function(t,r,u,f,e){var o=i(r,u,f,e);return o.displayName=t,o.x1=r,o.y1=u,o.x2=f,o.y2=e,n.prototype.formula[t]=o};n.unsetBezierFunction=function(t){delete n.prototype.formula[t]}}(),function(){function i(t,i,r,u,f,e){return n.tweenProps(u,i,t,r,1,e,f)}var t=new n;t._filterArgs=[];n.interpolate=function(r,u,f,e,o){var h=n.shallowCopy({},r),a=o||0,c=n.composeEasingObject(r,e||"linear"),s,l;return t.set({}),s=t._filterArgs,s.length=0,s[0]=h,s[1]=r,s[2]=u,s[3]=c,n.applyFilter(t,"tweenCreated"),n.applyFilter(t,"beforeTween"),l=i(r,h,u,f,c,a),n.applyFilter(t,"afterTween"),l}}(),function(n){function w(n,t){for(var r=[],u=n.length,i=0;i<u;i++)r.push("_"+t+"_"+i);return r}function b(n){var t=n.match(v);return t?(t.length===1||n.charAt(0).match(a))&&t.unshift(""):t=["",""],t.join(i)}function u(t){n.each(t,function(n){var i=t[n];typeof i=="string"&&i.match(h)&&(t[n]=k(i))})}function k(n){return c(h,n,d)}function d(n){var t=g(n);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function g(n){return n=n.replace(/#/,""),n.length===3&&(n=n.split(""),n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),r[0]=f(n.substr(0,2)),r[1]=f(n.substr(2,2)),r[2]=f(n.substr(4,2)),r}function f(n){return parseInt(n,16)}function c(n,t,r){var u=t.match(n),f=t.replace(n,i),o,s,e;if(u)for(o=u.length,e=0;e<o;e++)s=u.shift(),f=f.replace(i,r(s));return f}function nt(n){return c(y,n,tt)}function tt(n){for(var r=n.match(t),f=r.length,u=n.match(p)[0],i=0;i<f;i++)u+=parseInt(r[i],10)+",";return u.slice(0,-1)+")"}function it(t){var i={};return n.each(t,function(n){var r=t[n],u;typeof r=="string"&&(u=l(r),i[n]={formatString:b(r),chunkNames:w(u,n)})}),i}function e(t,i){n.each(i,function(n){for(var f=t[n],u=l(f),e=u.length,r=0;r<e;r++)t[i[n].chunkNames[r]]=+u[r];delete t[n]})}function o(t,i){n.each(i,function(n){var r=t[n],u=rt(t,i[n].chunkNames),f=ut(u,i[n].chunkNames);r=ft(i[n].formatString,f);t[n]=nt(r)})}function rt(n,t){for(var u={},i,f=t.length,r=0;r<f;r++)i=t[r],u[i]=n[i],delete n[i];return u}function ut(n,t){var r,i;for(s.length=0,r=t.length,i=0;i<r;i++)s.push(n[t[i]]);return s}function ft(n,t){for(var r=n,f=t.length,u=0;u<f;u++)r=r.replace(i,+t[u].toFixed(4));return r}function l(n){return n.match(t)}function et(t,i){n.each(i,function(n){var h=i[n],f=h.chunkNames,o=f.length,e=t[n],r,u,s;if(typeof e=="string")for(u=e.split(" "),s=u[u.length-1],r=0;r<o;r++)t[f[r]]=u[r]||s;else for(r=0;r<o;r++)t[f[r]]=e;delete t[n]})}function ot(t,i){n.each(i,function(n){var o=i[n],u=o.chunkNames,s=u.length,e=t[u[0]],h=typeof e,f,r;if(h==="string"){for(f="",r=0;r<s;r++)f+=" "+t[u[r]],delete t[u[r]];t[n]=f.substr(1)}else t[n]=e})}var a=/(\d|\-|\.)/,v=/([^\-0-9\.]+)/g,t=/[0-9.\-]+/g,y=new RegExp("rgb\\("+t.source+/,\s*/.source+t.source+/,\s*/.source+t.source+"\\)","g"),p=/^.*\(/,h=/#([0-9]|[a-f]){3,6}/gi,i="VAL",r=[],s=[];n.prototype.filter.token={tweenCreated:function(n,t,i){u(n);u(t);u(i);this._tokenData=it(n)},beforeTween:function(n,t,i,r){et(r,this._tokenData);e(n,this._tokenData);e(t,this._tokenData);e(i,this._tokenData)},afterTween:function(n,t,i,r){o(n,this._tokenData);o(t,this._tokenData);o(i,this._tokenData);ot(r,this._tokenData)}}}(n)}).call(null);
/*! NGHammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
(function(n,t,i,r){function hi(n,t,i){return setTimeout(li(n,i),t)}function ut(n,t,i){return Array.isArray(n)?(v(n,i[t],i),!0):!1}function v(n,t,i){var u;if(n)if(n.forEach)n.forEach(t,i);else if(n.length!==r)for(u=0;u<n.length;)t.call(i,n[u],u,n),u++;else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function or(t,i,r){var u="DEPRECATED METHOD: "+i+"\n"+r+" AT \n";return function(){var i=new Error("get-stack-trace"),f=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=n.console&&(n.console.warn||n.console.log);return r&&r.call(n.console,u,f),t.apply(this,arguments)}}function o(n,t,i){var u=t.prototype,r;r=n.prototype=Object.create(u);r.constructor=n;r._super=u;i&&y(r,i)}function li(n,t){return function(){return n.apply(t,arguments)}}function ai(n,t){return typeof n==bu?n.apply(t?t[0]||r:r,t):n}function hr(n,t){return n===r?t:n}function pt(n,t,i){v(bt(t),function(t){n.addEventListener(t,i,!1)})}function wt(n,t,i){v(bt(t),function(t){n.removeEventListener(t,i,!1)})}function cr(n,t){while(n){if(n==t)return!0;n=n.parentNode}return!1}function g(n,t){return n.indexOf(t)>-1}function bt(n){return n.trim().split(/\s+/g)}function ft(n,t,i){if(n.indexOf&&!i)return n.indexOf(t);for(var r=0;r<n.length;){if(i&&n[r][i]==t||!i&&n[r]===t)return r;r++}return-1}function kt(n){return Array.prototype.slice.call(n,0)}function lr(n,t,i){for(var u=[],e=[],r=0,f;r<n.length;)f=t?n[r][t]:n[r],ft(e,f)<0&&u.push(n[r]),e[r]=f,r++;return i&&(u=t?u.sort(function(n,i){return n[t]>i[t]}):u.sort()),u}function vi(n,t){for(var i,u,e=t[0].toUpperCase()+t.slice(1),f=0;f<er.length;){if(i=er[f],u=i?i+e:t,u in n)return u;f++}return r}function ku(){return ar++}function vr(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||n}function s(n,t){var i=this;this.manager=n;this.callback=t;this.element=n.element;this.target=n.options.inputTarget;this.domHandler=function(t){ai(n.options.enable,[n])&&i.handler(t)};this.init()}function tf(n){var t,i=n.options.inputClass;return t=i?i:du?wi:gu?ii:yr?ki:ti,new t(n,rf)}function rf(n,t,i){var r=i.pointers.length,o=i.changedPointers.length,s=t&f&&r-o==0,h=t&(u|e)&&r-o==0;i.isFirst=!!s;i.isFinal=!!h;s&&(n.session={});i.eventType=t;uf(n,i);n.emit("hammer.input",i);n.recognize(i);n.session.prevInput=i}function uf(n,t){var i=n.session,f=t.pointers,o=f.length,r,e;i.firstInput||(i.firstInput=br(t));o>1&&!i.firstMultiple?i.firstMultiple=br(t):o===1&&(i.firstMultiple=!1);var s=i.firstInput,u=i.firstMultiple,h=u?u.center:s.center,c=t.center=kr(f);t.timeStamp=si();t.deltaTime=t.timeStamp-s.timeStamp;t.angle=pi(h,c);t.distance=ni(h,c);ff(i,t);t.offsetDirection=gr(t.deltaX,t.deltaY);r=dr(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=r.x;t.overallVelocityY=r.y;t.overallVelocity=d(r.x)>d(r.y)?r.x:r.y;t.scale=u?sf(u.pointers,f):1;t.rotation=u?of(u.pointers,f):0;t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length;ef(i,t);e=n.element;cr(t.srcEvent.target,e)&&(e=t.srcEvent.target);t.target=e}function ff(n,t){var i=t.center,r=n.offsetDelta||{},e=n.prevDelta||{},o=n.prevInput||{};(t.eventType===f||o.eventType===u)&&(e=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=n.offsetDelta={x:i.x,y:i.y});t.deltaX=e.x+(i.x-r.x);t.deltaY=e.y+(i.y-r.y)}function ef(n,t){var i=n.lastInterval||t,c=t.timeStamp-i.timeStamp,f,o,s,h;if(t.eventType!=e&&(c>nf||i.velocity===r)){var l=t.deltaX-i.deltaX,a=t.deltaY-i.deltaY,u=dr(c,l,a);o=u.x;s=u.y;f=d(u.x)>d(u.y)?u.x:u.y;h=gr(l,a);n.lastInterval=t}else f=i.velocity,o=i.velocityX,s=i.velocityY,h=i.direction;t.velocity=f;t.velocityX=o;t.velocityY=s;t.direction=h}function br(n){for(var i=[],t=0;t<n.pointers.length;)i[t]={clientX:rt(n.pointers[t].clientX),clientY:rt(n.pointers[t].clientY)},t++;return{timeStamp:si(),pointers:i,center:kr(i),deltaX:n.deltaX,deltaY:n.deltaY}}function kr(n){var t=n.length;if(t===1)return{x:rt(n[0].clientX),y:rt(n[0].clientY)};for(var r=0,u=0,i=0;i<t;)r+=n[i].clientX,u+=n[i].clientY,i++;return{x:rt(r/t),y:rt(u/t)}}function dr(n,t,i){return{x:t/n||0,y:i/n||0}}function gr(n,t){return n===t?dt:d(n)>=d(t)?n<0?st:ht:t<0?ct:lt}function ni(n,t,i){i||(i=wr);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.sqrt(r*r+u*u)}function pi(n,t,i){i||(i=wr);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.atan2(u,r)*180/Math.PI}function of(n,t){return pi(t[1],t[0],gt)+pi(n[1],n[0],gt)}function sf(n,t){return ni(t[0],t[1],gt)/ni(n[0],n[1],gt)}function ti(){this.evEl=cf;this.evWin=lf;this.pressed=!1;s.apply(this,arguments)}function wi(){this.evEl=nu;this.evWin=tu;s.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function iu(){this.evTarget=pf;this.evWin=wf;this.started=!1;s.apply(this,arguments)}function bf(n,t){var i=kt(n.touches),r=kt(n.changedTouches);return t&(u|e)&&(i=lr(i.concat(r),"identifier",!0)),[i,r]}function ii(){this.evTarget=uu;this.targetIds={};s.apply(this,arguments)}function kf(n,t){var r=kt(n.touches),o=this.targetIds;if(t&(f|nt)&&r.length===1)return o[r[0].identifier]=!0,[r,r];var i,s,h=kt(n.changedTouches),c=[],l=this.target;if(s=r.filter(function(n){return cr(n.target,l)}),t===f)for(i=0;i<s.length;)o[s[i].identifier]=!0,i++;for(i=0;i<h.length;)o[h[i].identifier]&&c.push(h[i]),t&(u|e)&&delete o[h[i].identifier],i++;if(c.length)return[lr(s.concat(c),"identifier",!0),c]}function ki(){s.apply(this,arguments);var n=li(this.handler,this);this.touch=new ii(this.manager,n);this.mouse=new ti(this.manager,n);this.primaryTouch=null;this.lastTouches=[]}function df(n,t){n&f?(this.primaryTouch=t.changedPointers[0].identifier,eu.call(this,t)):n&(u|e)&&eu.call(this,t)}function eu(n){var t=n.changedPointers[0],i,r,u;t.identifier===this.primaryTouch&&(i={x:t.clientX,y:t.clientY},this.lastTouches.push(i),r=this.lastTouches,u=function(){var n=r.indexOf(i);n>-1&&r.splice(n,1)},setTimeout(u,fu))}function gf(n){for(var r=n.srcEvent.clientX,u=n.srcEvent.clientY,t=0;t<this.lastTouches.length;t++){var i=this.lastTouches[t],f=Math.abs(r-i.x),e=Math.abs(u-i.y);if(f<=bi&&e<=bi)return!0}return!1}function gi(n,t){this.manager=n;this.set(t)}function ne(n){if(g(n,it))return it;var t=g(n,at),i=g(n,vt);return t&&i?it:t||i?t?at:vt:g(n,di)?di:cu}function te(){if(!su)return!1;var t={},i=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){t[r]=i?n.CSS.supports("touch-action",r):!0}),t}function w(n){this.options=y({},this.defaults,n||{});this.id=ku();this.manager=null;this.options.enable=hr(this.options.enable,!0);this.state=ui;this.simultaneous={};this.requireFail=[]}function lu(n){return n&yt?"cancel":n&k?"end":n&et?"move":n&h?"start":""}function au(n){return n==lt?"down":n==ct?"up":n==st?"left":n==ht?"right":""}function fi(n,t){var i=t.manager;return i?i.get(n):n}function c(){w.apply(this,arguments)}function ei(){c.apply(this,arguments);this.pX=null;this.pY=null}function nr(){c.apply(this,arguments)}function tr(){w.apply(this,arguments);this._timer=null;this._input=null}function ir(){c.apply(this,arguments)}function rr(){c.apply(this,arguments)}function oi(){w.apply(this,arguments);this.pTime=!1;this.pCenter=!1;this._timer=null;this._input=null;this.count=0}function b(n,t){return t=t||{},t.recognizers=hr(t.recognizers,b.defaults.preset),new fr(n,t)}function fr(n,t){this.options=y({},b.defaults,t||{});this.options.inputTarget=this.options.inputTarget||n;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=n;this.input=tf(this);this.touchAction=new gi(this,this.options.touchAction);yu(this,!0);v(this.options.recognizers,function(n){var t=this.add(new n[0](n[1]));n[2]&&t.recognizeWith(n[2]);n[3]&&t.requireFailure(n[3])},this)}function yu(n,t){var r=n.element,i;r.style&&(v(n.options.cssProps,function(u,f){i=vi(r.style,f);t?(n.oldCssProps[i]=r.style[i],r.style[i]=u):r.style[i]=n.oldCssProps[i]||""}),t||(n.oldCssProps={}))}function ie(n,i){var r=t.createEvent("Event");r.initEvent(n,!0,!0);r.gesture=i;i.target.dispatchEvent(r)}var er=["","webkit","Moz","MS","ms","o"],wu=t.createElement("div"),bu="function",rt=Math.round,d=Math.abs,si=Date.now,y,ci,sr,ar,ru,uu,fu,bi,vu,ur,pu;y=typeof Object.assign!="function"?function(n){var f,i,t,u;if(n===r||n===null)throw new TypeError("Cannot convert undefined or null to object");for(f=Object(n),i=1;i<arguments.length;i++)if(t=arguments[i],t!==r&&t!==null)for(u in t)t.hasOwnProperty(u)&&(f[u]=t[u]);return f}:Object.assign;ci=or(function(n,t,i){for(var f=Object.keys(t),u=0;u<f.length;)(!i||i&&n[f[u]]===r)&&(n[f[u]]=t[f[u]]),u++;return n},"extend","Use `assign`.");sr=or(function(n,t){return ci(n,t,!0)},"merge","Use `assign`.");ar=1;var yr="ontouchstart"in n,du=!1,gu=yr&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ot="touch",yi="mouse",nf=25,f=1,nt=2,u=4,e=8,dt=1,st=2,ht=4,ct=8,lt=16,l=st|ht,tt=ct|lt,pr=l|tt,wr=["x","y"],gt=["clientX","clientY"];s.prototype={handler:function(){},init:function(){this.evEl&&pt(this.element,this.evEl,this.domHandler);this.evTarget&&pt(this.target,this.evTarget,this.domHandler);this.evWin&&pt(vr(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&wt(this.element,this.evEl,this.domHandler);this.evTarget&&wt(this.target,this.evTarget,this.domHandler);this.evWin&&wt(vr(this.element),this.evWin,this.domHandler)}};var hf={mousedown:f,mousemove:nt,mouseup:u},cf="mousedown",lf="mousemove mouseup";o(ti,s,{handler:function(n){var t=hf[n.type];(t&f&&n.button===0&&(this.pressed=!0),t&nt&&n.which!==1&&(t=u),this.pressed)&&(t&u&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[n],changedPointers:[n],pointerType:yi,srcEvent:n}))}});var af={pointerdown:f,pointermove:nt,pointerup:u,pointercancel:e,pointerout:e},vf={2:ot,3:"pen",4:yi,5:"kinect"},nu="pointerdown",tu="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(nu="MSPointerDown",tu="MSPointerMove MSPointerUp MSPointerCancel");o(wi,s,{handler:function(n){var t=this.store,o=!1,h=n.type.toLowerCase().replace("ms",""),r=af[h],s=vf[n.pointerType]||n.pointerType,c=s==ot,i=ft(t,n.pointerId,"pointerId");(r&f&&(n.button===0||c)?i<0&&(t.push(n),i=t.length-1):r&(u|e)&&(o=!0),i<0)||(t[i]=n,this.callback(this.manager,r,{pointers:t,changedPointers:[n],pointerType:s,srcEvent:n}),o&&t.splice(i,1))}});var yf={touchstart:f,touchmove:nt,touchend:u,touchcancel:e},pf="touchstart",wf="touchstart touchmove touchend touchcancel";o(iu,s,{handler:function(n){var i=yf[n.type],t;(i===f&&(this.started=!0),this.started)&&(t=bf.call(this,n,i),i&(u|e)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:ot,srcEvent:n}))}});ru={touchstart:f,touchmove:nt,touchend:u,touchcancel:e};uu="touchstart touchmove touchend touchcancel";o(ii,s,{handler:function(n){var i=ru[n.type],t=kf.call(this,n,i);t&&this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:ot,srcEvent:n})}});fu=2500;bi=25;o(ki,s,{handler:function(n,t,i){var u=i.pointerType==ot,r=i.pointerType==yi;if(!r||!i.sourceCapabilities||!i.sourceCapabilities.firesTouchEvents){if(u)df.call(this,t,i);else if(r&&gf.call(this,i))return;this.callback(n,t,i)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var ou=vi(wu.style,"touchAction"),su=ou!==r,hu="compute",cu="auto",di="manipulation",it="none",at="pan-x",vt="pan-y",ri=te();gi.prototype={set:function(n){n==hu&&(n=this.compute());su&&this.manager.element.style&&ri[n]&&(this.manager.element.style[ou]=n);this.actions=n.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var n=[];return v(this.manager.recognizers,function(t){ai(t.options.enable,[t])&&(n=n.concat(t.getTouchAction()))}),ne(n.join(" "))},preventDefaults:function(n){var i=n.srcEvent,r=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var t=this.actions,u=g(t,it)&&!ri[it],f=g(t,vt)&&!ri[vt],e=g(t,at)&&!ri[at];if(u){var o=n.pointers.length===1,s=n.distance<2,h=n.deltaTime<250;if(o&&s&&h)return}if(!e||!f)return u||f&&r&l||e&&r&tt?this.preventSrc(i):void 0},preventSrc:function(n){this.manager.session.prevented=!0;n.preventDefault()}};var ui=1,h=2,et=4,k=8,p=k,yt=16,a=32;w.prototype={defaults:{},set:function(n){return y(this.options,n),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(n){if(ut(n,"recognizeWith",this))return this;var t=this.simultaneous;return n=fi(n,this),t[n.id]||(t[n.id]=n,n.recognizeWith(this)),this},dropRecognizeWith:function(n){return ut(n,"dropRecognizeWith",this)?this:(n=fi(n,this),delete this.simultaneous[n.id],this)},requireFailure:function(n){if(ut(n,"requireFailure",this))return this;var t=this.requireFail;return n=fi(n,this),ft(t,n)===-1&&(t.push(n),n.requireFailure(this)),this},dropRequireFailure:function(n){if(ut(n,"dropRequireFailure",this))return this;n=fi(n,this);var t=ft(this.requireFail,n);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(n){return!!this.simultaneous[n.id]},emit:function(n){function r(i){t.manager.emit(i,n)}var t=this,i=this.state;i<k&&r(t.options.event+lu(i));r(t.options.event);n.additionalEvent&&r(n.additionalEvent);i>=k&&r(t.options.event+lu(i))},tryEmit:function(n){if(this.canEmit())return this.emit(n);this.state=a},canEmit:function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(a|ui)))return!1;n++}return!0},recognize:function(n){var t=y({},n);if(!ai(this.options.enable,[this,t])){this.reset();this.state=a;return}this.state&(p|yt|a)&&(this.state=ui);this.state=this.process(t);this.state&(h|et|k|yt)&&this.tryEmit(t)},process:function(){},getTouchAction:function(){},reset:function(){}};o(c,w,{defaults:{pointers:1},attrTest:function(n){var t=this.options.pointers;return t===0||n.pointers.length===t},process:function(n){var t=this.state,i=n.eventType,r=t&(h|et),f=this.attrTest(n);return r&&(i&e||!f)?t|yt:r||f?i&u?t|k:(t&h)?t|et:h:a}});o(ei,c,{defaults:{event:"pan",threshold:10,pointers:1,direction:pr},getTouchAction:function(){var t=this.options.direction,n=[];return t&l&&n.push(vt),t&tt&&n.push(at),n},directionTest:function(n){var i=this.options,r=!0,u=n.distance,t=n.direction,f=n.deltaX,e=n.deltaY;return t&i.direction||(i.direction&l?(t=f===0?dt:f<0?st:ht,r=f!=this.pX,u=Math.abs(n.deltaX)):(t=e===0?dt:e<0?ct:lt,r=e!=this.pY,u=Math.abs(n.deltaY))),n.direction=t,r&&u>i.threshold&&t&i.direction},attrTest:function(n){return c.prototype.attrTest.call(this,n)&&(this.state&h||!(this.state&h)&&this.directionTest(n))},emit:function(n){this.pX=n.deltaX;this.pY=n.deltaY;var t=au(n.direction);t&&(n.additionalEvent=this.options.event+t);this._super.emit.call(this,n)}});o(nr,c,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[it]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&h)},emit:function(n){if(n.scale!==1){var t=n.scale<1?"in":"out";n.additionalEvent=this.options.event+t}this._super.emit.call(this,n)}});o(tr,w,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[cu]},process:function(n){var t=this.options,i=n.pointers.length===t.pointers,r=n.distance<t.threshold,o=n.deltaTime>t.time;if(this._input=n,!r||!i||n.eventType&(u|e)&&!o)this.reset();else if(n.eventType&f)this.reset(),this._timer=hi(function(){this.state=p;this.tryEmit()},t.time,this);else if(n.eventType&u)return p;return a},reset:function(){clearTimeout(this._timer)},emit:function(n){this.state===p&&(n&&n.eventType&u?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=si(),this.manager.emit(this.options.event,this._input)))}});o(ir,c,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[it]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&h)}});o(rr,c,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:l|tt,pointers:1},getTouchAction:function(){return ei.prototype.getTouchAction.call(this)},attrTest:function(n){var t=this.options.direction,i;return t&(l|tt)?i=n.overallVelocity:t&l?i=n.overallVelocityX:t&tt&&(i=n.overallVelocityY),this._super.attrTest.call(this,n)&&t&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers==this.options.pointers&&d(i)>this.options.velocity&&n.eventType&u},emit:function(n){var t=au(n.offsetDirection);t&&this.manager.emit(this.options.event+t,n);this.manager.emit(this.options.event,n)}});o(oi,w,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[di]},process:function(n){var t=this.options,o=n.pointers.length===t.pointers,s=n.distance<t.threshold,c=n.deltaTime<t.time,i,r,e;if(this.reset(),n.eventType&f&&this.count===0)return this.failTimeout();if(s&&c&&o){if(n.eventType!=u)return this.failTimeout();if(i=this.pTime?n.timeStamp-this.pTime<t.interval:!0,r=!this.pCenter||ni(this.pCenter,n.center)<t.posThreshold,this.pTime=n.timeStamp,this.pCenter=n.center,r&&i?this.count+=1:this.count=1,this._input=n,e=this.count%t.taps,e===0)return this.hasRequireFailures()?(this._timer=hi(function(){this.state=p;this.tryEmit()},t.interval,this),h):p}return a},failTimeout:function(){return this._timer=hi(function(){this.state=a},this.options.interval,this),a},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==p&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});b.VERSION="2.0.7";b.defaults={domEvents:!1,touchAction:hu,enable:!0,inputTarget:null,inputClass:null,preset:[[ir,{enable:!1}],[nr,{enable:!1},["rotate"]],[rr,{direction:l}],[ei,{direction:l},["swipe"]],[oi],[oi,{event:"doubletap",taps:2},["tap"]],[tr]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};vu=1;ur=2;fr.prototype={set:function(n){return y(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},stop:function(n){this.session.stopped=n?ur:vu},recognize:function(n){var r=this.session,i,f,t,u;if(!r.stopped)for(this.touchAction.preventDefaults(n),f=this.recognizers,t=r.curRecognizer,(!t||t&&t.state&p)&&(t=r.curRecognizer=null),u=0;u<f.length;)i=f[u],r.stopped!==ur&&(!t||i==t||i.canRecognizeWith(t))?i.recognize(n):i.reset(),!t&&i.state&(h|et|k)&&(t=r.curRecognizer=i),u++},get:function(n){var i,t;if(n instanceof w)return n;for(i=this.recognizers,t=0;t<i.length;t++)if(i[t].options.event==n)return i[t];return null},add:function(n){if(ut(n,"add",this))return this;var t=this.get(n.options.event);return t&&this.remove(t),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},remove:function(n){if(ut(n,"remove",this))return this;if(n=this.get(n),n){var t=this.recognizers,i=ft(t,n);i!==-1&&(t.splice(i,1),this.touchAction.update())}return this},on:function(n,t){if(n!==r&&t!==r){var i=this.handlers;return v(bt(n),function(n){i[n]=i[n]||[];i[n].push(t)}),this}},off:function(n,t){if(n!==r){var i=this.handlers;return v(bt(n),function(n){t?i[n]&&i[n].splice(ft(i[n],t),1):delete i[n]}),this}},emit:function(n,t){var i,r;if(this.options.domEvents&&ie(n,t),i=this.handlers[n]&&this.handlers[n].slice(),i&&i.length)for(t.type=n,t.preventDefault=function(){t.srcEvent.preventDefault()},r=0;r<i.length;)i[r](t),r++},destroy:function(){this.element&&yu(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};y(b,{INPUT_START:f,INPUT_MOVE:nt,INPUT_END:u,INPUT_CANCEL:e,STATE_POSSIBLE:ui,STATE_BEGAN:h,STATE_CHANGED:et,STATE_ENDED:k,STATE_RECOGNIZED:p,STATE_CANCELLED:yt,STATE_FAILED:a,DIRECTION_NONE:dt,DIRECTION_LEFT:st,DIRECTION_RIGHT:ht,DIRECTION_UP:ct,DIRECTION_DOWN:lt,DIRECTION_HORIZONTAL:l,DIRECTION_VERTICAL:tt,DIRECTION_ALL:pr,Manager:fr,Input:s,TouchAction:gi,TouchInput:ii,MouseInput:ti,PointerEventInput:wi,TouchMouseInput:ki,SingleTouchInput:iu,Recognizer:w,AttrRecognizer:c,Tap:oi,Pan:ei,Swipe:rr,Pinch:nr,Rotate:ir,Press:tr,on:pt,off:wt,each:v,merge:sr,extend:ci,assign:y,inherit:o,bindFn:li,prefixed:vi});pu=typeof n!="undefined"?n:typeof self!="undefined"?self:{};pu.NGHammer=b;typeof define=="function"&&define.amdDISABLED?define(function(){return b}):typeof module!="undefined"&&module.exports?module.exports=b:n[i]=b})(window,document,"NGHammer")}),function(){"use strict";jQuery(document).ready(function(){for(var t=document.querySelectorAll("[data-nanogallery2]"),n=0;n<t.length;n++)jQuery(t[n]).nanogallery2(jQuery(t[n]).data("nanogallery2"))})}.call(null);
/**!
 * @preserve nanogallery2 - NANOPHOTOSPROVIDER2 data provider
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
*/
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery","nanogallery2"],n):typeof exports=="object"&&typeof require=="function"?n(require(["jquery","nanogallery2"])):n(jQuery)})(function(){jQuery.nanogallery2.data_nano_photos_provider2=function(n,t){function r(n){return decodeURIComponent(n)}function s(n,t){i.O.debugMode&&(console.log("nanoPhotosProvider2 parse data:"),console.dir(t));var u=!1;jQuery.each(t.album_content,function(n,f){var y=i.O.dataProvider.substring(0,i.O.dataProvider.indexOf("nano_photos_provider2.php")),d=y+r(f.src),p=f.title,g=f.description.split("_").join(" "),h="image",a,b,w,k,o,v,c,s,l;if(f.kind!==undefined&&f.kind.length>0&&(h=f.kind),a=f.ID,b=!1,h=="album"&&(e(p,a)||(b=!0)),h=="image"||h=="album"&&e(p,a)){for(w=0,f.albumID!==undefined&&(w=f.albumID,u=!0),k=f.tags===undefined?"":f.tags,o=NGY2Item.New(i,p.split("_").join(" "),g,a,w,h,k),o.setMediaURL(d,"img"),f.dcGIF!==undefined&&(o.imageDominantColors="data:image/gif;base64,"+f.dcGIF),f.dc!==undefined&&f.dc!==""&&(o.imageDominantColor=f.dc),h=="album"?o.numberItems=f.cnt:(o.imageWidth=f.imgWidth,o.imageHeight=f.imgHeight),f.originalURL!=""&&(o.downloadURL=y+r(f.originalURL)),v=i.GOM.curNavLevel,c=["xs","sm","me","la","xl"],s=0;s<c.length;s++)o.thumbs.url[v][c[s]]=y+r(f.t_url[s]),o.thumbs.width[v][c[s]]=parseInt(f.t_width[s]),o.thumbs.height[v][c[s]]=parseInt(f.t_height[s]);l=i.O.fnProcessData;l!==null&&(typeof l=="function"?l(o,i.O.dataProvider,t):window[l](o,i.O.dataProvider,t))}});i.I[n].contentIsLoaded=!0}function h(){}var i=n,o=function(t,e,o,h){var a=NGY2Item.GetIdx(i,t),l,v;n.I[a].title==""&&(n.I[a].title=r(t));l=i.O.dataProvider+"?albumID="+t;l+="&hxs="+i.tn.settings.getH(i.GOM.curNavLevel,"xs");l+="&wxs="+i.tn.settings.getW(i.GOM.curNavLevel,"xs");l+="&hsm="+i.tn.settings.getH(i.GOM.curNavLevel,"sm");l+="&wsm="+i.tn.settings.getW(i.GOM.curNavLevel,"sm");l+="&hme="+i.tn.settings.getH(i.GOM.curNavLevel,"me");l+="&wme="+i.tn.settings.getW(i.GOM.curNavLevel,"me");l+="&hla="+i.tn.settings.getH(i.GOM.curNavLevel,"la");l+="&wla="+i.tn.settings.getW(i.GOM.curNavLevel,"la");l+="&hxl="+i.tn.settings.getH(i.GOM.curNavLevel,"xl");l+="&wxl="+i.tn.settings.getW(i.GOM.curNavLevel,"xl");u(!0);jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;try{v=setTimeout(function(){u(!1);f(i,"Could not retrieve nanoPhotosProvider2 data (timeout).")},6e4);i.O.debugMode&&console.log("nanoPhotosProvider2 URL: "+l);jQuery.getJSON(l,function(n){clearTimeout(v);u(!1);s(a,n);n.nano_status=="ok"?(c(t),e!==null&&e!==undefined&&e(o,h,null)):f(i,"Could not retrieve nanoPhotosProvider2 data. Error: "+n.nano_status+" - "+n.nano_message)}).fail(function(n,t,r){var e,o,s;clearTimeout(v);u(!1);e="";for(o in n)e+=o+"="+n[o]+"<br>";s=t+", "+r+" "+e+"<br><br>URL:"+l;f(i,"Could not retrieve nanoPhotosProvider2 data. Error: "+s)})}catch(y){f(i,"Could not retrieve nanoPhotosProvider2 data. Error: "+y)}},u=NGY2Tools.PreloaderDisplay.bind(i),f=NGY2Tools.NanoAlert,p=NGY2Tools.GetImageTitleFromURL.bind(i),e=NGY2Tools.FilterAlbumName.bind(i),c=NGY2Tools.AlbumPostProcess.bind(i);switch(t){case"AlbumGetContent":var l=arguments[2],a=arguments[3],v=arguments[4],y=arguments[5];o(l,a,v,y);break;case"Init":h()}}});
/**!
 * @preserve nanogallery2 - GOOGLE PHOTOS data provider
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
*/
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery","nanogallery2"],n):typeof exports=="object"&&typeof require=="function"?n(require(["jquery","nanogallery2"])):n(jQuery)})(function(){jQuery.nanogallery2.data_google2=function(n,t){function l(n,t,r){i.O.debugMode&&(console.log("Google Photos data:"),console.dir(r));var u=i.I[n].GetID();i.I[n].title==""&&(i.I[n].title=r.feed.title.$t);jQuery.each(r.feed.entry,function(n,r){var c=r.media$group.media$content[0].url,s=r.title.$t,v="",l=r.media$group.media$description.$t,w,f,a,o,h;t=="image"&&(v=s,l!=""&&(s=l,l=""),i.O.thumbnailLabel.get("title")!=""&&(s=y(unescape(unescape(unescape(unescape(c)))))));w=r.gphoto$id.$t;t=="album"&&!p(s,w)||(f=NGY2Item.New(i,s,l,w,u,t,""),a="",t=="image"?(a=c,i.O.viewerZoom||i.O.viewerZoom==undefined||(o=c.substring(0,c.lastIndexOf("/")),o=o.substring(0,o.lastIndexOf("/"))+"/",a=window.screen.width>window.screen.height?o+"w"+window.screen.width+"/"+v:o+"h"+window.screen.height+"/"+v),f.setMediaURL(a,"img"),r.gphoto$width!==undefined&&(f.imageWidth=parseInt(r.gphoto$width.$t)),r.gphoto$height!==undefined&&(f.imageHeight=parseInt(r.gphoto$height.$t)),r.media$group!=null&&r.media$group.media$credit!=null&&r.media$group.media$credit.length>0&&(f.author=r.media$group.media$credit[0].$t),r.exif$tags!==undefined&&(r.exif$tags.exif$exposure!=undefined&&(f.exif.exposure=r.exif$tags.exif$exposure.$t),r.exif$tags.exif$flash!=undefined&&r.exif$tags.exif$flash.$t=="true"&&(f.exif.flash="flash"),r.exif$tags.exif$focallength!=undefined&&(f.exif.focallength=r.exif$tags.exif$focallength.$t),r.exif$tags.exif$fstop!=undefined&&(f.exif.fstop=r.exif$tags.exif$fstop.$t),r.exif$tags.exif$iso!=undefined&&(f.exif.iso=r.exif$tags.exif$iso.$t),r.exif$tags.exif$model!=undefined&&(f.exif.model=r.exif$tags.exif$model.$t),r.gphoto$location!=undefined&&(f.exif.location=r.gphoto$location))):(f.author=r.author[0].name.$t,f.numberItems=r.gphoto$numphotos.$t),f.thumbs=e("l1",0,f.thumbs,r,t),f.thumbs=e("lN",5,f.thumbs,r,t),h=i.O.fnProcessData,h!==null&&(typeof h=="function"?h(f,"google2",r):window[h](f,"google2",r)))});i.I[n].contentIsLoaded=!0}function a(n,t){jQuery(document).queue("GoogleAlbumWithAuthkey",function(){var o=n.indexOf("&authkey="),s,r,c,h;o==-1&&(o=n.indexOf("?authkey="));s=n.substring(0,o);r=n.substring(o);r.indexOf("Gv1sRg")==-1&&(r="&authkey=Gv1sRg"+r.substring(9));c=Google.url()+"user/"+i.O.userID+"/albumid/"+s+"?alt=json&kind=photo"+r+"&max-results=1&thumbsize="+i.picasa.thumbSizes+"&imgmax=d";u(!0);jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;h=setTimeout(function(){u(!1);f(i,"Could not retrieve AJAX data...")},6e4);jQuery.getJSON(c,function(n){clearTimeout(h);u(!1);var c=n.feed.title.$t,o=n.feed.entry[0],f=NGY2Item.New(i,c,"",s,"0","album","");f.authkey=r;f.thumbs=e("l1",0,f.thumbs,o,"album");f.thumbs=e("lN",5,f.thumbs,o,"album");typeof i.O.fnProcessData=="function"&&i.O.fnProcessData(f,"google",o);f.numberItems=n.feed.gphoto$numphotos.$t;jQuery(document).queue("GoogleAlbumWithAuthkey").length>0?jQuery(document).dequeue("GoogleAlbumWithAuthkey"):t()}).fail(function(n,t,r){clearTimeout(h);u(!1);f(i,"Could not retrieve ajax data (google): "+t+", "+r);jQuery(document).dequeue("GoogleAlbumWithAuthkey")})})}function e(n,t,r,u,f){for(var h,c,l,a,s,o=["xs","sm","me","la","xl"],e=0;e<o.length;e++)r.url[n][o[e]]=u.media$group.media$thumbnail[t+e].url,f=="image"?(r.width[n][o[e]]=u.media$group.media$thumbnail[t+e].width,r.height[n][o[e]]=u.media$group.media$thumbnail[t+e].height,h=u.media$group.media$thumbnail[t+e].width,c=u.media$group.media$thumbnail[t+e].height,i.tn.settings.width[n][o[e]]=="auto"&&c<i.tn.settings.height[n][o[e]]&&(l=h/c,r.width[n][o[e]]=h*l,r.height[n][o[e]]=c*l,s=r.url[n][o[e]].substring(0,r.url[n][o[e]].lastIndexOf("/")),s=s.substring(0,s.lastIndexOf("/"))+"/",r.url[n][o[e]]=s+"h"+i.tn.settings.height[n][o[e]]+"/"),i.tn.settings.height[n][o[e]]=="auto"&&h<i.tn.settings.width[n][o[e]]&&(a=c/h,r.height[n][o[e]]=c*a,r.width[n][o[e]]=h*a,s=r.url[n][o[e]].substring(0,r.url[n][o[e]].lastIndexOf("/")),s=s.substring(0,s.lastIndexOf("/"))+"/",r.url[n][o[e]]=s+"w"+i.tn.settings.width[n][o[e]]+"/")):(i.tn.settings.width[n][o[e]]!="auto"||(s=r.url[n][o[e]].substring(0,r.url[n][o[e]].lastIndexOf("/")),s=s.substring(0,s.lastIndexOf("/"))+"/",r.url[n][o[e]]=s+"h"+i.tn.settings.height[n][o[e]]+"/"),i.tn.settings.height[n][o[e]]!="auto"||(s=r.url[n][o[e]].substring(0,r.url[n][o[e]].lastIndexOf("/")),s=s.substring(0,s.lastIndexOf("/"))+"/",r.url[n][o[e]]=s+"w"+i.tn.settings.width[n][o[e]]+"/"));return r}function v(){var t,u,n;i.picasa={thumbSizes:""};t=1;i.tn.opt.l1.crop===!0&&(t=i.O.thumbnailCropScaleFactor);u=1;i.tn.opt.lN.crop===!0&&(u=i.O.thumbnailCropScaleFactor);n=i.tn.settings;i.picasa.thumbSizes=r(i.picasa.thumbSizes,n.width.l1.xs*t*n.mosaic.l1Factor.w.xs,n.height.l1.xs*t*n.mosaic.l1Factor.h.xs,n.width.l1.xsc,n.height.l1.xsc);i.picasa.thumbSizes=r(i.picasa.thumbSizes,n.width.l1.sm*t*n.mosaic.l1Factor.w.sm,n.height.l1.sm*t*n.mosaic.l1Factor.h.sm,n.width.l1.smc,n.height.l1.smc);i.picasa.thumbSizes=r(i.picasa.thumbSizes,n.width.l1.me*t*n.mosaic.l1Factor.w.me,n.height.l1.me*t*n.mosaic.l1Factor.h.me,n.width.l1.mec,n.height.l1.mec);i.picasa.thumbSizes=r(i.picasa.thumbSizes,n.width.l1.la*t*n.mosaic.l1Factor.w.la,n.height.l1.la*t*n.mosaic.l1Factor.h.la,n.width.l1.lac,n.height.l1.lac);i.picasa.thumbSizes=r(i.picasa.thumbSizes,n.width.l1.xl*t*n.mosaic.l1Factor.w.xl,n.height.l1.xl*t*n.mosaic.l1Factor.h.xl,n.width.l1.xlc,n.height.l1.xlc);i.picasa.thumbSizes=r(i.picasa.thumbSizes,n.width.lN.xs*u*n.mosaic.lNFactor.w.xs,n.height.lN.xs*u*n.mosaic.lNFactor.h.xs,n.width.lN.xsc,n.height.lN.xsc);i.picasa.thumbSizes=r(i.picasa.thumbSizes,n.width.lN.sm*u*n.mosaic.lNFactor.w.sm,n.height.lN.sm*u*n.mosaic.lNFactor.h.sm,n.width.lN.smc,n.height.lN.smc);i.picasa.thumbSizes=r(i.picasa.thumbSizes,n.width.lN.me*u*n.mosaic.lNFactor.w.me,n.height.lN.me*u*n.mosaic.lNFactor.h.me,n.width.lN.mec,n.height.lN.mec);i.picasa.thumbSizes=r(i.picasa.thumbSizes,n.width.lN.la*u*n.mosaic.lNFactor.w.la,n.height.lN.la*u*n.mosaic.lNFactor.h.la,n.width.lN.lac,n.height.lN.lac);i.picasa.thumbSizes=r(i.picasa.thumbSizes,n.width.lN.xl*u*n.mosaic.lNFactor.w.xl,n.height.lN.xl*u*n.mosaic.lNFactor.h.xl,n.width.lN.xlc,n.height.lN.xlc)}function r(n,t,r,u,f){var e=Math.ceil(r*i.tn.scale)+f;return isNaN(t)?e=Math.ceil(r*i.tn.scale)+f:isNaN(r)?e=Math.ceil(t*i.tn.scale)+u:t>r&&(e=Math.ceil(t*i.tn.scale)+u),n.length>0&&(n+=","),n+e}var i=n,o,s,h,c;Google={url:function(){return"https://photos.googleapis.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:[32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600],thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 "};o=function(n,t,r,e){var o=Google.url()+"user/"+i.O.userID,v="image",y=NGY2Item.GetIdx(i,n),s="",h,a;i.galleryMaxItems.Get()>0&&(s="&max-results="+i.galleryMaxItems.Get());h="";typeof ngy2_pwa_at!="undefined"&&(h=ngy2_pwa_at);n==0?(h!=""?o+="?alt=json&v=3&kind=album&thumbsize="+i.picasa.thumbSizes+s+"&rnd="+(new Date).getTime()+"&access_token="+h:i.O.google2URL==undefined||i.O.google2URL==""?o+="?alt=json&v=3&kind=album&thumbsize="+i.picasa.thumbSizes+s+"&rnd="+(new Date).getTime():o=i.O.google2URL+"?nguserid="+i.O.userID+"&alt=json&v=3&kind=album&thumbsize="+i.picasa.thumbSizes+s+"&rnd="+(new Date).getTime(),v="album"):(a="",i.I[y].authkey!=""&&(a=i.I[y].authkey),h!=""?o+="/albumid/"+n+"?alt=json&kind=photo&thumbsize="+i.picasa.thumbSizes+s+a+"&imgmax=d&access_token="+h:i.O.google2URL==undefined||i.O.google2URL==""?o+="/albumid/"+n+"?alt=json&v=3&kind=photo&thumbsize="+i.picasa.thumbSizes+s+"&rnd="+(new Date).getTime():o=i.O.google2URL+"?nguserid="+i.O.userID+"&ngalbumid="+n+"&alt=json&v=3&kind=photo&thumbsize="+i.picasa.thumbSizes+s+a+"&imgmax=d");i.O.debugMode&&console.log("Google Photos URL: "+o);u(!0);jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;try{var p=setTimeout(function(){u(!1);f("Could not retrieve AJAX data...")},6e4),k=function(i){clearTimeout(p);u(!1);l(y,v,i);w(n);t!==null&&t!==undefined&&t(r,e,null)},c=null,b=function(n,t){jQuery.getJSON(n+"&start-index="+t+"&callback=?",function(t){if(t.nano_status=="error"){clearTimeout(p);u(!1);f(i,"Could not retrieve Google data. Error: "+t.nano_message);return}c===null?c=t:c.feed.entry=c.feed.entry.concat(t.feed.entry);var r=t.feed.openSearch$startIndex.$t+t.feed.openSearch$itemsPerPage.$t,e=0;e=v=="image"?t.feed.gphoto$numphotos===undefined?t.feed.openSearch$totalResults.$t:t.feed.gphoto$numphotos.$t:t.feed.openSearch$totalResults.$t;r>=e||r>=i.galleryMaxItems.Get()?k(c):b(n,r)}).fail(function(t,r,e){var o,s,h;clearTimeout(p);u(!1);o="";for(s in t)o+=s+"="+t[s]+"<br>";h=r+", "+e+" "+o+"<br><br>URL:"+n;f(i,"Could not retrieve Google data. Error: "+h)})};b(o,1)}catch(d){f(i,"Could not retrieve Google data. Error: "+d)}};s=function(n,t){for(var r=[].concat(n),i=0;i<r.length;i++)a(r[i],t);jQuery(document).dequeue("GoogleAlbumWithAuthkey")};var u=NGY2Tools.PreloaderDisplay.bind(i),f=NGY2Tools.NanoAlert,y=NGY2Tools.GetImageTitleFromURL.bind(i),p=NGY2Tools.FilterAlbumName.bind(i),w=NGY2Tools.AlbumPostProcess.bind(i);switch(t){case"GetHiddenAlbums":h=arguments[2];c=arguments[3];s(h,c);break;case"AlbumGetContent":var b=arguments[2],k=arguments[3],d=arguments[4],g=arguments[5];o(b,k,d,g);break;case"Init":v()}}});
/**!
 * @preserve nanogallery2 - FLICKR data provider
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
*/
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery","nanogallery2"],n):typeof exports=="object"&&typeof require=="function"?n(require(["jquery","nanogallery2"])):n(jQuery)})(function(){jQuery.nanogallery2.data_flickr=function(n,t){function l(n,t,f){i.O.debugMode&&(console.log("Flickr parse photos:"),console.dir(f));jQuery.each(f,function(n,f){var k=f.id,c=f.url_sq,l=f.title,n,w,o,b,e,s,h;i.O.thumbnailLabel.get("title")!=""&&(l=p(c));var d=f.description._content,a=75,v=75,y=r.photoAvailableSizesStr.length-1;for(i.O.flickrSkipOriginal&&y--,n=y;n>=0;n--)if(f["url_"+r.photoAvailableSizesStr[n]]!=undefined){c=f["url_"+r.photoAvailableSizesStr[n]];a=parseInt(f["width_"+r.photoAvailableSizesStr[n]]);v=parseInt(f["height_"+r.photoAvailableSizesStr[n]]);break}w={};for(o in f)(o.indexOf("height_")==0||o.indexOf("width_")==0||o.indexOf("url_")==0)&&(w[o]=f[o]);b=f.tags!==undefined?f.tags:"";e=NGY2Item.New(i,l,d,k,t,"image",b);e.setMediaURL(c,"img");e.imageWidth=a;e.imageHeight=v;s={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};s=u(s,f,"l1");s=u(s,f,"lN");e.thumbs=s;h=i.O.fnProcessData;h!==null&&(typeof h=="function"?h(e,"flickr",f):window[h](e,"flickr",f))});i.I[n].contentIsLoaded=!0}function a(n,t,r){i.O.debugMode&&(console.log("Flickr parse list of albums:"),console.dir(r));jQuery.each(r,function(n,r){var c=r.title._content,s,h,f,e,o;if(r.visibility_can_see_set==0)return!0;if(w(c,r.id)){var a=r.id,v=r.description._content!=undefined?r.description._content:"",l={};for(s in r.primary_photo_extras)l[s]=r.primary_photo_extras[s];h="";r.primary_photo_extras!==undefined&&r.primary_photo_extras.tags!==undefined&&(h=r.primary_photo_extras.tags);f=NGY2Item.New(i,c,v,a,t,"album",h);f.numberItems=r.photos;f.thumbSizes=l;e={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};e=u(e,r.primary_photo_extras,"l1");e=u(e,r.primary_photo_extras,"lN");f.thumbs=e;o=i.O.fnProcessData;o!==null&&(typeof o=="function"?o(f,"flickr",r):window[o](f,"flickr",r))}});i.I[n].contentIsLoaded=!0}function u(n,t,r){var s=1,f,u,h,c,e;for(i.tn.opt[r].crop===!0&&(s=i.O.thumbnailCropScaleFactor),f=["xs","sm","me","la","xl"],u=0;u<f.length;u++)if(i.tn.settings.width[r][f[u]]=="auto"||i.tn.settings.width[r][f[u]]==""){var h="height_",c=Math.ceil(i.tn.settings.height[r][f[u]]*i.tn.scale*s*i.tn.settings.mosaic[r+"Factor"].h[f[u]]),e=o(h,c,t);n.url[r][f[u]]=e.url;n.width[r][f[u]]=e.width;n.height[r][f[u]]=e.height}else if(i.tn.settings.height[r][f[u]]=="auto"||i.tn.settings.height[r][f[u]]==""){var h="width_",c=Math.ceil(i.tn.settings.width[r][f[u]]*i.tn.scale*s*i.tn.settings.mosaic[r+"Factor"].w[f[u]]),e=o(h,c,t);n.url[r][f[u]]=e.url;n.width[r][f[u]]=e.width;n.height[r][f[u]]=e.height}else h="height_",c=Math.ceil(i.tn.settings.height[r][f[u]]*i.tn.scale*s*i.tn.settings.mosaic[r+"Factor"].h[f[u]]),i.tn.settings.width[r][f[u]]>i.tn.settings.height[r][f[u]]&&(h="width_",c=Math.ceil(i.tn.settings.width[r][f[u]]*i.tn.scale*s*i.tn.settings.mosaic[r+"Factor"].w[f[u]])),e=o(h,c,t),n.url[r][f[u]]=e.url,n.width[r][f[u]]=e.width,n.height[r][f[u]]=e.height;return n}function o(n,t,i){for(var o,e,u={url:"",width:0,height:0},s=0,f=0;f<r.thumbAvailableSizes.length;f++)if(o=i[n+r.photoAvailableSizesStr[f]],o!=undefined&&(s=f,o>=t))break;return e=r.photoAvailableSizesStr[s],u.url=i["url_"+e],u.width=parseInt(i["width_"+e]),u.height=parseInt(i["height_"+e]),u}function y(){return}var i=n,r={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"               sq",thumbAvailableSizes:[75,100,150,240,500,640],thumbAvailableSizesStr:["sq","t","q","s","m","z"],photoSize:"0",photoAvailableSizes:[75,100,150,240,500,640,1024,1024,1600,2048,1e4],photoAvailableSizesStr:["sq","t","q","s","m","z","b","l","h","k","o"],ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},c=function(n,t,u,o){var h=NGY2Item.GetIdx(i,n),c="",v="image";i.O.photoset.toUpperCase()=="NONE"||i.O.album.toUpperCase()=="NONE"?c=r.url()+"?&method=flickr.people.getPublicPhotos&api_key="+r.ApiKey+"&user_id="+i.O.userID+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json":i.I[h].GetID()==0?(c=r.url()+"?&method=flickr.photosets.getList&api_key="+r.ApiKey+"&user_id="+i.O.userID+"&per_page=500&primary_photo_extras=tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json",v="album"):c=r.url()+"?&method=flickr.photosets.getPhotos&api_key="+r.ApiKey+"&photoset_id="+i.I[h].GetID()+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json";i.O.debugMode&&console.log("Flickr URL: "+c);f(!0);jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;var y=setTimeout(function(){f(!1);e(i,"Could not retrieve AJAX data...")},6e4),s=[],w=function(){clearTimeout(y);f(!1);v=="album"?a(h,n,s):l(h,n,s);b(n);t!==null&&t!==undefined&&t(u,o,null)},p=function(n,t){jQuery.getJSON(n+"&page="+t+"&jsoncallback=?",function(r){var u=0;if(v=="album"){if(r.stat!==undefined&&r.stat==="fail")return e(i,"Could not retrieve Flickr album list: "+r.message+" (code: "+r.code+")."),!1;s=s.concat(r.photosets.photoset);u=r.photosets.pages}else if(i.O.photoset.toUpperCase()=="NONE"||i.O.album.toUpperCase()=="NONE")s=s.concat(r.photos.photo),u=r.photos.pages;else{if(r.stat!==undefined&&r.stat==="fail")return e(i,"Could not retrieve Flickr album: "+r.message+" (code: "+r.code+")."),!1;i.I[h].title==""&&(i.I[h].title=r.photoset.title);s=s.concat(r.photoset.photo);u=r.photoset.pages}u>t?p(n,t+1):w()}).fail(function(n,t,r){clearTimeout(y);f(!1);e(i,"Could not retrieve Flickr ajax data: "+t+", "+r)})};p(c,1)},v=function(n,t){t()},f=NGY2Tools.PreloaderDisplay.bind(i),e=NGY2Tools.NanoAlert,p=NGY2Tools.GetImageTitleFromURL.bind(i),w=NGY2Tools.FilterAlbumName.bind(i),b=NGY2Tools.AlbumPostProcess.bind(i),h,s;switch(t){case"GetHiddenAlbums":h=arguments[2];s=arguments[3];v(h,s);break;case"AlbumGetContent":var k=arguments[2],s=arguments[3],d=arguments[4],g=arguments[5];c(k,s,d,g);break;case"Init":y()}}});